/*! For license information please see main.407eceec.js.LICENSE.txt */
!function(){var e={757:function(e,t,n){e.exports=n(727)},694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var o=i.apply(null,n);o&&e.push(o)}}else if("object"===a)if(n.toString===Object.prototype.toString)for(var u in n)r.call(n,u)&&n[u]&&e.push(u);else e.push(n.toString())}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},176:function(e){"use strict";e.exports=function(e,t,n,r,i,a,o,u){if(!e){var s;if(void 0===t)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,a,o,u],l=0;(s=new Error(t.replace(/%s/g,(function(){return c[l++]})))).name="Invariant Violation"}throw s.framesToPop=1,s}}},573:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];function r(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=null;return t.forEach((function(e){if(null==i){var t=e.apply(void 0,n);null!=t&&(i=t)}})),i}return(0,a.default)(r)};var r,i=n(54),a=(r=i)&&r.__esModule?r:{default:r};e.exports=t.default},54:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(t,n,r,i,a,o){var u=i||"<<anonymous>>",s=o||r;if(null==n[r])return t?new Error("Required "+a+" `"+s+"` was not specified in `"+u+"`."):null;for(var c=arguments.length,l=Array(c>6?c-6:0),f=6;f<c;f++)l[f-6]=arguments[f];return e.apply(void 0,[n,r,u,a,s].concat(l))}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n},e.exports=t.default},888:function(e,t,n){"use strict";var r=n(47);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var M,F=Object.assign;function j(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function B(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case x:return"Portal";case I:return"Profiler";case E:return"StrictMode";case N:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case D:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function K(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function H(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=K(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function J(e,t){X(e,t);var n=K(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,K(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+K(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:K(n)}}function ae(e,t){var n=K(t.value),r=K(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,_e=null,Ee=null;function Ie(e){if(e=ki(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function Se(e){_e?Ee?Ee.push(e):Ee=[e]:_e=e}function Te(){if(_e){var e=_e,t=Ee;if(Ee=_e=null,Ie(e),t)for(e=0;e<t.length;e++)Ie(t[e])}}function Ce(e,t){return e(t)}function Ne(){}var Ae=!1;function De(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ce(e,t,n)}finally{Ae=!1,(null!==_e||null!==Ee)&&(Ne(),Te())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Re=!1;if(l)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(le){Re=!1}function Le(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,Fe=null,je=!1,Ue=null,Ve={onError:function(e){Me=!0,Fe=e}};function Be(e,t,n,r,i,a,o,u,s){Me=!1,Fe=null,Le.apply(Ve,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ke(e){if(ze(e)!==e)throw Error(a(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ke(i),e;if(o===r)return Ke(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var He=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,$e=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,_t,Et,It,St=!1,Tt=[],Ct=null,Nt=null,At=null,Dt=new Map,Pt=new Map,Rt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Dt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=gi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void It(e.priority,(function(){_t(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ut(e,t,n){jt(e)&&n.delete(t)}function Vt(){St=!1,null!==Ct&&jt(Ct)&&(Ct=null),null!==Nt&&jt(Nt)&&(Nt=null),null!==At&&jt(At)&&(At=null),Dt.forEach(Ut),Pt.forEach(Ut)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function zt(e){function t(t){return Bt(t,e)}if(0<Tt.length){Bt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Bt(Ct,e),null!==Nt&&Bt(Nt,e),null!==At&&Bt(At,e),Dt.forEach(t),Pt.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Rt.shift()}var qt=b.ReactCurrentBatchConfig,Kt=!0;function Wt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=1,Ht(e,t,n,r)}finally{kt=i,qt.transition=a}}function Gt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=4,Ht(e,t,n,r)}finally{kt=i,qt.transition=a}}function Ht(e,t,n,r){if(Kt){var i=Yt(e,t,n,r);if(null===i)Kr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Mt(Ct,e,t,n,r,i),!0;case"dragenter":return Nt=Mt(Nt,e,t,n,r,i),!0;case"mouseover":return At=Mt(At,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Dt.set(a,Mt(Dt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Pt.set(a,Mt(Pt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&wt(a),null===(a=Yt(e,t,n,r))&&Kr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Kr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=gi(e=we(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=F({},cn,{view:0,detail:0}),hn=an(fn),dn=F({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:In,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),pn=an(dn),vn=an(F({},dn,{dataTransfer:0})),mn=an(F({},fn,{relatedTarget:0})),yn=an(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(gn),bn=an(F({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function In(){return En}var Sn=F({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:In,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(Sn),Cn=an(F({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=an(F({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:In})),An=an(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=F({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=an(Dn),Rn=[9,13,27,32],On=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Mn=l&&"TextEvent"in window&&!Ln,Fn=l&&(!On||Ln&&8<Ln&&11>=Ln),jn=String.fromCharCode(32),Un=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Wn(e,t,n,r){Se(r),0<(t=Gr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Hn=null;function Qn(e){jr(e,0)}function Yn(e){if(H(bi(e)))return e}function $n(e,t){if("change"===e)return t}var Xn=!1;if(l){var Jn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Hn=Gn=null)}function nr(e){if("value"===e.propertyName&&Yn(Hn)){var t=[];Wn(t,Hn,e,we(e)),De(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Hn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Hn)}function ar(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Gr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},_r={},Er={};function Ir(e){if(_r[e])return _r[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return _r[e]=n[t];return e}l&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Sr=Ir("animationend"),Tr=Ir("animationiteration"),Cr=Ir("animationstart"),Nr=Ir("transitionend"),Ar=new Map,Dr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Ar.set(e,t),s(t,[e])}for(var Rr=0;Rr<Dr.length;Rr++){var Or=Dr[Rr];Pr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Pr(Sr,"onAnimationEnd"),Pr(Tr,"onAnimationIteration"),Pr(Cr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Nr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(Be.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=Fe;Me=!1,Fe=null,je||(je=!0,Ue=l)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}}}if(je)throw e=Ue,je=!1,Ue=null,e}function Ur(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Br]){e[Br]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Vr("selectionchange",!1,t))}}function qr(e,t,n,r){switch($t(t)){case 1:var i=Wt;break;case 4:i=Gt;break;default:i=Ht}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Kr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=gi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}De((function(){var r=a,i=we(n),o=[];e:{var u=Ar.get(e);if(void 0!==u){var s=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=Tn;break;case"focusin":c="focus",s=mn;break;case"focusout":c="blur",s=mn;break;case"beforeblur":case"afterblur":s=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Nn;break;case Sr:case Tr:case Cr:s=yn;break;case Nr:s=An;break;case"scroll":s=hn;break;case"wheel":s=Pn;break;case"copy":case"cut":case"paste":s=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Cn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Pe(p,h))&&l.push(Wr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:bi(s),d=null==c?u:bi(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Hr(d))p++;for(d=0,v=h;v;v=Hr(v))d++;for(;0<p-d;)l=Hr(l),p--;for(;0<d-p;)h=Hr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Hr(l),h=Hr(h)}l=null}else l=null;null!==s&&Qr(o,u,s,l,!1),null!==c&&null!==f&&Qr(o,f,c,l,!0)}if("select"===(s=(u=r?bi(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=$n;else if(Kn(u))if(Xn)m=or;else{m=ir;var y=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=ar);switch(m&&(m=m(e,r))?Wn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ee(u,"number",u.value)),y=r?bi(r):window,e){case"focusin":(Kn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var g;if(On)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else zn?Vn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Fn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==k?"onCompositionEnd"===k&&zn&&(g=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,zn=!0)),0<(y=Gr(r,k)).length&&(k=new bn(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=Bn(n))&&(k.data=g))),(g=Mn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Un=!0,jn);case"textInput":return(e=t.data)===jn&&Un?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!On&&Vn(e,t)?(e=en(),Zt=Jt=Xt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}jr(o,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Pe(e,n))&&r.unshift(Wr(e,a,i)),null!=(a=Pe(e,t))&&r.push(Wr(e,a,i))),e=e.return}return r}function Hr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Pe(n,a))&&o.unshift(Wr(n,s,u)):i||null!=(s=Pe(n,a))&&o.push(Wr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace($r,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var xi=[],_i=-1;function Ei(e){return{current:e}}function Ii(e){0>_i||(e.current=xi[_i],xi[_i]=null,_i--)}function Si(e,t){_i++,xi[_i]=e.current,e.current=t}var Ti={},Ci=Ei(Ti),Ni=Ei(!1),Ai=Ti;function Di(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ri(){Ii(Ni),Ii(Ci)}function Oi(e,t,n){if(Ci.current!==Ti)throw Error(a(168));Si(Ci,t),Si(Ni,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return F({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ai=Ci.current,Si(Ci,e),Si(Ni,Ni.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,Ii(Ni),Ii(Ci),Si(Ci,e)):Ii(Ni),Si(Ni,n)}var ji=null,Ui=!1,Vi=!1;function Bi(e){null===ji?ji=[e]:ji.push(e)}function zi(){if(!Vi&&null!==ji){Vi=!0;var e=0,t=kt;try{var n=ji;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,Ui=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),He(Ze,zi),i}finally{kt=t,Vi=!1}}return null}var qi=b.ReactCurrentBatchConfig;function Ki(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Wi=Ei(null),Gi=null,Hi=null,Qi=null;function Yi(){Qi=Hi=Gi=null}function $i(e){var t=Wi.current;Ii(Wi),e._currentValue=t}function Xi(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ji(e,t){Gi=e,Qi=Hi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(wu=!0),e.firstContext=null)}function Zi(e){var t=e._currentValue;if(Qi!==e)if(e={context:e,memoizedValue:t,next:null},null===Hi){if(null===Gi)throw Error(a(308));Hi=e,Gi.dependencies={lanes:0,firstContext:e}}else Hi=Hi.next=e;return t}var ea=null,ta=!1;function na(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ra(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ia(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function aa(e,t){var n=e.updateQueue;null!==n&&(n=n.shared,tc(e)?(null===(e=n.interleaved)?(t.next=t,null===ea?ea=[n]:ea.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(null===(e=n.pending)?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function oa(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function ua(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function sa(e,t,n,r){var i=e.updateQueue;ta=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=F({},f,h);break e;case 2:ta=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=d,s=f):l=l.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Rs|=o,e.lanes=o,e.memoizedState=f}}function ca(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var la=(new r.Component).refs;function fa(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ha={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Xs(),i=Js(e),a=ia(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),aa(e,a),null!==(t=Zs(e,i,r))&&oa(t,e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Xs(),i=Js(e),a=ia(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),aa(e,a),null!==(t=Zs(e,i,r))&&oa(t,e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Xs(),r=Js(e),i=ia(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),aa(e,i),null!==(t=Zs(e,r,n))&&oa(t,e,r)}};function da(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function pa(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=Zi(a):(i=Pi(t)?Ai:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Di(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ha,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function va(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ha.enqueueReplaceState(t,t.state,null)}function ma(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=la,na(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Zi(a):(a=Pi(t)?Ai:Ci.current,i.context=Di(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(fa(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ha.enqueueReplaceState(i,i.state,null),sa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}var ya=[],ga=0,ka=null,ba=0,wa=[],xa=0,_a=null,Ea=1,Ia="";function Sa(e,t){ya[ga++]=ba,ya[ga++]=ka,ka=e,ba=t}function Ta(e,t,n){wa[xa++]=Ea,wa[xa++]=Ia,wa[xa++]=_a,_a=e;var r=Ea;e=Ia;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ea=1<<32-ot(t)+i|n<<i|r,Ia=a+e}else Ea=1<<a|n<<i|r,Ia=e}function Ca(e){null!==e.return&&(Sa(e,1),Ta(e,1,0))}function Na(e){for(;e===ka;)ka=ya[--ga],ya[ga]=null,ba=ya[--ga],ya[ga]=null;for(;e===_a;)_a=wa[--xa],wa[xa]=null,Ia=wa[--xa],wa[xa]=null,Ea=wa[--xa],wa[xa]=null}var Aa=null,Da=null,Pa=!1,Ra=null;function Oa(e,t){var n=Ac(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function La(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,Aa=e,Da=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,Aa=e,Da=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==_a?{id:Ea,overflow:Ia}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ac(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Aa=e,Da=null,!0);default:return!1}}function Ma(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function Fa(e){if(Pa){var t=Da;if(t){var n=t;if(!La(e,t)){if(Ma(e))throw Error(a(418));t=ci(n.nextSibling);var r=Aa;t&&La(e,t)?Oa(r,n):(e.flags=-4097&e.flags|2,Pa=!1,Aa=e)}}else{if(Ma(e))throw Error(a(418));e.flags=-4097&e.flags|2,Pa=!1,Aa=e}}}function ja(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Aa=e}function Ua(e){if(e!==Aa)return!1;if(!Pa)return ja(e),Pa=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=Da)){if(Ma(e)){for(e=Da;e;)e=ci(e.nextSibling);throw Error(a(418))}for(;t;)Oa(e,t),t=ci(t.nextSibling)}if(ja(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Da=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Da=null}}else Da=Aa?ci(e.stateNode.nextSibling):null;return!0}function Va(){Da=Aa=null,Pa=!1}function Ba(e){null===Ra?Ra=[e]:Ra.push(e)}function za(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===la&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function qa(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ka(e){return(0,e._init)(e._payload)}function Wa(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Pc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Mc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===_?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===P&&Ka(a)===t.type)?((r=i(t,n.props)).ref=za(e,t,n),r.return=e,r):((r=Rc(n.type,n.key,n.props,null,e.mode,r)).ref=za(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Oc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Mc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Rc(t.type,t.key,t.props,null,e.mode,n)).ref=za(e,null,t),n.return=e,n;case x:return(t=Fc(t,e.mode,n)).return=e,t;case P:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Oc(t,e.mode,n,null)).return=e,t;qa(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case P:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);qa(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);qa(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),Pa&&Sa(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return Pa&&Sa(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),Pa&&Sa(i,v),c}function m(i,u,s,c){var l=L(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),u=o(k,u,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),Pa&&Sa(i,m),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,c))&&(u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return Pa&&Sa(i,m),l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),Pa&&Sa(i,m),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===_&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===_){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&Ka(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=za(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===_?((a=Oc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Rc(o.type,o.key,o.props,null,r.mode,s)).ref=za(r,a,o),s.return=r,r=s)}return u(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Fc(o,r.mode,s)).return=r,r=a}return u(r);case P:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(L(o))return m(r,a,o,s);qa(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Mc(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var Ga=Wa(!0),Ha=Wa(!1),Qa={},Ya=Ei(Qa),$a=Ei(Qa),Xa=Ei(Qa);function Ja(e){if(e===Qa)throw Error(a(174));return e}function Za(e,t){switch(Si(Xa,t),Si($a,e),Si(Ya,Qa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ii(Ya),Si(Ya,t)}function eo(){Ii(Ya),Ii($a),Ii(Xa)}function to(e){Ja(Xa.current);var t=Ja(Ya.current),n=se(t,e.type);t!==n&&(Si($a,e),Si(Ya,n))}function no(e){$a.current===e&&(Ii(Ya),Ii($a))}var ro=Ei(0);function io(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ao=[];function oo(){for(var e=0;e<ao.length;e++)ao[e]._workInProgressVersionPrimary=null;ao.length=0}var uo=b.ReactCurrentDispatcher,so=b.ReactCurrentBatchConfig,co=0,lo=null,fo=null,ho=null,po=!1,vo=!1,mo=0,yo=0;function go(){throw Error(a(321))}function ko(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function bo(e,t,n,r,i,o){if(co=o,lo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,uo.current=null===e||null===e.memoizedState?ru:iu,e=n(r,i),vo){o=0;do{if(vo=!1,mo=0,25<=o)throw Error(a(301));o+=1,ho=fo=null,t.updateQueue=null,uo.current=au,e=n(r,i)}while(vo)}if(uo.current=nu,t=null!==fo&&null!==fo.next,co=0,ho=fo=lo=null,po=!1,t)throw Error(a(300));return e}function wo(){var e=0!==mo;return mo=0,e}function xo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ho?lo.memoizedState=ho=e:ho=ho.next=e,ho}function _o(){if(null===fo){var e=lo.alternate;e=null!==e?e.memoizedState:null}else e=fo.next;var t=null===ho?lo.memoizedState:ho.next;if(null!==t)ho=t,fo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(fo=e).memoizedState,baseState:fo.baseState,baseQueue:fo.baseQueue,queue:fo.queue,next:null},null===ho?lo.memoizedState=ho=e:ho=ho.next=e}return ho}function Eo(e,t){return"function"===typeof t?t(e):t}function Io(e){var t=_o(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=fo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((co&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,u=r):c=c.next=h,lo.lanes|=f,Rs|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ur(r,t.memoizedState)||(wu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,lo.lanes|=o,Rs|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function So(e){var t=_o(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ur(o,t.memoizedState)||(wu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function To(){}function Co(e,t){var n=lo,r=_o(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,wu=!0),r=r.queue,Uo(Do.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==ho&&1&ho.memoizedState.tag){if(n.flags|=2048,Oo(9,Ao.bind(null,n,r,i,t),void 0,null),null===Ss)throw Error(a(349));0!==(30&co)||No(n,t,i)}return i}function No(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=lo.updateQueue)?(t={lastEffect:null,stores:null},lo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ao(e,t,n,r){t.value=n,t.getSnapshot=r,Po(t)&&Zs(e,1,-1)}function Do(e,t,n){return n((function(){Po(t)&&Zs(e,1,-1)}))}function Po(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function Ro(e){var t=xo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Eo,lastRenderedState:e},t.queue=e,e=e.dispatch=Xo.bind(null,lo,e),[t.memoizedState,e]}function Oo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=lo.updateQueue)?(t={lastEffect:null,stores:null},lo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Lo(){return _o().memoizedState}function Mo(e,t,n,r){var i=xo();lo.flags|=e,i.memoizedState=Oo(1|t,n,void 0,void 0===r?null:r)}function Fo(e,t,n,r){var i=_o();r=void 0===r?null:r;var a=void 0;if(null!==fo){var o=fo.memoizedState;if(a=o.destroy,null!==r&&ko(r,o.deps))return void(i.memoizedState=Oo(t,n,a,r))}lo.flags|=e,i.memoizedState=Oo(1|t,n,a,r)}function jo(e,t){return Mo(8390656,8,e,t)}function Uo(e,t){return Fo(2048,8,e,t)}function Vo(e,t){return Fo(4,2,e,t)}function Bo(e,t){return Fo(4,4,e,t)}function zo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Fo(4,4,zo.bind(null,t,e),n)}function Ko(){}function Wo(e,t){var n=_o();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ko(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Go(e,t){var n=_o();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ko(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ho(e,t,n){return 0===(21&co)?(e.baseState&&(e.baseState=!1,wu=!0),e.memoizedState=n):(ur(n,t)||(n=vt(),lo.lanes|=n,Rs|=n,e.baseState=!0),t)}function Qo(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=so.transition;so.transition={};try{e(!1),t()}finally{kt=n,so.transition=r}}function Yo(){return _o().memoizedState}function $o(e,t,n){var r=Js(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Jo(e)?Zo(t,n):(eu(e,t,n),null!==(e=Zs(e,r,n=Xs()))&&tu(e,t,r))}function Xo(e,t,n){var r=Js(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Jo(e))Zo(t,i);else{eu(e,t,i);var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,o))return}catch(s){}null!==(e=Zs(e,r,n=Xs()))&&tu(e,t,r)}}function Jo(e){var t=e.alternate;return e===lo||null!==t&&t===lo}function Zo(e,t){vo=po=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function eu(e,t,n){tc(e)?(null===(e=t.interleaved)?(n.next=n,null===ea?ea=[t]:ea.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(null===(e=t.pending)?n.next=n:(n.next=e.next,e.next=n),t.pending=n)}function tu(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var nu={readContext:Zi,useCallback:go,useContext:go,useEffect:go,useImperativeHandle:go,useInsertionEffect:go,useLayoutEffect:go,useMemo:go,useReducer:go,useRef:go,useState:go,useDebugValue:go,useDeferredValue:go,useTransition:go,useMutableSource:go,useSyncExternalStore:go,useId:go,unstable_isNewReconciler:!1},ru={readContext:Zi,useCallback:function(e,t){return xo().memoizedState=[e,void 0===t?null:t],e},useContext:Zi,useEffect:jo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Mo(4194308,4,zo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Mo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Mo(4,2,e,t)},useMemo:function(e,t){var n=xo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=xo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=$o.bind(null,lo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},xo().memoizedState=e},useState:Ro,useDebugValue:Ko,useDeferredValue:function(e){return xo().memoizedState=e},useTransition:function(){var e=Ro(!1),t=e[0];return e=Qo.bind(null,e[1]),xo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=lo,i=xo();if(Pa){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Ss)throw Error(a(349));0!==(30&co)||No(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,jo(Do.bind(null,r,o,e),[e]),r.flags|=2048,Oo(9,Ao.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=xo(),t=Ss.identifierPrefix;if(Pa){var n=Ia;t=":"+t+"R"+(n=(Ea&~(1<<32-ot(Ea)-1)).toString(32)+n),0<(n=mo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=yo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},iu={readContext:Zi,useCallback:Wo,useContext:Zi,useEffect:Uo,useImperativeHandle:qo,useInsertionEffect:Vo,useLayoutEffect:Bo,useMemo:Go,useReducer:Io,useRef:Lo,useState:function(){return Io(Eo)},useDebugValue:Ko,useDeferredValue:function(e){return Ho(_o(),fo.memoizedState,e)},useTransition:function(){return[Io(Eo)[0],_o().memoizedState]},useMutableSource:To,useSyncExternalStore:Co,useId:Yo,unstable_isNewReconciler:!1},au={readContext:Zi,useCallback:Wo,useContext:Zi,useEffect:Uo,useImperativeHandle:qo,useInsertionEffect:Vo,useLayoutEffect:Bo,useMemo:Go,useReducer:So,useRef:Lo,useState:function(){return So(Eo)},useDebugValue:Ko,useDeferredValue:function(e){var t=_o();return null===fo?t.memoizedState=e:Ho(t,fo.memoizedState,e)},useTransition:function(){return[So(Eo)[0],_o().memoizedState]},useMutableSource:To,useSyncExternalStore:Co,useId:Yo,unstable_isNewReconciler:!1};function ou(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function uu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var su,cu,lu,fu="function"===typeof WeakMap?WeakMap:Map;function hu(e,t,n){(n=ia(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Bs||(Bs=!0,zs=r),uu(0,t)},n}function du(e,t,n){(n=ia(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){uu(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){uu(0,t),"function"!==typeof r&&(null===qs?qs=new Set([this]):qs.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function pu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fu;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ec.bind(null,e,t,n),t.then(e,e))}function vu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function mu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=ia(-1,1)).tag=2,aa(n,t))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}function yu(e,t){if(!Pa)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function gu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function ku(e,t,n){var r=t.pendingProps;switch(Na(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gu(t),null;case 1:case 17:return Pi(t.type)&&Ri(),gu(t),null;case 3:return r=t.stateNode,eo(),Ii(Ni),Ii(Ci),oo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ua(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Ra&&(ac(Ra),Ra=null))),gu(t),null;case 5:no(t);var i=Ja(Xa.current);if(n=t.type,null!==e&&null!=t.stateNode)cu(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return gu(t),null}if(e=Ja(Ya.current),Ua(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":$(r,o),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",r);break;case"textarea":ie(r,o),Ur("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&Ur("scroll",r)}switch(n){case"input":G(r),Z(r,o,!0);break;case"textarea":G(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[hi]=t,e[di]=r,su(e,t),t.stateNode=e;e:{switch(s=ke(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":$(e,r),i=Y(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Ur("scroll",e):null!=l&&k(e,o,l,s))}switch(n){case"input":G(e),Z(e,r,!1);break;case"textarea":G(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+K(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return gu(t),null;case 6:if(e&&null!=t.stateNode)lu(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=Ja(Xa.current),Ja(Ya.current),Ua(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=Aa))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return gu(t),null;case 13:if(Ii(ro),r=t.memoizedState,Pa&&null!==Da&&0!==(1&t.mode)&&0===(128&t.flags)){for(r=Da;r;)r=ci(r.nextSibling);return Va(),t.flags|=98560,t}if(null!==r&&null!==r.dehydrated){if(r=Ua(t),null===e){if(!r)throw Error(a(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(a(317));r[hi]=t}else Va(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;return gu(t),null}return null!==Ra&&(ac(Ra),Ra=null),0!==(128&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?Ua(t):n=null!==e.memoizedState,r!==n&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ro.current)?0===Ds&&(Ds=3):pc())),null!==t.updateQueue&&(t.flags|=4),gu(t),null);case 4:return eo(),null===e&&zr(t.stateNode.containerInfo),gu(t),null;case 10:return $i(t.type._context),gu(t),null;case 19:if(Ii(ro),null===(o=t.memoizedState))return gu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)yu(o,!1);else{if(0!==Ds||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=io(e))){for(t.flags|=128,yu(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Si(ro,1&ro.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>Us&&(t.flags|=128,r=!0,yu(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=io(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),yu(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!Pa)return gu(t),null}else 2*Xe()-o.renderingStartTime>Us&&1073741824!==n&&(t.flags|=128,r=!0,yu(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=ro.current,Si(ro,r?1&n|2:1&n),t):(gu(t),null);case 22:case 23:return lc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ns)&&(gu(t),6&t.subtreeFlags&&(t.flags|=8192)):gu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}su=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},cu=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Ja(Ya.current);var a,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Ur("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},lu=function(e,t,n,r){n!==r&&(t.flags|=4)};var bu=b.ReactCurrentOwner,wu=!1;function xu(e,t,n,r){t.child=null===e?Ha(t,null,n,r):Ga(t,e.child,n,r)}function _u(e,t,n,r,i){n=n.render;var a=t.ref;return Ji(t,i),r=bo(e,t,n,r,a,i),n=wo(),null===e||wu?(Pa&&n&&Ca(t),t.flags|=1,xu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ku(e,t,i))}function Eu(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Dc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Rc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Iu(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return Ku(e,t,i)}return t.flags|=1,(e=Pc(a,r)).ref=t.ref,e.return=t,t.child=e}function Iu(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(wu=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Ku(e,t,i);0!==(131072&e.flags)&&(wu=!0)}}return Cu(e,t,n,r,i)}function Su(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Si(As,Ns),Ns|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Si(As,Ns),Ns|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Si(As,Ns),Ns|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Si(As,Ns),Ns|=r;return xu(e,t,i,n),t.child}function Tu(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Cu(e,t,n,r,i){var a=Pi(n)?Ai:Ci.current;return a=Di(t,a),Ji(t,i),n=bo(e,t,n,r,a,i),r=wo(),null===e||wu?(Pa&&r&&Ca(t),t.flags|=1,xu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ku(e,t,i))}function Nu(e,t,n,r,i){if(Pi(n)){var a=!0;Mi(t)}else a=!1;if(Ji(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),pa(t,n,r),ma(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Zi(c):c=Di(t,c=Pi(n)?Ai:Ci.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&va(t,o,r,c),ta=!1;var h=t.memoizedState;o.state=h,sa(t,r,o,i),s=t.memoizedState,u!==r||h!==s||Ni.current||ta?("function"===typeof l&&(fa(t,n,l,r),s=t.memoizedState),(u=ta||da(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,ra(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:Ki(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Zi(s):s=Di(t,s=Pi(n)?Ai:Ci.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&va(t,o,r,s),ta=!1,h=t.memoizedState,o.state=h,sa(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||Ni.current||ta?("function"===typeof d&&(fa(t,n,d,r),p=t.memoizedState),(c=ta||da(t,n,c,r,h,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Au(e,t,n,r,a,i)}function Au(e,t,n,r,i,a){Tu(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Ku(e,t,a);r=t.stateNode,bu.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ga(t,e.child,null,a),t.child=Ga(t,null,u,a)):xu(e,t,u,a),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Du(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),Za(e,t.containerInfo)}function Pu(e,t,n,r,i){return Va(),Ba(i),t.flags|=256,xu(e,t,n,r),t.child}var Ru={dehydrated:null,treeContext:null,retryLane:0};function Ou(e){return{baseLanes:e,cachePool:null,transitions:null}}function Lu(e,t){return{baseLanes:e.baseLanes|t,cachePool:null,transitions:e.transitions}}function Mu(e,t,n){var r,i=t.pendingProps,o=ro.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Si(ro,1&o),null===e)return Fa(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(o=i.children,e=i.fallback,u?(i=t.mode,u=t.child,o={mode:"hidden",children:o},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=o):u=Lc(o,i,0,null),e=Oc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Ou(n),t.memoizedState=Ru,e):Fu(t,o));if(null!==(o=e.memoizedState)){if(null!==(r=o.dehydrated)){if(s)return 256&t.flags?(t.flags&=-257,Vu(e,t,n,Error(a(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(u=i.fallback,o=t.mode,i=Lc({mode:"visible",children:i.children},o,0,null),(u=Oc(u,o,n,null)).flags|=2,i.return=t,u.return=t,i.sibling=u,t.child=i,0!==(1&t.mode)&&Ga(t,e.child,null,n),t.child.memoizedState=Ou(n),t.memoizedState=Ru,u);if(0===(1&t.mode))t=Vu(e,t,n,null);else if("$!"===r.data)t=Vu(e,t,n,Error(a(419)));else if(i=0!==(n&e.childLanes),wu||i){if(null!==(i=Ss)){switch(n&-n){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}0!==(i=0!==(u&(i.suspendedLanes|n))?0:u)&&i!==o.retryLane&&(o.retryLane=i,Zs(e,i,-1))}pc(),t=Vu(e,t,n,Error(a(421)))}else"$?"===r.data?(t.flags|=128,t.child=e.child,t=Sc.bind(null,e),r._reactRetry=t,t=null):(n=o.treeContext,Da=ci(r.nextSibling),Aa=t,Pa=!0,Ra=null,null!==n&&(wa[xa++]=Ea,wa[xa++]=Ia,wa[xa++]=_a,Ea=n.id,Ia=n.overflow,_a=t),(t=Fu(t,t.pendingProps.children)).flags|=4096);return t}return u?(i=Uu(e,t,i.children,i.fallback,n),u=t.child,o=e.child.memoizedState,u.memoizedState=null===o?Ou(n):Lu(o,n),u.childLanes=e.childLanes&~n,t.memoizedState=Ru,i):(n=ju(e,t,i.children,n),t.memoizedState=null,n)}return u?(i=Uu(e,t,i.children,i.fallback,n),u=t.child,o=e.child.memoizedState,u.memoizedState=null===o?Ou(n):Lu(o,n),u.childLanes=e.childLanes&~n,t.memoizedState=Ru,i):(n=ju(e,t,i.children,n),t.memoizedState=null,n)}function Fu(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function ju(e,t,n,r){var i=e.child;return e=i.sibling,n=Pc(i,{mode:"visible",children:n}),0===(1&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n}function Uu(e,t,n,r,i){var a=t.mode,o=(e=e.child).sibling,u={mode:"hidden",children:n};return 0===(1&a)&&t.child!==e?((n=t.child).childLanes=0,n.pendingProps=u,t.deletions=null):(n=Pc(e,u)).subtreeFlags=14680064&e.subtreeFlags,null!==o?r=Pc(o,r):(r=Oc(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function Vu(e,t,n,r){return null!==r&&Ba(r),Ga(t,e.child,null,n),(e=Fu(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Xi(e.return,t,n)}function zu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function qu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(xu(e,t,r.children,n),0!==(2&(r=ro.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bu(e,n,t);else if(19===e.tag)Bu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Si(ro,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===io(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===io(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zu(t,!0,n,null,a);break;case"together":zu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ku(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Rs|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Pc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Pc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Wu(e,t){switch(Na(t),t.tag){case 1:return Pi(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return eo(),Ii(Ni),Ii(Ci),oo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return no(t),null;case 13:if(Ii(ro),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));Va()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ii(ro),null;case 4:return eo(),null;case 10:return $i(t.type._context),null;case 22:case 23:return lc(),null;default:return null}}var Gu=!1,Hu=!1,Qu="function"===typeof WeakSet?WeakSet:Set,Yu=null;function $u(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){_c(e,t,r)}else n.current=null}function Xu(e,t,n){try{n()}catch(r){_c(e,t,r)}}var Ju=!1;function Zu(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&Xu(t,n,a)}i=i.next}while(i!==r)}}function es(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ts(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ns(e){var t=e.alternate;null!==t&&(e.alternate=null,ns(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function rs(e){return 5===e.tag||3===e.tag||4===e.tag}function is(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||rs(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function as(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(as(e,t,n),e=e.sibling;null!==e;)as(e,t,n),e=e.sibling}function os(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(os(e,t,n),e=e.sibling;null!==e;)os(e,t,n),e=e.sibling}var us=null,ss=!1;function cs(e,t,n){for(n=n.child;null!==n;)ls(e,t,n),n=n.sibling}function ls(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:Hu||$u(n,t);case 6:var r=us,i=ss;us=null,cs(e,t,n),ss=i,null!==(us=r)&&(ss?(e=us,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):us.removeChild(n.stateNode));break;case 18:null!==us&&(ss?(e=us,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),zt(e)):si(us,n.stateNode));break;case 4:r=us,i=ss,us=n.stateNode.containerInfo,ss=!0,cs(e,t,n),us=r,ss=i;break;case 0:case 11:case 14:case 15:if(!Hu&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&Xu(n,t,o),i=i.next}while(i!==r)}cs(e,t,n);break;case 1:if(!Hu&&($u(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){_c(n,t,u)}cs(e,t,n);break;case 21:cs(e,t,n);break;case 22:1&n.mode?(Hu=(r=Hu)||null!==n.memoizedState,cs(e,t,n),Hu=r):cs(e,t,n);break;default:cs(e,t,n)}}function fs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Qu),t.forEach((function(t){var r=Tc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function hs(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:us=s.stateNode,ss=!1;break e;case 3:case 4:us=s.stateNode.containerInfo,ss=!0;break e}s=s.return}if(null===us)throw Error(a(160));ls(o,u,i),us=null,ss=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){_c(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ds(t,e),t=t.sibling}function ds(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(hs(t,e),ps(e),4&r){try{Zu(3,e,e.return),es(3,e)}catch(v){_c(e,e.return,v)}try{Zu(5,e,e.return)}catch(v){_c(e,e.return,v)}}break;case 1:hs(t,e),ps(e),512&r&&null!==n&&$u(n,n.return);break;case 5:if(hs(t,e),ps(e),512&r&&null!==n&&$u(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(v){_c(e,e.return,v)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===o.type&&null!=o.name&&X(i,o),ke(s,u);var l=ke(s,o);for(u=0;u<c.length;u+=2){var f=c[u],h=c[u+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):k(i,f,h,l)}switch(s){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(v){_c(e,e.return,v)}}break;case 6:if(hs(t,e),ps(e),4&r){if(null===e.stateNode)throw Error(a(162));l=e.stateNode,f=e.memoizedProps;try{l.nodeValue=f}catch(v){_c(e,e.return,v)}}break;case 3:if(hs(t,e),ps(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(v){_c(e,e.return,v)}break;case 4:default:hs(t,e),ps(e);break;case 13:hs(t,e),ps(e),8192&(l=e.child).flags&&null!==l.memoizedState&&(null===l.alternate||null===l.alternate.memoizedState)&&(js=Xe()),4&r&&fs(e);break;case 22:if(l=null!==n&&null!==n.memoizedState,1&e.mode?(Hu=(f=Hu)||l,hs(t,e),Hu=f):hs(t,e),ps(e),8192&r){f=null!==e.memoizedState;e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,f?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=d.stateNode,u=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=ve("display",u))}catch(v){_c(e,e.return,v)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=f?"":d.memoizedProps}catch(v){_c(e,e.return,v)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}if(f&&!l&&0!==(1&e.mode))for(Yu=e,e=e.child;null!==e;){for(l=Yu=e;null!==Yu;){switch(h=(f=Yu).child,f.tag){case 0:case 11:case 14:case 15:Zu(4,f,f.return);break;case 1:if($u(f,f.return),"function"===typeof(o=f.stateNode).componentWillUnmount){d=f,p=f.return;try{i=d,o.props=i.memoizedProps,o.state=i.memoizedState,o.componentWillUnmount()}catch(v){_c(d,p,v)}}break;case 5:$u(f,f.return);break;case 22:if(null!==f.memoizedState){gs(l);continue}}null!==h?(h.return=f,Yu=h):gs(l)}e=e.sibling}}break;case 19:hs(t,e),ps(e),4&r&&fs(e);case 21:}}function ps(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(rs(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),os(e,is(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;as(e,is(e),o);break;default:throw Error(a(161))}}catch(u){_c(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vs(e,t,n){Yu=e,ms(e,t,n)}function ms(e,t,n){for(var r=0!==(1&e.mode);null!==Yu;){var i=Yu,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Gu;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||Hu;u=Gu;var c=Hu;if(Gu=o,(Hu=s)&&!c)for(Yu=i;null!==Yu;)s=(o=Yu).child,22===o.tag&&null!==o.memoizedState?ks(i):null!==s?(s.return=o,Yu=s):ks(i);for(;null!==a;)Yu=a,ms(a,t,n),a=a.sibling;Yu=i,Gu=u,Hu=c}ys(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Yu=a):ys(e)}}function ys(e){for(;null!==Yu;){var t=Yu;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Hu||es(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Hu)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Ki(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&ca(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}ca(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(a(163))}Hu||512&t.flags&&ts(t)}catch(d){_c(t,t.return,d)}}if(t===e){Yu=null;break}if(null!==(n=t.sibling)){n.return=t.return,Yu=n;break}Yu=t.return}}function gs(e){for(;null!==Yu;){var t=Yu;if(t===e){Yu=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Yu=n;break}Yu=t.return}}function ks(e){for(;null!==Yu;){var t=Yu;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{es(4,t)}catch(s){_c(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){_c(t,i,s)}}var a=t.return;try{ts(t)}catch(s){_c(t,a,s)}break;case 5:var o=t.return;try{ts(t)}catch(s){_c(t,o,s)}}}catch(s){_c(t,t.return,s)}if(t===e){Yu=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Yu=u;break}Yu=t.return}}var bs,ws=Math.ceil,xs=b.ReactCurrentDispatcher,_s=b.ReactCurrentOwner,Es=b.ReactCurrentBatchConfig,Is=0,Ss=null,Ts=null,Cs=0,Ns=0,As=Ei(0),Ds=0,Ps=null,Rs=0,Os=0,Ls=0,Ms=null,Fs=null,js=0,Us=1/0,Vs=null,Bs=!1,zs=null,qs=null,Ks=!1,Ws=null,Gs=0,Hs=0,Qs=null,Ys=-1,$s=0;function Xs(){return 0!==(6&Is)?Xe():-1!==Ys?Ys:Ys=Xe()}function Js(e){return 0===(1&e.mode)?1:0!==(2&Is)&&0!==Cs?Cs&-Cs:null!==qi.transition?(0===$s&&($s=vt()),$s):0!==(e=kt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function Zs(e,t,n){if(50<Hs)throw Hs=0,Qs=null,Error(a(185));var r=ec(e,t);return null===r?null:(yt(r,t,n),0!==(2&Is)&&r===Ss||(r===Ss&&(0===(2&Is)&&(Os|=t),4===Ds&&oc(r,Cs)),nc(r,n),1===t&&0===Is&&0===(1&e.mode)&&(Us=Xe()+500,Ui&&zi())),r)}function ec(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function tc(e){return(null!==Ss||null!==ea)&&0!==(1&e.mode)&&0===(2&Is)}function nc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=dt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ht(e,e===Ss?Cs:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Ui=!0,Bi(e)}(uc.bind(null,e)):Bi(uc.bind(null,e)),oi((function(){0===Is&&zi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Cc(n,rc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function rc(e,t){if(Ys=-1,$s=0,0!==(6&Is))throw Error(a(327));var n=e.callbackNode;if(wc()&&e.callbackNode!==n)return null;var r=ht(e,e===Ss?Cs:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vc(e,r);else{t=r;var i=Is;Is|=2;var o=dc();for(Ss===e&&Cs===t||(Vs=null,Us=Xe()+500,fc(e,t));;)try{yc();break}catch(s){hc(e,s)}Yi(),xs.current=o,Is=i,null!==Ts?t=0:(Ss=null,Cs=0,t=Ds)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ic(e,i))),1===t)throw n=Ps,fc(e,0),oc(e,r),nc(e,Xe()),n;if(6===t)oc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=vc(e,r))&&(0!==(o=pt(e))&&(r=o,t=ic(e,o))),1===t))throw n=Ps,fc(e,0),oc(e,r),nc(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:bc(e,Fs,Vs);break;case 3:if(oc(e,r),(130023424&r)===r&&10<(t=js+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){Xs(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(bc.bind(null,e,Fs,Vs),t);break}bc(e,Fs,Vs);break;case 4:if(oc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ws(r/1960))-r)){e.timeoutHandle=ri(bc.bind(null,e,Fs,Vs),r);break}bc(e,Fs,Vs);break;default:throw Error(a(329))}}}return nc(e,Xe()),e.callbackNode===n?rc.bind(null,e):null}function ic(e,t){var n=Ms;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=vc(e,t))&&(t=Fs,Fs=n,null!==t&&ac(t)),e}function ac(e){null===Fs?Fs=e:Fs.push.apply(Fs,e)}function oc(e,t){for(t&=~Ls,t&=~Os,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function uc(e){if(0!==(6&Is))throw Error(a(327));wc();var t=ht(e,0);if(0===(1&t))return nc(e,Xe()),null;var n=vc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ic(e,r))}if(1===n)throw n=Ps,fc(e,0),oc(e,t),nc(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,bc(e,Fs,Vs),nc(e,Xe()),null}function sc(e,t){var n=Is;Is|=1;try{return e(t)}finally{0===(Is=n)&&(Us=Xe()+500,Ui&&zi())}}function cc(e){null!==Ws&&0===Ws.tag&&0===(6&Is)&&wc();var t=Is;Is|=1;var n=Es.transition,r=kt;try{if(Es.transition=null,kt=1,e)return e()}finally{kt=r,Es.transition=n,0===(6&(Is=t))&&zi()}}function lc(){Ns=As.current,Ii(As)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ts)for(n=Ts.return;null!==n;){var r=n;switch(Na(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ri();break;case 3:eo(),Ii(Ni),Ii(Ci),oo();break;case 5:no(r);break;case 4:eo();break;case 13:case 19:Ii(ro);break;case 10:$i(r.type._context);break;case 22:case 23:lc()}n=n.return}if(Ss=e,Ts=e=Pc(e.current,null),Cs=Ns=t,Ds=0,Ps=null,Ls=Os=Rs=0,Fs=Ms=null,null!==ea){for(t=0;t<ea.length;t++)if(null!==(r=(n=ea[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}ea=null}return e}function hc(e,t){for(;;){var n=Ts;try{if(Yi(),uo.current=nu,po){for(var r=lo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}po=!1}if(co=0,ho=fo=lo=null,vo=!1,mo=0,_s.current=null,null===n||null===n.return){Ds=1,Ps=t,Ts=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=Cs,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=vu(u);if(null!==p){p.flags&=-257,mu(p,u,s,0,t),1&p.mode&&pu(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){pu(o,l,t),pc();break e}c=Error(a(426))}else if(Pa&&1&s.mode){var y=vu(u);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),mu(y,u,s,0,t),Ba(c);break e}}o=c,4!==Ds&&(Ds=2),null===Ms?Ms=[o]:Ms.push(o),c=ou(c,s),s=u;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,ua(s,hu(0,c,t));break e;case 1:o=c;var g=s.type,k=s.stateNode;if(0===(128&s.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===qs||!qs.has(k)))){s.flags|=65536,t&=-t,s.lanes|=t,ua(s,du(s,o,t));break e}}s=s.return}while(null!==s)}kc(n)}catch(b){t=b,Ts===n&&null!==n&&(Ts=n=n.return);continue}break}}function dc(){var e=xs.current;return xs.current=nu,null===e?nu:e}function pc(){0!==Ds&&3!==Ds&&2!==Ds||(Ds=4),null===Ss||0===(268435455&Rs)&&0===(268435455&Os)||oc(Ss,Cs)}function vc(e,t){var n=Is;Is|=2;var r=dc();for(Ss===e&&Cs===t||(Vs=null,fc(e,t));;)try{mc();break}catch(i){hc(e,i)}if(Yi(),Is=n,xs.current=r,null!==Ts)throw Error(a(261));return Ss=null,Cs=0,Ds}function mc(){for(;null!==Ts;)gc(Ts)}function yc(){for(;null!==Ts&&!Ye();)gc(Ts)}function gc(e){var t=bs(e.alternate,e,Ns);e.memoizedProps=e.pendingProps,null===t?kc(e):Ts=t,_s.current=null}function kc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=ku(n,t,Ns)))return void(Ts=n)}else{if(null!==(n=Wu(n,t)))return n.flags&=32767,void(Ts=n);if(null===e)return Ds=6,void(Ts=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ts=t);Ts=t=e}while(null!==t);0===Ds&&(Ds=5)}function bc(e,t,n){var r=kt,i=Es.transition;try{Es.transition=null,kt=1,function(e,t,n,r){do{wc()}while(null!==Ws);if(0!==(6&Is))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Ss&&(Ts=Ss=null,Cs=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ks||(Ks=!0,Cc(tt,(function(){return wc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Es.transition,Es.transition=null;var u=kt;kt=1;var s=Is;Is|=4,_s.current=null,function(e,t){if(ei=Kt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(x){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==o||0!==r&&3!==h.nodeType||(c=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(s=u),d===o&&++f===r&&(c=u),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Kt=!1,Yu=t;null!==Yu;)if(e=(t=Yu).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Yu=e;else for(;null!==Yu;){t=Yu;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:Ki(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;if(1===b.nodeType)b.textContent="";else if(9===b.nodeType){var w=b.body;null!=w&&(w.textContent="")}break;default:throw Error(a(163))}}catch(x){_c(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,Yu=e;break}Yu=t.return}v=Ju,Ju=!1}(e,n),ds(n,e),pr(ti),Kt=!!ei,ti=ei=null,e.current=n,vs(n,e,i),$e(),Is=s,kt=u,Es.transition=o}else e.current=n;if(Ks&&(Ks=!1,Ws=e,Gs=i),0===(o=e.pendingLanes)&&(qs=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),nc(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r(t[n]);if(Bs)throw Bs=!1,e=zs,zs=null,e;0!==(1&Gs)&&0!==e.tag&&wc(),0!==(1&(o=e.pendingLanes))?e===Qs?Hs++:(Hs=0,Qs=e):Hs=0,zi()}(e,t,n,r)}finally{Es.transition=i,kt=r}return null}function wc(){if(null!==Ws){var e=bt(Gs),t=Es.transition,n=kt;try{if(Es.transition=null,kt=16>e?16:e,null===Ws)var r=!1;else{if(e=Ws,Ws=null,Gs=0,0!==(6&Is))throw Error(a(331));var i=Is;for(Is|=4,Yu=e.current;null!==Yu;){var o=Yu,u=o.child;if(0!==(16&Yu.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(Yu=l;null!==Yu;){var f=Yu;switch(f.tag){case 0:case 11:case 15:Zu(8,f,o)}var h=f.child;if(null!==h)h.return=f,Yu=h;else for(;null!==Yu;){var d=(f=Yu).sibling,p=f.return;if(ns(f),f===l){Yu=null;break}if(null!==d){d.return=p,Yu=d;break}Yu=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Yu=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Yu=u;else e:for(;null!==Yu;){if(0!==(2048&(o=Yu).flags))switch(o.tag){case 0:case 11:case 15:Zu(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Yu=g;break e}Yu=o.return}}var k=e.current;for(Yu=k;null!==Yu;){var b=(u=Yu).child;if(0!==(2064&u.subtreeFlags)&&null!==b)b.return=u,Yu=b;else e:for(u=k;null!==Yu;){if(0!==(2048&(s=Yu).flags))try{switch(s.tag){case 0:case 11:case 15:es(9,s)}}catch(x){_c(s,s.return,x)}if(s===u){Yu=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Yu=w;break e}Yu=s.return}}if(Is=i,zi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{kt=n,Es.transition=t}}return!1}function xc(e,t,n){aa(e,t=hu(0,t=ou(n,t),1)),t=Xs(),null!==(e=ec(e,1))&&(yt(e,1,t),nc(e,t))}function _c(e,t,n){if(3===e.tag)xc(e,e,n);else for(;null!==t;){if(3===t.tag){xc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===qs||!qs.has(r))){aa(t,e=du(t,e=ou(n,e),1)),e=Xs(),null!==(t=ec(t,1))&&(yt(t,1,e),nc(t,e));break}}t=t.return}}function Ec(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Xs(),e.pingedLanes|=e.suspendedLanes&n,Ss===e&&(Cs&n)===n&&(4===Ds||3===Ds&&(130023424&Cs)===Cs&&500>Xe()-js?fc(e,0):Ls|=n),nc(e,t)}function Ic(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=Xs();null!==(e=ec(e,t))&&(yt(e,t,n),nc(e,n))}function Sc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ic(e,n)}function Tc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Ic(e,n)}function Cc(e,t){return He(e,t)}function Nc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ac(e,t,n,r){return new Nc(e,t,n,r)}function Dc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Pc(e,t){var n=e.alternate;return null===n?((n=Ac(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Rc(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Dc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case _:return Oc(n.children,i,o,t);case E:u=8,i|=8;break;case I:return(e=Ac(12,n,t,2|i)).elementType=I,e.lanes=o,e;case N:return(e=Ac(13,n,t,i)).elementType=N,e.lanes=o,e;case A:return(e=Ac(19,n,t,i)).elementType=A,e.lanes=o,e;case R:return Lc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:u=10;break e;case T:u=9;break e;case C:u=11;break e;case D:u=14;break e;case P:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Ac(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Oc(e,t,n,r){return(e=Ac(7,e,r,t)).lanes=n,e}function Lc(e,t,n,r){return(e=Ac(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={},e}function Mc(e,t,n){return(e=Ac(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Ac(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function jc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Uc(e,t,n,r,i,a,o,u,s){return e=new jc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Ac(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},na(a),e}function Vc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Bc(e){if(!e)return Ti;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Li(e,n,t)}return t}function zc(e,t,n,r,i,a,o,u,s){return(e=Uc(n,r,!0,e,0,a,0,u,s)).context=Bc(null),n=e.current,(a=ia(r=Xs(),i=Js(n))).callback=void 0!==t&&null!==t?t:null,aa(n,a),e.current.lanes=i,yt(e,i,r),nc(e,r),e}function qc(e,t,n,r){var i=t.current,a=Xs(),o=Js(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=ia(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),aa(i,t),null!==(e=Zs(i,o,a))&&oa(e,i,o),o}function Kc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}bs=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)wu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return wu=!1,function(e,t,n){switch(t.tag){case 3:Du(t),Va();break;case 5:to(t);break;case 1:Pi(t.type)&&Mi(t);break;case 4:Za(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Si(Wi,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Si(ro,1&ro.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Mu(e,t,n):(Si(ro,1&ro.current),null!==(e=Ku(e,t,n))?e.sibling:null);Si(ro,1&ro.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Si(ro,ro.current),r)break;return null;case 22:case 23:return t.lanes=0,Su(e,t,n)}return Ku(e,t,n)}(e,t,n);wu=0!==(131072&e.flags)}else wu=!1,Pa&&0!==(1048576&t.flags)&&Ta(t,ba,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var i=Di(t,Ci.current);Ji(t,n),i=bo(null,t,r,e,i,n);var o=wo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,na(t),i.updater=ha,t.stateNode=i,i._reactInternals=t,ma(t,r,e,n),t=Au(null,t,r,!0,o,n)):(t.tag=0,Pa&&o&&Ca(t),xu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Dc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===D)return 14}return 2}(r),e=Ki(r,e),i){case 0:t=Cu(null,t,r,e,n);break e;case 1:t=Nu(null,t,r,e,n);break e;case 11:t=_u(null,t,r,e,n);break e;case 14:t=Eu(null,t,r,Ki(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Cu(e,t,r,i=t.elementType===r?i:Ki(r,i),n);case 1:return r=t.type,i=t.pendingProps,Nu(e,t,r,i=t.elementType===r?i:Ki(r,i),n);case 3:e:{if(Du(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,ra(e,t),sa(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Pu(e,t,r,n,i=Error(a(423)));break e}if(r!==i){t=Pu(e,t,r,n,i=Error(a(424)));break e}for(Da=ci(t.stateNode.containerInfo.firstChild),Aa=t,Pa=!0,Ra=null,n=Ha(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(Va(),r===i){t=Ku(e,t,n);break e}xu(e,t,r,n)}t=t.child}return t;case 5:return to(t),null===e&&Fa(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==o&&ni(r,o)&&(t.flags|=32),Tu(e,t),xu(e,t,u,n),t.child;case 6:return null===e&&Fa(t),null;case 13:return Mu(e,t,n);case 4:return Za(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ga(t,null,r,n):xu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,_u(e,t,r,i=t.elementType===r?i:Ki(r,i),n);case 7:return xu(e,t,t.pendingProps,n),t.child;case 8:case 12:return xu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,Si(Wi,r._currentValue),r._currentValue=u,null!==o)if(ur(o.value,u)){if(o.children===i.children&&!Ni.current){t=Ku(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=ia(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Xi(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),Xi(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}xu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ji(t,n),r=r(i=Zi(i)),t.flags|=1,xu(e,t,r,n),t.child;case 14:return i=Ki(r=t.type,t.pendingProps),Eu(e,t,r,i=Ki(r.type,i),n);case 15:return Iu(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ki(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Pi(r)?(e=!0,Mi(t)):e=!1,Ji(t,n),pa(t,r,i),ma(t,r,i,n),Au(null,t,r,!0,e,n);case 19:return qu(e,t,n);case 22:return Su(e,t,n)}throw Error(a(156,t.tag))};var Hc="function"===typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function Zc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Kc(o);u.call(e)}}qc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Kc(o);a.call(e)}}var o=zc(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=o,e[pi]=o.current,zr(8===e.nodeType?e.parentNode:e),cc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Kc(s);u.call(e)}}var s=Uc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=s,e[pi]=s.current,zr(8===e.nodeType?e.parentNode:e),cc((function(){qc(t,s,n,r)})),s}(n,t,e,i,r);return Kc(o)}Yc.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));qc(e,t,null,null)},Yc.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cc((function(){qc(null,e,null,null)})),t[pi]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),nc(t,Xe()),0===(6&Is)&&(Us=Xe()+500,zi()))}break;case 13:var r=Xs();cc((function(){return Zs(e,1,r)})),Gc(e,1)}},xt=function(e){13===e.tag&&(Zs(e,134217728,Xs()),Gc(e,134217728))},_t=function(e){if(13===e.tag){var t=Xs(),n=Js(e);Zs(e,n,t),Gc(e,n)}},Et=function(){return kt},It=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},xe=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));H(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=sc,Ne=cc;var el={usingClientEntryPoint:!1,Events:[ki,bi,wi,Se,Te,sc]},tl={findFiberByHostInstance:gi,bundleType:0,version:"18.1.0",rendererPackageName:"react-dom"},nl={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.1.0-next-22edb9f77-20220426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rl.isDisabled&&rl.supportsFiber)try{it=rl.inject(nl),at=rl}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=el,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!$c(t))throw Error(a(200));return Vc(e,t,null,n)},t.createRoot=function(e,t){if(!$c(e))throw Error(a(299));var n=!1,r="",i=Hc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Uc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new Qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return cc(e)},t.hydrate=function(e,t,n){if(!Xc(t))throw Error(a(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!$c(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Hc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=zc(t,null,e,1,null!=n?n:null,i,0,o,u),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yc(t)},t.render=function(e,t,n){if(!Xc(t))throw Error(a(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(a(40));return!!e._reactRootContainer&&(cc((function(){Zc(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=sc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return Zc(e,t,n,!1,r)},t.version="18.1.0-next-22edb9f77-20220426"},250:function(e,t,n){"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var b=k.prototype=new g;b.constructor=k,v(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,_={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function I(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!E.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:_.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+C(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(S(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(u=e[c],c);s+=N(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=N(u=u.value,t,i,l=a+C(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function A(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function D(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},R={transition:null},O={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:R,ReactCurrentOwner:_};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=_.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)x.call(t,c)&&!E.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=I,t.createFactory=function(e){var t=I.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:D}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.1.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(D){s=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),o=new C(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return A()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=I(o,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var s=l(e,t,n);if("normal"===s.type){if(r=n.done?p:h,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=p,n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(D){return{type:"throw",arg:D}}}e.wrap=c;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function m(){}function y(){}function g(){}var k={};s(k,a,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(N([])));w&&w!==n&&r.call(w,a)&&(k=w);var x=g.prototype=m.prototype=Object.create(k);function _(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(i,a,o,u){var s=l(e[i],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,u)}),(function(e){n("throw",e,o,u)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,u)}))}u(s.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function I(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,I(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function N(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:A}}function A(){return{value:t,done:!0}}return y.prototype=g,s(x,"constructor",g),s(g,"constructor",y),y.displayName=s(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,u,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},_(E.prototype),s(E.prototype,o,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new E(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},_(x),s(x,u,"Generator"),s(x,a,(function(){return this})),s(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=N,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],u=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:N(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,b(e),!v)if(null!==r(c))v=!0,R(x);else{var t=r(l);null!==t&&O(w,t.startTime-e)}}function x(e,n){v=!1,m&&(m=!1,g(S),S=-1),p=!0;var a=d;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!N());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var s=!0;else{var f=r(l);null!==f&&O(w,f.startTime-n),s=!1}return s}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,E=!1,I=null,S=-1,T=5,C=-1;function N(){return!(t.unstable_now()-C<T)}function A(){if(null!==I){var e=t.unstable_now();C=e;var n=!0;try{n=I(!0,e)}finally{n?_():(E=!1,I=null)}}else E=!1}if("function"===typeof k)_=function(){k(A)};else if("undefined"!==typeof MessageChannel){var D=new MessageChannel,P=D.port2;D.port1.onmessage=A,_=function(){P.postMessage(null)}}else _=function(){y(A,0)};function R(e){I=e,E||(E=!0,_())}function O(e,n){S=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,R(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(S),S=-1):m=!0,O(w,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,R(x))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return Qr},SDK_VERSION:function(){return aa},_DEFAULT_ENTRY_NAME:function(){return Gi},_addComponent:function(){return $i},_addOrOverwriteComponent:function(){return Xi},_apps:function(){return Qi},_clearComponents:function(){return ta},_components:function(){return Yi},_getProvider:function(){return Zi},_registerComponent:function(){return Ji},_removeServiceInstance:function(){return ea},deleteApp:function(){return ca},getApp:function(){return ua},getApps:function(){return sa},initializeApp:function(){return oa},onLog:function(){return ha},registerVersion:function(){return fa},setLogLevel:function(){return da}});var t=n(250);function r(e){if(Array.isArray(e))return e}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){if(e){if("string"===typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){return r(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||a(e,t)||o()}var s,c=n(791);function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(s||(s={}));var f=function(e){return e};var h="beforeunload",d="popstate";function p(e){e.preventDefault(),e.returnValue=""}function v(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function m(){return Math.random().toString(36).substr(2,8)}function y(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function g(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var k=(0,c.createContext)(null);var b=(0,c.createContext)(null);var w=(0,c.createContext)({outlet:null,matches:[]});function x(e,t){if(!e)throw new Error(t)}function _(e,t,n){void 0===n&&(n="/");var r=D(("string"===typeof t?g(t):t).pathname||"/",n);if(null==r)return null;var i=E(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=C(i[o],r);return a}function E(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(r)||x(!1),a.relativePath=a.relativePath.slice(r.length));var o=P([r,a.relativePath]),u=n.concat(a);e.children&&e.children.length>0&&(!0===e.index&&x(!1),E(e.children,t,u,o)),(null!=e.path||e.index)&&t.push({path:o,score:T(o,e.index),routesMeta:u})})),t}var I=/^:\w+$/,S=function(e){return"*"===e};function T(e,t){var n=e.split("/"),r=n.length;return n.some(S)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!S(e)})).reduce((function(e,t){return e+(I.test(t)?3:""===t?1:10)}),r)}function C(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=N({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);var f=u.route;a.push({params:r,pathname:P([i,l.pathname]),pathnameBase:R(P([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=P([i,l.pathnameBase]))}return a}function N(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=u(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var s=o[0],c=s.replace(/(.)\/+$/,"$1"),l=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";c=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(l[n]||""),e}),{}),pathname:s,pathnameBase:c,pattern:e}}function A(e,t,n){var r,i="string"===typeof e?g(e):e,a=""===e||""===i.pathname?"/":i.pathname;if(null==a)r=n;else{var o=t.length-1;if(a.startsWith("..")){for(var u=a.split("/");".."===u[0];)u.shift(),o-=1;i.pathname=u.join("/")}r=o>=0?t[o]:"/"}var s=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?g(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,u=void 0===o?"":o,s=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:s,search:O(a),hash:L(u)}}(i,r);return a&&"/"!==a&&a.endsWith("/")&&!s.pathname.endsWith("/")&&(s.pathname+="/"),s}function D(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var P=function(e){return e.join("/").replace(/\/\/+/g,"/")},R=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},O=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},L=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function M(){return null!=(0,c.useContext)(b)}function F(){return M()||x(!1),(0,c.useContext)(b).location}var j=(0,c.createContext)(null);function U(e,t){return void 0===t&&(t=[]),null==e?null:e.reduceRight((function(n,r,i){return(0,c.createElement)(w.Provider,{children:void 0!==r.route.element?r.route.element:n,value:{outlet:n,matches:t.concat(e.slice(0,i+1))}})}),null)}function V(e){var t=e.to,n=e.replace,r=e.state;M()||x(!1);var i=function(){M()||x(!1);var e=(0,c.useContext)(k),t=e.basename,n=e.navigator,r=(0,c.useContext)(w).matches,i=F().pathname,a=JSON.stringify(r.map((function(e){return e.pathnameBase}))),o=(0,c.useRef)(!1);(0,c.useEffect)((function(){o.current=!0}));var u=(0,c.useCallback)((function(e,r){if(void 0===r&&(r={}),o.current)if("number"!==typeof e){var u=A(e,JSON.parse(a),i);"/"!==t&&(u.pathname=P([t,u.pathname])),(r.replace?n.replace:n.push)(u,r.state)}else n.go(e)}),[t,n,a,i]);return u}();return(0,c.useEffect)((function(){i(t,{replace:n,state:r})})),null}function B(e){return function(e){var t=(0,c.useContext)(w).outlet;return t?(0,c.createElement)(j.Provider,{value:e},t):t}(e.context)}function z(e){x(!1)}function q(e){var t=e.basename,n=void 0===t?"/":t,r=e.children,i=void 0===r?null:r,a=e.location,o=e.navigationType,u=void 0===o?s.Pop:o,l=e.navigator,f=e.static,h=void 0!==f&&f;M()&&x(!1);var d=R(n),p=(0,c.useMemo)((function(){return{basename:d,navigator:l,static:h}}),[d,l,h]);"string"===typeof a&&(a=g(a));var v=a,m=v.pathname,y=void 0===m?"/":m,w=v.search,_=void 0===w?"":w,E=v.hash,I=void 0===E?"":E,S=v.state,T=void 0===S?null:S,C=v.key,N=void 0===C?"default":C,A=(0,c.useMemo)((function(){var e=D(y,d);return null==e?null:{pathname:e,search:_,hash:I,state:T,key:N}}),[d,y,_,I,T,N]);return null==A?null:(0,c.createElement)(k.Provider,{value:p},(0,c.createElement)(b.Provider,{children:i,value:{location:A,navigationType:u}}))}function K(e){var t=e.children,n=e.location;return function(e,t){M()||x(!1);var n,r=(0,c.useContext)(w).matches,i=r[r.length-1],a=i?i.params:{},o=(i&&i.pathname,i?i.pathnameBase:"/"),u=(i&&i.route,F());if(t){var s,l="string"===typeof t?g(t):t;"/"===o||(null==(s=l.pathname)?void 0:s.startsWith(o))||x(!1),n=l}else n=u;var f=n.pathname||"/",h=_(e,{pathname:"/"===o?f:f.slice(o.length)||"/"});return U(h&&h.map((function(e){return Object.assign({},e,{params:Object.assign({},a,e.params),pathname:P([o,e.pathname]),pathnameBase:"/"===e.pathnameBase?o:P([o,e.pathnameBase])})})),r)}(W(t),n)}function W(e){var t=[];return c.Children.forEach(e,(function(e){if((0,c.isValidElement)(e))if(e.type!==c.Fragment){e.type!==z&&x(!1);var n={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(n.children=W(e.props.children)),t.push(n)}else t.push.apply(t,W(e.props.children))})),t}function G(e){var t=e.basename,n=e.children,r=e.window,i=(0,c.useRef)();null==i.current&&(i.current=function(e){void 0===e&&(e={});var t=e.window,n=void 0===t?document.defaultView:t,r=n.history;function i(){var e=n.location,t=e.pathname,i=e.search,a=e.hash,o=r.state||{};return[o.idx,f({pathname:t,search:i,hash:a,state:o.usr||null,key:o.key||"default"})]}var a=null;n.addEventListener(d,(function(){if(a)w.call(a),a=null;else{var e=s.Pop,t=i(),n=t[0],r=t[1];if(w.length){if(null!=n){var o=c-n;o&&(a={action:e,location:r,retry:function(){T(-1*o)}},T(o))}}else S(e)}}));var o=s.Pop,u=i(),c=u[0],k=u[1],b=v(),w=v();function x(e){return"string"===typeof e?e:y(e)}function _(e,t){return void 0===t&&(t=null),f(l({pathname:k.pathname,hash:"",search:""},"string"===typeof e?g(e):e,{state:t,key:m()}))}function E(e,t){return[{usr:e.state,key:e.key,idx:t},x(e)]}function I(e,t,n){return!w.length||(w.call({action:e,location:t,retry:n}),!1)}function S(e){o=e;var t=i();c=t[0],k=t[1],b.call({action:o,location:k})}function T(e){r.go(e)}null==c&&(c=0,r.replaceState(l({},r.state,{idx:c}),""));var C={get action(){return o},get location(){return k},createHref:x,push:function e(t,i){var a=s.Push,o=_(t,i);if(I(a,o,(function(){e(t,i)}))){var u=E(o,c+1),l=u[0],f=u[1];try{r.pushState(l,"",f)}catch(h){n.location.assign(f)}S(a)}},replace:function e(t,n){var i=s.Replace,a=_(t,n);if(I(i,a,(function(){e(t,n)}))){var o=E(a,c),u=o[0],l=o[1];r.replaceState(u,"",l),S(i)}},go:T,back:function(){T(-1)},forward:function(){T(1)},listen:function(e){return b.push(e)},block:function(e){var t=w.push(e);return 1===w.length&&n.addEventListener(h,p),function(){t(),w.length||n.removeEventListener(h,p)}}};return C}({window:r}));var a=i.current,o=u((0,c.useState)({action:a.action,location:a.location}),2),k=o[0],b=o[1];return(0,c.useLayoutEffect)((function(){return a.listen(b)}),[a]),(0,c.createElement)(q,{basename:t,children:n,location:k.location,navigationType:k.action,navigator:a})}function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach((function(t){H(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function X(e,t){if(null==e)return{};var n,r,i=$(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var J=n(694),Z=n.n(J),ee=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null!=e?String(e):t||null},te=c.createContext(null);n(176);function ne(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function re(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function ie(e,t){return Object.keys(t).reduce((function(n,r){var i,a=n,o=a[ne(r)],u=a[r],s=$(a,[ne(r),r].map(re)),f=t[r],h=function(e,t,n){var r=(0,c.useRef)(void 0!==e),i=(0,c.useState)(t),a=i[0],o=i[1],u=void 0!==e,s=r.current;return r.current=u,!u&&s&&a!==t&&o(t),[u?e:a,(0,c.useCallback)((function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];n&&n.apply(void 0,[e].concat(r)),o(e)}),[n])]}(u,o,e[f]),d=h[0],p=h[1];return l({},s,((i={})[r]=d,i[f]=p,i))}),e)}function ae(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function oe(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function ue(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}ae.__suppressDeprecationWarning=!0,oe.__suppressDeprecationWarning=!0,ue.__suppressDeprecationWarning=!0;var se=/-(.)/g;var ce=n(184),le=["xxl","xl","lg","md","sm","xs"],fe=c.createContext({prefixes:{},breakpoints:le});fe.Consumer,fe.Provider;function he(e,t){var n=(0,c.useContext)(fe).prefixes;return e||n[t]||t}function de(){return(0,c.useContext)(fe).breakpoints}var pe=["className","bsPrefix","as"],ve=function(e){return e[0].toUpperCase()+(t=e,t.replace(se,(function(e,t){return t.toUpperCase()}))).slice(1);var t};function me(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.displayName,r=void 0===n?ve(e):n,i=t.Component,a=t.defaultProps,o=c.forwardRef((function(t,n){var r=t.className,a=t.bsPrefix,o=t.as,u=void 0===o?i||"div":o,s=X(t,pe),c=he(a,e);return(0,ce.jsx)(u,Y({ref:n,className:Z()(r,c)},s))}));return o.defaultProps=a,o.displayName=r,o}var ye=["bsPrefix","className","as"],ge=c.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,a=X(e,ye);n=he(n,"navbar-brand");var o=i||(a.href?"a":"span");return(0,ce.jsx)(o,Y(Y({},a),{},{ref:t,className:Z()(r,n)}))}));ge.displayName="NavbarBrand";var ke=ge;function be(e){return e&&e.ownerDocument||document}function we(e,t){return function(e){var t=be(e);return t&&t.defaultView||window}(e).getComputedStyle(e,t)}var xe=/([A-Z])/g;var _e=/^ms-/;function Ee(e){return function(e){return e.replace(xe,"-$1").toLowerCase()}(e).replace(_e,"-ms-")}var Ie=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;var Se=function(e,t){var n="",r="";if("string"===typeof t)return e.style.getPropertyValue(Ee(t))||we(e).getPropertyValue(Ee(t));Object.keys(t).forEach((function(i){var a=t[i];a||0===a?!function(e){return!(!e||!Ie.test(e))}(i)?n+=Ee(i)+": "+a+";":r+=i+"("+a+") ":e.style.removeProperty(Ee(i))})),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n};function Te(e,t){return Te=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Te(e,t)}var Ce=n(164),Ne=!1,Ae=c.createContext(null),De="unmounted",Pe="exited",Re="entering",Oe="entered",Le="exiting",Me=function(e){var t,n;function r(t,n){var r;r=e.call(this,t,n)||this;var i,a=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(i=Pe,r.appearStatus=Re):i=Oe:i=t.unmountOnExit||t.mountOnEnter?De:Pe,r.state={status:i},r.nextCallback=null,r}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,Te(t,n),r.getDerivedStateFromProps=function(e,t){return e.in&&t.status===De?{status:Pe}:null};var i=r.prototype;return i.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},i.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==Re&&n!==Oe&&(t=Re):n!==Re&&n!==Oe||(t=Le)}this.updateStatus(!1,t)},i.componentWillUnmount=function(){this.cancelNextCallback()},i.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},i.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===Re?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===Pe&&this.setState({status:De})},i.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[Ce.findDOMNode(this),r],a=i[0],o=i[1],u=this.getTimeouts(),s=r?u.appear:u.enter;!e&&!n||Ne?this.safeSetState({status:Oe},(function(){t.props.onEntered(a)})):(this.props.onEnter(a,o),this.safeSetState({status:Re},(function(){t.props.onEntering(a,o),t.onTransitionEnd(s,(function(){t.safeSetState({status:Oe},(function(){t.props.onEntered(a,o)}))}))})))},i.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:Ce.findDOMNode(this);t&&!Ne?(this.props.onExit(r),this.safeSetState({status:Le},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:Pe},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:Pe},(function(){e.props.onExited(r)}))},i.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},i.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},i.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},i.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:Ce.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],a=i[0],o=i[1];this.props.addEndListener(a,o)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},i.render=function(){var e=this.state.status;if(e===De)return null;var t=this.props,n=t.children,r=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,$(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return c.createElement(Ae.Provider,{value:null},"function"===typeof n?n(e,r):c.cloneElement(c.Children.only(n),r))},r}(c.Component);function Fe(){}Me.contextType=Ae,Me.propTypes={},Me.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Fe,onEntering:Fe,onEntered:Fe,onExit:Fe,onExiting:Fe,onExited:Fe},Me.UNMOUNTED=De,Me.EXITED=Pe,Me.ENTERING=Re,Me.ENTERED=Oe,Me.EXITING=Le;var je=Me,Ue=!("undefined"===typeof window||!window.document||!window.document.createElement),Ve=!1,Be=!1;try{var ze={get passive(){return Ve=!0},get once(){return Be=Ve=!0}};Ue&&(window.addEventListener("test",ze,ze),window.removeEventListener("test",ze,!0))}catch(lA){}var qe=function(e,t,n,r){if(r&&"boolean"!==typeof r&&!Be){var i=r.once,a=r.capture,o=n;!Be&&i&&(o=n.__once||function e(r){this.removeEventListener(t,e,a),n.call(this,r)},n.__once=o),e.addEventListener(t,o,Ve?r:a)}e.addEventListener(t,n,r)};var Ke=function(e,t,n,r){var i=r&&"boolean"!==typeof r?r.capture:r;e.removeEventListener(t,n,i),n.__once&&e.removeEventListener(t,n.__once,i)};var We=function(e,t,n,r){return qe(e,t,n,r),function(){Ke(e,t,n,r)}};function Ge(e,t,n){void 0===n&&(n=5);var r=!1,i=setTimeout((function(){r||function(e,t,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!0),e){var i=document.createEvent("HTMLEvents");i.initEvent(t,n,r),e.dispatchEvent(i)}}(e,"transitionend",!0)}),t+n),a=We(e,"transitionend",(function(){r=!0}),{once:!0});return function(){clearTimeout(i),a()}}function He(e,t,n,r){null==n&&(n=function(e){var t=Se(e,"transitionDuration")||"",n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}(e)||0);var i=Ge(e,n,r),a=We(e,"transitionend",t);return function(){i(),a()}}function Qe(e,t){var n=Se(e,t)||"",r=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*r}function Ye(e,t){var n=Qe(e,"transitionDuration"),r=Qe(e,"transitionDelay"),i=He(e,(function(n){n.target===e&&(i(),t(n))}),n+r)}var $e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return null!=e})).reduce((function(e,t){if("function"!==typeof t)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===e?t:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),null)};function Xe(e){e.offsetHeight}var Je=function(e){return e&&"function"!==typeof e?function(t){e.current=t}:e};var Ze=function(e,t){return(0,c.useMemo)((function(){return function(e,t){var n=Je(e),r=Je(t);return function(e){n&&n(e),r&&r(e)}}(e,t)}),[e,t])};var et,tt=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children","childRef"],nt=c.forwardRef((function(e,t){var n=e.onEnter,r=e.onEntering,i=e.onEntered,a=e.onExit,o=e.onExiting,u=e.onExited,s=e.addEndListener,l=e.children,f=e.childRef,h=X(e,tt),d=(0,c.useRef)(null),p=Ze(d,f),v=function(e){var t;p((t=e)&&"setState"in t?Ce.findDOMNode(t):null!=t?t:null)},m=function(e){return function(t){e&&d.current&&e(d.current,t)}},y=(0,c.useCallback)(m(n),[n]),g=(0,c.useCallback)(m(r),[r]),k=(0,c.useCallback)(m(i),[i]),b=(0,c.useCallback)(m(a),[a]),w=(0,c.useCallback)(m(o),[o]),x=(0,c.useCallback)(m(u),[u]),_=(0,c.useCallback)(m(s),[s]);return(0,ce.jsx)(je,Y(Y({ref:t},h),{},{onEnter:y,onEntered:k,onEntering:g,onExit:b,onExited:x,onExiting:w,addEndListener:_,nodeRef:d,children:"function"===typeof l?function(e,t){return l(e,Y(Y({},t),{},{ref:v}))}:c.cloneElement(l,{ref:v})}))})),rt=nt,it=["onEnter","onEntering","onEntered","onExit","onExiting","className","children","dimension","getDimensionValue"],at={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function ot(e,t){var n=t["offset".concat(e[0].toUpperCase()).concat(e.slice(1))],r=at[e];return n+parseInt(Se(t,r[0]),10)+parseInt(Se(t,r[1]),10)}var ut=(H(et={},Pe,"collapse"),H(et,Le,"collapsing"),H(et,Re,"collapsing"),H(et,Oe,"collapse show"),et),st={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,getDimensionValue:ot},ct=c.forwardRef((function(e,t){var n=e.onEnter,r=e.onEntering,i=e.onEntered,a=e.onExit,o=e.onExiting,u=e.className,s=e.children,l=e.dimension,f=void 0===l?"height":l,h=e.getDimensionValue,d=void 0===h?ot:h,p=X(e,it),v="function"===typeof f?f():f,m=(0,c.useMemo)((function(){return $e((function(e){e.style[v]="0"}),n)}),[v,n]),y=(0,c.useMemo)((function(){return $e((function(e){var t="scroll".concat(v[0].toUpperCase()).concat(v.slice(1));e.style[v]="".concat(e[t],"px")}),r)}),[v,r]),g=(0,c.useMemo)((function(){return $e((function(e){e.style[v]=null}),i)}),[v,i]),k=(0,c.useMemo)((function(){return $e((function(e){e.style[v]="".concat(d(v,e),"px"),Xe(e)}),a)}),[a,d,v]),b=(0,c.useMemo)((function(){return $e((function(e){e.style[v]=null}),o)}),[v,o]);return(0,ce.jsx)(rt,Y(Y({ref:t,addEndListener:Ye},p),{},{"aria-expanded":p.role?p.in:null,onEnter:m,onEntering:y,onEntered:g,onExit:k,onExiting:b,childRef:s.ref,children:function(e,t){return c.cloneElement(s,Y(Y({},t),{},{className:Z()(u,s.props.className,ut[e],"width"===v&&"collapse-horizontal")}))}}))}));ct.defaultProps=st;var lt=ct,ft=c.createContext(null);ft.displayName="NavbarContext";var ht=ft,dt=["children","bsPrefix"],pt=c.forwardRef((function(e,t){var n=e.children,r=e.bsPrefix,i=X(e,dt);r=he(r,"navbar-collapse");var a=(0,c.useContext)(ht);return(0,ce.jsx)(lt,Y(Y({in:!(!a||!a.expanded)},i),{},{children:(0,ce.jsx)("div",{ref:t,className:r,children:n})}))}));pt.displayName="NavbarCollapse";var vt=pt;var mt=function(e){var t=(0,c.useRef)(e);return(0,c.useEffect)((function(){t.current=e}),[e]),t};function yt(e){var t=mt(e);return(0,c.useCallback)((function(){return t.current&&t.current.apply(t,arguments)}),[t])}var gt=["bsPrefix","className","children","label","as","onClick"],kt=c.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.children,a=e.label,o=e.as,u=void 0===o?"button":o,s=e.onClick,l=X(e,gt);n=he(n,"navbar-toggler");var f=(0,c.useContext)(ht)||{},h=f.onToggle,d=f.expanded,p=yt((function(e){s&&s(e),h&&h()}));return"button"===u&&(l.type="button"),(0,ce.jsx)(u,Y(Y({},l),{},{ref:t,onClick:p,"aria-label":a,className:Z()(r,n,!d&&"collapsed"),children:i||(0,ce.jsx)("span",{className:"".concat(n,"-icon")})}))}));kt.displayName="NavbarToggle",kt.defaultProps={label:"Toggle navigation"};var bt=kt,wt="undefined"!==typeof n.g&&n.g.navigator&&"ReactNative"===n.g.navigator.product,xt="undefined"!==typeof document||wt?c.useLayoutEffect:c.useEffect,_t=new WeakMap,Et=function(e,t){if(e&&t){var n=_t.get(t)||new Map;_t.set(t,n);var r=n.get(e);return r||((r=t.matchMedia(e)).refCount=0,n.set(r.media,r)),r}};function It(e,t){void 0===t&&(t="undefined"===typeof window?void 0:window);var n=Et(e,t),r=(0,c.useState)((function(){return!!n&&n.matches})),i=r[0],a=r[1];return xt((function(){var n=Et(e,t);if(!n)return a(!1);var r=_t.get(t),i=function(){a(n.matches)};return n.refCount++,n.addListener(i),i(),function(){n.removeListener(i),n.refCount--,n.refCount<=0&&(null==r||r.delete(n.media)),n=void 0}}),[e]),i}var St=function(e){var t=Object.keys(e);function n(e,t){return e===t?t:e?e+" and "+t:t}function r(n){var r=function(e){return t[Math.min(t.indexOf(e)+1,t.length-1)]}(n),i=e[r];return"(max-width: "+(i="number"===typeof i?i-.2+"px":"calc("+i+" - 0.2px)")+")"}return function(t,i,a){var o,u;"object"===typeof t?(o=t,a=i,i=!0):((u={})[t]=i=i||!0,o=u);var s=(0,c.useMemo)((function(){return Object.entries(o).reduce((function(t,i){var a=i[0],o=i[1];return"up"!==o&&!0!==o||(t=n(t,function(t){var n=e[t];return"number"===typeof n&&(n+="px"),"(min-width: "+n+")"}(a))),"down"!==o&&!0!==o||(t=n(t,r(a))),t}),"")}),[JSON.stringify(o)]);return It(s,a)}}({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400});function Tt(e){void 0===e&&(e=be());try{var t=e.activeElement;return t&&t.nodeName?t:null}catch(lA){return e.body}}function Ct(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}function Nt(e){var t=function(e){var t=(0,c.useRef)(e);return t.current=e,t}(e);(0,c.useEffect)((function(){return function(){return t.current()}}),[])}function At(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Dt(e){return function(e){if(Array.isArray(e))return i(e)}(e)||At(e)||a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ot(e,t,n){return t&&Rt(e.prototype,t),n&&Rt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Lt(e){return"".concat("data-rr-ui-").concat(e)}var Mt=Lt("modal-open"),Ft=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.ownerDocument,r=t.handleContainerOverflow,i=void 0===r||r,a=t.isRTL,o=void 0!==a&&a;Pt(this,e),this.handleContainerOverflow=i,this.isRTL=o,this.modals=[],this.ownerDocument=n}return Ot(e,[{key:"getScrollbarWidth",value:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}(this.ownerDocument)}},{key:"getElement",value:function(){return(this.ownerDocument||document).body}},{key:"setModalAttributes",value:function(e){}},{key:"removeModalAttributes",value:function(e){}},{key:"setContainerStyle",value:function(e){var t={overflow:"hidden"},n=this.isRTL?"paddingLeft":"paddingRight",r=this.getElement();e.style=H({overflow:r.style.overflow},n,r.style[n]),e.scrollBarWidth&&(t[n]="".concat(parseInt(Se(r,n)||"0",10)+e.scrollBarWidth,"px")),r.setAttribute(Mt,""),Se(r,t)}},{key:"reset",value:function(){var e=this;Dt(this.modals).forEach((function(t){return e.remove(t)}))}},{key:"removeContainerStyle",value:function(e){var t=this.getElement();t.removeAttribute(Mt),Object.assign(t.style,e.style)}},{key:"add",value:function(e){var t=this.modals.indexOf(e);return-1!==t?t:(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),0!==t||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t)}},{key:"remove",value:function(e){var t=this.modals.indexOf(e);-1!==t&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}},{key:"isTopModal",value:function(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}]),e}(),jt=Ft,Ut=(0,c.createContext)(Ue?window:void 0);Ut.Provider;function Vt(){return(0,c.useContext)(Ut)}var Bt=function(e,t){var n;return Ue?null==e?(t||be()).body:("function"===typeof e&&(e=e()),e&&"current"in e&&(e=e.current),null!=(n=e)&&n.nodeType&&e||null):null};var zt,qt=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","backdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function Kt(e){var t=Vt(),n=e||function(e){return zt||(zt=new jt({ownerDocument:null==e?void 0:e.document})),zt}(t),r=(0,c.useRef)({dialog:null,backdrop:null});return Object.assign(r.current,{add:function(){return n.add(r.current)},remove:function(){return n.remove(r.current)},isTopModal:function(){return n.isTopModal(r.current)},setDialogRef:(0,c.useCallback)((function(e){r.current.dialog=e}),[]),setBackdropRef:(0,c.useCallback)((function(e){r.current.backdrop=e}),[])})}var Wt=(0,c.forwardRef)((function(e,t){var n=e.show,r=void 0!==n&&n,i=e.role,a=void 0===i?"dialog":i,o=e.className,s=e.style,l=e.children,f=e.backdrop,h=void 0===f||f,d=e.keyboard,p=void 0===d||d,v=e.onBackdropClick,m=e.onEscapeKeyDown,y=e.transition,g=e.backdropTransition,k=e.autoFocus,b=void 0===k||k,w=e.enforceFocus,x=void 0===w||w,_=e.restoreFocus,E=void 0===_||_,I=e.restoreFocusOptions,S=e.renderDialog,T=e.renderBackdrop,C=void 0===T?function(e){return(0,ce.jsx)("div",Object.assign({},e))}:T,N=e.manager,A=e.container,D=e.onShow,P=e.onHide,R=void 0===P?function(){}:P,O=e.onExit,L=e.onExited,M=e.onExiting,F=e.onEnter,j=e.onEntering,U=e.onEntered,V=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,qt),B=function(e,t){var n=Vt(),r=u((0,c.useState)((function(){return Bt(e,null==n?void 0:n.document)})),2),i=r[0],a=r[1];if(!i){var o=Bt(e);o&&a(o)}return(0,c.useEffect)((function(){t&&i&&t(i)}),[t,i]),(0,c.useEffect)((function(){var t=Bt(e);t!==i&&a(t)}),[e,i]),i}(A),z=Kt(N),q=function(){var e=(0,c.useRef)(!0),t=(0,c.useRef)((function(){return e.current}));return(0,c.useEffect)((function(){return e.current=!0,function(){e.current=!1}}),[]),t.current}(),K=function(e){var t=(0,c.useRef)(null);return(0,c.useEffect)((function(){t.current=e})),t.current}(r),W=u((0,c.useState)(!r),2),G=W[0],H=W[1],Q=(0,c.useRef)(null);(0,c.useImperativeHandle)(t,(function(){return z}),[z]),Ue&&!K&&r&&(Q.current=Tt()),y||r||G?r&&G&&H(!1):H(!0);var Y=yt((function(){if(z.add(),te.current=We(document,"keydown",Z),ee.current=We(document,"focus",(function(){return setTimeout(X)}),!0),D&&D(),b){var e=Tt(document);z.dialog&&e&&!Ct(z.dialog,e)&&(Q.current=e,z.dialog.focus())}})),$=yt((function(){var e;(z.remove(),null==te.current||te.current(),null==ee.current||ee.current(),E)&&(null==(e=Q.current)||null==e.focus||e.focus(I),Q.current=null)}));(0,c.useEffect)((function(){r&&B&&Y()}),[r,B,Y]),(0,c.useEffect)((function(){G&&$()}),[G,$]),Nt((function(){$()}));var X=yt((function(){if(x&&q()&&z.isTopModal()){var e=Tt();z.dialog&&e&&!Ct(z.dialog,e)&&z.dialog.focus()}})),J=yt((function(e){e.target===e.currentTarget&&(null==v||v(e),!0===h&&R())})),Z=yt((function(e){p&&27===e.keyCode&&z.isTopModal()&&(null==m||m(e),e.defaultPrevented||R())})),ee=(0,c.useRef)(),te=(0,c.useRef)(),ne=y;if(!B||!(r||ne&&!G))return null;var re=Object.assign({role:a,ref:z.setDialogRef,"aria-modal":"dialog"===a||void 0},V,{style:s,className:o,tabIndex:-1}),ie=S?S(re):(0,ce.jsx)("div",Object.assign({},re,{children:c.cloneElement(l,{role:"document"})}));ne&&(ie=(0,ce.jsx)(ne,{appear:!0,unmountOnExit:!0,in:!!r,onExit:O,onExiting:M,onExited:function(){H(!0),null==L||L.apply(void 0,arguments)},onEnter:F,onEntering:j,onEntered:U,children:ie}));var ae=null;if(h){var oe=g;ae=C({ref:z.setBackdropRef,onClick:J}),oe&&(ae=(0,ce.jsx)(oe,{appear:!0,in:!!r,children:ae}))}return(0,ce.jsx)(ce.Fragment,{children:Ce.createPortal((0,ce.jsxs)(ce.Fragment,{children:[ae,ie]}),B)})}));Wt.displayName="Modal";var Gt,Ht=Object.assign(Wt,{Manager:jt}),Qt=["className","children","transitionClasses"],Yt=(H(Gt={},Re,"show"),H(Gt,Oe,"show"),Gt),$t=c.forwardRef((function(e,t){var n=e.className,r=e.children,i=e.transitionClasses,a=void 0===i?{}:i,o=X(e,Qt),u=(0,c.useCallback)((function(e,t){Xe(e),null==o.onEnter||o.onEnter(e,t)}),[o]);return(0,ce.jsx)(rt,Y(Y({ref:t,addEndListener:Ye},o),{},{onEnter:u,childRef:r.ref,children:function(e,t){return c.cloneElement(r,Y(Y({},t),{},{className:Z()("fade",n,r.props.className,Yt[e],a[e])}))}}))}));$t.defaultProps={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},$t.displayName="Fade";var Xt,Jt=$t,Zt=me("offcanvas-body"),en=["bsPrefix","className","children"],tn=(H(Xt={},Re,"show"),H(Xt,Oe,"show"),Xt),nn=c.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.children,a=X(e,en);return n=he(n,"offcanvas"),(0,ce.jsx)(rt,Y(Y({ref:t,addEndListener:Ye},a),{},{childRef:i.ref,children:function(e,t){return c.cloneElement(i,Y(Y({},t),{},{className:Z()(r,i.props.className,(e===Re||e===Le)&&"".concat(n,"-toggling"),tn[e])}))}}))}));nn.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1},nn.displayName="OffcanvasToggling";var rn=nn,an=c.createContext({onHide:function(){}}),on=n(7),un=n.n(on),sn=["className","variant"],cn={"aria-label":un().string,onClick:un().func,variant:un().oneOf(["white"])},ln=c.forwardRef((function(e,t){var n=e.className,r=e.variant,i=X(e,sn);return(0,ce.jsx)("button",Y({ref:t,type:"button",className:Z()("btn-close",r&&"btn-close-".concat(r),n)},i))}));ln.displayName="CloseButton",ln.propTypes=cn,ln.defaultProps={"aria-label":"Close"};var fn=ln,hn=["closeLabel","closeVariant","closeButton","onHide","children"],dn=c.forwardRef((function(e,t){var n=e.closeLabel,r=e.closeVariant,i=e.closeButton,a=e.onHide,o=e.children,u=X(e,hn),s=(0,c.useContext)(an),l=yt((function(){null==s||s.onHide(),null==a||a()}));return(0,ce.jsxs)("div",Y(Y({ref:t},u),{},{children:[o,i&&(0,ce.jsx)(fn,{"aria-label":n,variant:r,onClick:l})]}))}));dn.defaultProps={closeLabel:"Close",closeButton:!1};var pn=dn,vn=["bsPrefix","className"],mn=c.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=X(e,vn);return n=he(n,"offcanvas-header"),(0,ce.jsx)(pn,Y(Y({ref:t},i),{},{className:Z()(r,n)}))}));mn.displayName="OffcanvasHeader",mn.defaultProps={closeLabel:"Close",closeButton:!1};var yn=mn,gn=function(e){return c.forwardRef((function(t,n){return(0,ce.jsx)("div",Y(Y({},t),{},{ref:n,className:Z()(t.className,e)}))}))},kn=me("offcanvas-title",{Component:gn("h5")});function bn(e){return bn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},bn(e)}function wn(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=bn(e)););return e}function xn(){return xn="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=wn(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},xn.apply(this,arguments)}function _n(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Te(e,t)}function En(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(lA){return!1}}function In(e){return In="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},In(e)}function Sn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Tn(e,t){if(t&&("object"===In(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Sn(e)}function Cn(e){var t=En();return function(){var n,r=bn(e);if(t){var i=bn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Tn(this,n)}}var Nn=Function.prototype.bind.call(Function.prototype.call,[].slice);function An(e,t){return Nn(e.querySelectorAll(t))}function Dn(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var Pn,Rn=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",On=".sticky-top",Ln=".navbar-toggler",Mn=function(e){_n(n,e);var t=Cn(n);function n(){return Pt(this,n),t.apply(this,arguments)}return Ot(n,[{key:"adjustAndStore",value:function(e,t,n){var r=t.style[e];t.dataset[e]=r,Se(t,H({},e,"".concat(parseFloat(Se(t,e))+n,"px")))}},{key:"restore",value:function(e,t){var n=t.dataset[e];void 0!==n&&(delete t.dataset[e],Se(t,H({},e,n)))}},{key:"setContainerStyle",value:function(e){var t=this;xn(bn(n.prototype),"setContainerStyle",this).call(this,e);var r,i,a=this.getElement();if(i="modal-open",(r=a).classList?r.classList.add(i):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(r,i)||("string"===typeof r.className?r.className=r.className+" "+i:r.setAttribute("class",(r.className&&r.className.baseVal||"")+" "+i)),e.scrollBarWidth){var o=this.isRTL?"paddingLeft":"paddingRight",u=this.isRTL?"marginLeft":"marginRight";An(a,Rn).forEach((function(n){return t.adjustAndStore(o,n,e.scrollBarWidth)})),An(a,On).forEach((function(n){return t.adjustAndStore(u,n,-e.scrollBarWidth)})),An(a,Ln).forEach((function(n){return t.adjustAndStore(u,n,e.scrollBarWidth)}))}}},{key:"removeContainerStyle",value:function(e){var t=this;xn(bn(n.prototype),"removeContainerStyle",this).call(this,e);var r,i,a=this.getElement();i="modal-open",(r=a).classList?r.classList.remove(i):"string"===typeof r.className?r.className=Dn(r.className,i):r.setAttribute("class",Dn(r.className&&r.className.baseVal||"",i));var o=this.isRTL?"paddingLeft":"paddingRight",u=this.isRTL?"marginLeft":"marginRight";An(a,Rn).forEach((function(e){return t.restore(o,e)})),An(a,On).forEach((function(e){return t.restore(u,e)})),An(a,Ln).forEach((function(e){return t.restore(u,e)}))}}]),n}(jt);var Fn=Mn,jn=["bsPrefix","className","children","aria-labelledby","placement","show","backdrop","keyboard","scroll","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager"];function Un(e){return(0,ce.jsx)(rn,Y({},e))}function Vn(e){return(0,ce.jsx)(Jt,Y({},e))}var Bn=c.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.children,a=e["aria-labelledby"],o=e.placement,u=e.show,s=e.backdrop,l=e.keyboard,f=e.scroll,h=e.onEscapeKeyDown,d=e.onShow,p=e.onHide,v=e.container,m=e.autoFocus,y=e.enforceFocus,g=e.restoreFocus,k=e.restoreFocusOptions,b=e.onEntered,w=e.onExit,x=e.onExiting,_=e.onEnter,E=e.onEntering,I=e.onExited,S=e.backdropClassName,T=e.manager,C=X(e,jn),N=(0,c.useRef)();n=he(n,"offcanvas");var A=((0,c.useContext)(ht)||{}).onToggle,D=yt((function(){null==A||A(),null==p||p()})),P=(0,c.useMemo)((function(){return{onHide:D}}),[D]);var R=(0,c.useCallback)((function(e){return(0,ce.jsx)("div",Y(Y({},e),{},{className:Z()("".concat(n,"-backdrop"),S)}))}),[S,n]);return(0,ce.jsx)(an.Provider,{value:P,children:(0,ce.jsx)(Ht,{show:u,ref:t,backdrop:s,container:v,keyboard:l,autoFocus:m,enforceFocus:y&&!f,restoreFocus:g,restoreFocusOptions:k,onEscapeKeyDown:h,onShow:d,onHide:D,onEnter:function(e){e&&(e.style.visibility="visible");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==_||_.apply(void 0,[e].concat(n))},onEntering:E,onEntered:b,onExit:w,onExiting:x,onExited:function(e){e&&(e.style.visibility="");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==I||I.apply(void 0,n)},manager:T||(f?(N.current||(N.current=new Fn({handleContainerOverflow:!1})),N.current):function(e){return Pn||(Pn=new Mn(e)),Pn}()),transition:Un,backdropTransition:Vn,renderBackdrop:R,renderDialog:function(e){return(0,ce.jsx)("div",Y(Y(Y({role:"dialog"},e),C),{},{className:Z()(r,n,"".concat(n,"-").concat(o)),"aria-labelledby":a,children:i}))}})})}));Bn.displayName="Offcanvas",Bn.defaultProps={show:!1,backdrop:!0,keyboard:!0,scroll:!1,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,placement:"start"};var zn=Object.assign(Bn,{Body:Zt,Header:yn,Title:kn}),qn=["className","bsPrefix","backdrop","backdropClassName","keyboard","scroll","placement","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onShow","onHide","onEscapeKeyDown","onEnter","onEntering","onEntered","onExit","onExiting","onExited"],Kn=c.forwardRef((function(e,t){var n=e.className,r=e.bsPrefix,i=e.backdrop,a=e.backdropClassName,o=e.keyboard,u=e.scroll,s=e.placement,l=e.autoFocus,f=e.enforceFocus,h=e.restoreFocus,d=e.restoreFocusOptions,p=e.onShow,v=e.onHide,m=e.onEscapeKeyDown,y=e.onEnter,g=e.onEntering,k=e.onEntered,b=e.onExit,w=e.onExiting,x=e.onExited,_=X(e,qn),E=(0,c.useContext)(ht);r=he(r,"offcanvas");var I="string"===typeof(null==E?void 0:E.expand),S=St(I?E.expand:"xs","up");return I&&S?(0,ce.jsx)("div",Y(Y({ref:t},_),{},{className:Z()(n,r,"".concat(r,"-").concat(s))})):(0,ce.jsx)(zn,Y({ref:t,show:!(null==E||!E.expanded),bsPrefix:r,backdrop:i,backdropClassName:a,keyboard:o,scroll:u,placement:s,autoFocus:l,enforceFocus:f,restoreFocus:h,restoreFocusOptions:d,onShow:p,onHide:v,onEscapeKeyDown:m,onEnter:y,onEntering:g,onEntered:k,onExit:b,onExiting:w,onExited:x},_))}));Kn.displayName="NavbarOffcanvas";var Wn=Kn,Gn=["bsPrefix","expand","variant","bg","fixed","sticky","className","as","expanded","onToggle","onSelect","collapseOnSelect"],Hn=me("navbar-text",{Component:"span"}),Qn=c.forwardRef((function(e,t){var n=ie(e,{expanded:"onToggle"}),r=n.bsPrefix,i=n.expand,a=n.variant,o=n.bg,u=n.fixed,s=n.sticky,l=n.className,f=n.as,h=void 0===f?"nav":f,d=n.expanded,p=n.onToggle,v=n.onSelect,m=n.collapseOnSelect,y=X(n,Gn),g=he(r,"navbar"),k=(0,c.useCallback)((function(){null==v||v.apply(void 0,arguments),m&&d&&(null==p||p(!1))}),[v,m,d,p]);void 0===y.role&&"nav"!==h&&(y.role="navigation");var b="".concat(g,"-expand");"string"===typeof i&&(b="".concat(b,"-").concat(i));var w=(0,c.useMemo)((function(){return{onToggle:function(){return null==p?void 0:p(!d)},bsPrefix:g,expanded:!!d,expand:i}}),[g,d,i,p]);return(0,ce.jsx)(ht.Provider,{value:w,children:(0,ce.jsx)(te.Provider,{value:k,children:(0,ce.jsx)(h,Y(Y({ref:t},y),{},{className:Z()(l,g,i&&b,a&&"".concat(g,"-").concat(a),o&&"bg-".concat(o),s&&"sticky-".concat(s),u&&"fixed-".concat(u))}))})})}));Qn.defaultProps={expand:!0,variant:"light",collapseOnSelect:!1},Qn.displayName="Navbar";var Yn=Object.assign(Qn,{Brand:ke,Collapse:vt,Offcanvas:Wn,Text:Hn,Toggle:bt});n(573);var $n=c.createContext(null);$n.displayName="NavContext";var Xn=$n,Jn=c.createContext(null),Zn=["as","disabled"];function er(e){var t=e.tagName,n=e.disabled,r=e.href,i=e.target,a=e.rel,o=e.onClick,u=e.tabIndex,s=void 0===u?0:u,c=e.type;t||(t=null!=r||null!=i||null!=a?"a":"button");var l={tagName:t};if("button"===t)return[{type:c||"button",disabled:n},l];var f=function(e){(n||"a"===t&&function(e){return!e||"#"===e.trim()}(r))&&e.preventDefault(),n?e.stopPropagation():null==o||o(e)};return"a"===t&&(r||(r="#"),n&&(r=void 0)),[{role:"button",disabled:void 0,tabIndex:n?void 0:s,href:r,target:"a"===t?i:void 0,"aria-disabled":n||void 0,rel:"a"===t?a:void 0,onClick:f,onKeyDown:function(e){" "===e.key&&(e.preventDefault(),f(e))}},l]}var tr=c.forwardRef((function(e,t){var n=e.as,r=e.disabled,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,Zn),a=u(er(Object.assign({tagName:n,disabled:r},i)),2),o=a[0],s=a[1].tagName;return(0,ce.jsx)(s,Object.assign({},i,o,{ref:t}))}));tr.displayName="Button";var nr=tr,rr=["as","active","eventKey"];function ir(e){var t=e.key,n=e.onClick,r=e.active,i=e.id,a=e.role,o=e.disabled,u=(0,c.useContext)(te),s=(0,c.useContext)(Xn),l=(0,c.useContext)(Jn),f=r,h={role:a};if(s){a||"tablist"!==s.role||(h.role="tab");var d=s.getControllerId(null!=t?t:null),p=s.getControlledId(null!=t?t:null);h[Lt("event-key")]=t,h.id=d||i,!(f=null==r&&null!=t?s.activeKey===t:r)&&(null!=l&&l.unmountOnExit||null!=l&&l.mountOnEnter)||(h["aria-controls"]=p)}return"tab"===h.role&&(o&&(h.tabIndex=-1,h["aria-disabled"]=!0),f?h["aria-selected"]=f:h.tabIndex=-1),h.onClick=yt((function(e){o||(null==n||n(e),null!=t&&u&&!e.isPropagationStopped()&&u(t,e))})),[h,{isActive:f}]}var ar=c.forwardRef((function(e,t){var n=e.as,r=void 0===n?nr:n,i=e.active,a=e.eventKey,o=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,rr),s=u(ir(Object.assign({key:ee(a,o.href),active:i},o)),2),c=s[0],l=s[1];return c[Lt("active")]=l.isActive,(0,ce.jsx)(r,Object.assign({},o,c,{ref:t}))}));ar.displayName="NavItem";var or=ar,ur=["as","onSelect","activeKey","role","onKeyDown"];var sr=function(){},cr=Lt("event-key"),lr=c.forwardRef((function(e,t){var n,r,i=e.as,a=void 0===i?"div":i,o=e.onSelect,u=e.activeKey,s=e.role,l=e.onKeyDown,f=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,ur),h=(0,c.useReducer)((function(e){return!e}),!1)[1],d=(0,c.useRef)(!1),p=(0,c.useContext)(te),v=(0,c.useContext)(Jn);v&&(s=s||"tablist",u=v.activeKey,n=v.getControlledId,r=v.getControllerId);var m=(0,c.useRef)(null),y=function(e){var t=m.current;if(!t)return null;var n=An(t,"[".concat(cr,"]:not([aria-disabled=true])")),r=t.querySelector("[aria-selected=true]");if(!r||r!==document.activeElement)return null;var i=n.indexOf(r);if(-1===i)return null;var a=i+e;return a>=n.length&&(a=0),a<0&&(a=n.length-1),n[a]},g=function(e,t){null!=e&&(null==o||o(e,t),null==p||p(e,t))};(0,c.useEffect)((function(){if(m.current&&d.current){var e=m.current.querySelector("[".concat(cr,"][aria-selected=true]"));null==e||e.focus()}d.current=!1}));var k=Ze(t,m);return(0,ce.jsx)(te.Provider,{value:g,children:(0,ce.jsx)(Xn.Provider,{value:{role:s,activeKey:ee(u),getControlledId:n||sr,getControllerId:r||sr},children:(0,ce.jsx)(a,Object.assign({},f,{onKeyDown:function(e){if(null==l||l(e),v){var t,n;switch(e.key){case"ArrowLeft":case"ArrowUp":t=y(-1);break;case"ArrowRight":case"ArrowDown":t=y(1);break;default:return}if(t)e.preventDefault(),g(t.dataset[(n="EventKey","".concat("rrUi").concat(n))]||null,e),d.current=!0,h()}},ref:k,role:s}))})})}));lr.displayName="Nav";var fr=Object.assign(lr,{Item:or}),hr=c.createContext(null);hr.displayName="CardHeaderContext";var dr=hr,pr=me("nav-item");new WeakMap;var vr=["onKeyDown"];var mr=c.forwardRef((function(e,t){var n,r=e.onKeyDown,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,vr),a=u(er(Object.assign({tagName:"a"},i)),1)[0],o=yt((function(e){a.onKeyDown(e),null==r||r(e)}));return((n=i.href)&&"#"!==n.trim()||i.role)&&"button"!==i.role?(0,ce.jsx)("a",Object.assign({ref:t},i,{onKeyDown:r})):(0,ce.jsx)("a",Object.assign({ref:t},i,a,{onKeyDown:o}))}));mr.displayName="Anchor";var yr=mr,gr=["bsPrefix","className","as","active","eventKey"],kr=c.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,a=void 0===i?yr:i,o=e.active,s=e.eventKey,c=X(e,gr);n=he(n,"nav-link");var l=u(ir(Y({key:ee(s,c.href),active:o},c)),2),f=l[0],h=l[1];return(0,ce.jsx)(a,Y(Y(Y({},c),f),{},{ref:t,className:Z()(r,n,c.disabled&&"disabled",h.isActive&&"active")}))}));kr.displayName="NavLink",kr.defaultProps={disabled:!1};var br=kr,wr=["as","bsPrefix","variant","fill","justify","navbar","navbarScroll","className","activeKey"],xr=c.forwardRef((function(e,t){var n,r,i,a=ie(e,{activeKey:"onSelect"}),o=a.as,u=void 0===o?"div":o,s=a.bsPrefix,l=a.variant,f=a.fill,h=a.justify,d=a.navbar,p=a.navbarScroll,v=a.className,m=a.activeKey,y=X(a,wr),g=he(s,"nav"),k=!1,b=(0,c.useContext)(ht),w=(0,c.useContext)(dr);return b?(r=b.bsPrefix,k=null==d||d):w&&(i=w.cardHeaderBsPrefix),(0,ce.jsx)(fr,Y({as:u,ref:t,activeKey:m,className:Z()(v,(n={},H(n,g,!k),H(n,"".concat(r,"-nav"),k),H(n,"".concat(r,"-nav-scroll"),k&&p),H(n,"".concat(i,"-").concat(l),!!i),H(n,"".concat(g,"-").concat(l),!!l),H(n,"".concat(g,"-fill"),f),H(n,"".concat(g,"-justified"),h),n))},y))}));xr.displayName="Nav",xr.defaultProps={justify:!1,fill:!1};var _r=Object.assign(xr,{Item:pr,Link:br}),Er=["as","bsPrefix","variant","size","active","className"],Ir=c.forwardRef((function(e,t){var n=e.as,r=e.bsPrefix,i=e.variant,a=e.size,o=e.active,s=e.className,c=X(e,Er),l=he(r,"btn"),f=u(er(Y({tagName:n},c)),2),h=f[0],d=f[1].tagName;return(0,ce.jsx)(d,Y(Y(Y({},h),c),{},{ref:t,className:Z()(s,l,o&&"active",i&&"".concat(l,"-").concat(i),a&&"".concat(l,"-").concat(a),c.href&&c.disabled&&"disabled")}))}));Ir.displayName="Button",Ir.defaultProps={variant:"primary",active:!1,disabled:!1};var Sr=Ir,Tr=["bsPrefix","fluid","as","className"],Cr=c.forwardRef((function(e,t){var n=e.bsPrefix,r=e.fluid,i=e.as,a=void 0===i?"div":i,o=e.className,u=X(e,Tr),s=he(n,"container"),c="string"===typeof r?"-".concat(r):"-fluid";return(0,ce.jsx)(a,Y(Y({ref:t},u),{},{className:Z()(o,r?"".concat(s).concat(c):s)}))}));Cr.displayName="Container",Cr.defaultProps={fluid:!1};var Nr=Cr,Ar=function(){return(0,ce.jsxs)("div",{ClassName:"new",children:[(0,ce.jsx)(Yn,{bg:"dark",variant:"dark",children:(0,ce.jsxs)(Nr,{children:[(0,ce.jsx)(Yn.Brand,{href:"/",children:"SMIT"}),(0,ce.jsxs)(_r,{children:[(0,ce.jsx)(_r.Link,{href:"/",children:"Home"}),(0,ce.jsx)(_r.Link,{href:"/login",children:"Login"}),(0,ce.jsx)(_r.Link,{href:"/signup",children:"SignUp"}),(0,ce.jsx)(_r.Link,{href:"/course",children:"Courses"})]})]})}),(0,ce.jsx)("div",{className:"d-grid gap-2",children:(0,ce.jsx)(Sr,{href:"/feeds",variant:"primary",size:"lg",children:"Show Posts"})}),(0,ce.jsx)(B,{})]})};function Dr(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=a(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return u=e.done,e},e:function(e){s=!0,o=e},f:function(){try{u||null==n.return||n.return()}finally{if(s)throw o}}}}function Pr(e,t,n){return Pr=En()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Te(i,n.prototype),i},Pr.apply(null,arguments)}function Rr(e){var t="function"===typeof Map?new Map:void 0;return Rr=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Pr(e,arguments,bn(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Te(n,e)},Rr(e)}var Or=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Lr={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Or(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Mr=function(e){return function(e){var t=Or(e);return Lr.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Fr=function(e){try{return Lr.decodeString(e,!0)}catch(lA){console.error("base64Decode failed: ",lA)}return null};function jr(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=jr(e[n],t[n]));return e}var Ur=function(){function e(){var t=this;Pt(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return Ot(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Vr(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Mr(JSON.stringify({alg:"none",type:"JWT"})),Mr(JSON.stringify(a)),""].join(".")}function Br(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function zr(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Br())}function qr(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(lA){return!1}}function Kr(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Wr(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Gr(){var e=Br();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Hr(){return"object"===typeof indexedDB}var Qr=function(e){_n(n,e);var t=Cn(n);function n(e,r,i){var a;return Pt(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(Sn(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(Sn(a),Yr.prototype.create),a}return Ot(n)}(Rr(Error)),Yr=function(){function e(t,n,r){Pt(this,e),this.service=t,this.serviceName=n,this.errors=r}return Ot(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?$r(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new Qr(n,a,t);return o}}]),e}();function $r(e,t){return e.replace(Xr,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var Xr=/\{\$([^}]+)}/g;function Jr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Zr(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(ei(u)&&ei(s)){if(!Zr(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function ei(e){return null!==e&&"object"===typeof e}function ti(e){for(var t=[],n=function(){var e=u(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function ni(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=u(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function ri(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function ii(e,t){var n=new ai(e,t);return n.subscribe.bind(n)}var ai=function(){function e(t,n){var r=this;Pt(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return Ot(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=Dr(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=oi),void 0===r.error&&(r.error=oi),void 0===r.complete&&(r.complete=oi);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(lA){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(lA){"undefined"!==typeof console&&console.error&&console.error(lA)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function oi(){}function ui(e){return e&&e._delegate?e._delegate:e}function si(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function ci(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){si(a,r,i,o,u,"next",e)}function u(e){si(a,r,i,o,u,"throw",e)}o(void 0)}))}}var li=n(757),fi=n.n(li),hi=function(){function e(t,n,r){Pt(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Ot(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),di="[DEFAULT]",pi=function(){function e(t,n){Pt(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return Ot(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Ur;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(lA){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(lA){if(r)return null;throw lA}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:di})}catch(lA){}var t,n=Dr(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=u(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(lA){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:di;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=ci(li.mark((function e(){var t;return li.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(Dt(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),Dt(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:di;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:di;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=Dr(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=u(i.value,2),c=s[0],l=s[1],f=this.normalizeInstanceIdentifier(c);r===f&&l.resolve(a)}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=Dr(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(cS){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===di?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(cS){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:di;return this.component?this.component.multipleInstances?e:di:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var vi,mi,yi=function(){function e(t){Pt(this,e),this.name=t,this.providers=new Map}return Ot(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new pi(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),gi=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(mi||(mi={}));var ki={debug:mi.DEBUG,verbose:mi.VERBOSE,info:mi.INFO,warn:mi.WARN,error:mi.ERROR,silent:mi.SILENT},bi=mi.INFO,wi=(H(vi={},mi.DEBUG,"log"),H(vi,mi.VERBOSE,"log"),H(vi,mi.INFO,"info"),H(vi,mi.WARN,"warn"),H(vi,mi.ERROR,"error"),vi),xi=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=wi[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},_i=function(){function e(t){Pt(this,e),this.name=t,this._logLevel=bi,this._logHandler=xi,this._userLogHandler=null,gi.push(this)}return Ot(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in mi))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?ki[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,mi.DEBUG].concat(t)),this._logHandler.apply(this,[this,mi.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,mi.VERBOSE].concat(t)),this._logHandler.apply(this,[this,mi.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,mi.INFO].concat(t)),this._logHandler.apply(this,[this,mi.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,mi.WARN].concat(t)),this._logHandler.apply(this,[this,mi.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,mi.ERROR].concat(t)),this._logHandler.apply(this,[this,mi.ERROR].concat(t))}}]),e}();var Ei,Ii;var Si=new WeakMap,Ti=new WeakMap,Ci=new WeakMap,Ni=new WeakMap,Ai=new WeakMap;var Di={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Ti.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Ci.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Oi(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Pi(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Ii||(Ii=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Li(this),n),Oi(Si.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Oi(e.apply(Li(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[Li(this),t].concat(r));return Ci.set(a,t.sort?t.sort():[t]),Oi(a)}}function Ri(e){return"function"===typeof e?Pi(e):(e instanceof IDBTransaction&&function(e){if(!Ti.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Ti.set(e,t)}}(e),t=e,(Ei||(Ei=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,Di):e);var t}function Oi(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Oi(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Si.set(t,e)})).catch((function(){})),Ai.set(t,e),t}(e);if(Ni.has(e))return Ni.get(e);var t=Ri(e);return t!==e&&(Ni.set(e,t),Ai.set(t,e)),t}var Li=function(e){return Ai.get(e)};var Mi,Fi,ji=["get","getKey","getAll","getAllKeys","count"],Ui=["put","add","delete","clear"],Vi=new Map;function Bi(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Vi.get(t))return Vi.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Ui.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||ji.includes(n))){var a=function(){var e=ci(li.mark((function e(t){var a,o,u,s,c,l,f=arguments;return li.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Vi.set(t,a),a}}}Di=function(e){return Y(Y({},e),{},{get:function(t,n,r){return Bi(t,n)||e.get(t,n,r)},has:function(t,n){return!!Bi(t,n)||e.has(t,n)}})}(Di);var zi=function(){function e(t){Pt(this,e),this.container=t}return Ot(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var qi="@firebase/app",Ki="0.7.24",Wi=new _i("@firebase/app"),Gi="[DEFAULT]",Hi=(H(Mi={},qi,"fire-core"),H(Mi,"@firebase/app-compat","fire-core-compat"),H(Mi,"@firebase/analytics","fire-analytics"),H(Mi,"@firebase/analytics-compat","fire-analytics-compat"),H(Mi,"@firebase/app-check","fire-app-check"),H(Mi,"@firebase/app-check-compat","fire-app-check-compat"),H(Mi,"@firebase/auth","fire-auth"),H(Mi,"@firebase/auth-compat","fire-auth-compat"),H(Mi,"@firebase/database","fire-rtdb"),H(Mi,"@firebase/database-compat","fire-rtdb-compat"),H(Mi,"@firebase/functions","fire-fn"),H(Mi,"@firebase/functions-compat","fire-fn-compat"),H(Mi,"@firebase/installations","fire-iid"),H(Mi,"@firebase/installations-compat","fire-iid-compat"),H(Mi,"@firebase/messaging","fire-fcm"),H(Mi,"@firebase/messaging-compat","fire-fcm-compat"),H(Mi,"@firebase/performance","fire-perf"),H(Mi,"@firebase/performance-compat","fire-perf-compat"),H(Mi,"@firebase/remote-config","fire-rc"),H(Mi,"@firebase/remote-config-compat","fire-rc-compat"),H(Mi,"@firebase/storage","fire-gcs"),H(Mi,"@firebase/storage-compat","fire-gcs-compat"),H(Mi,"@firebase/firestore","fire-fst"),H(Mi,"@firebase/firestore-compat","fire-fst-compat"),H(Mi,"fire-js","fire-js"),H(Mi,"firebase","fire-js-all"),Mi),Qi=new Map,Yi=new Map;function $i(e,t){try{e.container.addComponent(t)}catch(lA){Wi.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),lA)}}function Xi(e,t){e.container.addOrOverwriteComponent(t)}function Ji(e){var t=e.name;if(Yi.has(t))return Wi.debug("There were multiple attempts to register component ".concat(t,".")),!1;Yi.set(t,e);var n,r=Dr(Qi.values());try{for(r.s();!(n=r.n()).done;){$i(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Zi(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function ea(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Gi;Zi(e,t).clearInstance(n)}function ta(){Yi.clear()}var na=(H(Fi={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),H(Fi,"bad-app-name","Illegal App name: '{$appName}"),H(Fi,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),H(Fi,"app-deleted","Firebase App named '{$appName}' already deleted"),H(Fi,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),H(Fi,"invalid-log-argument","First argument to `onLog` must be null or a function."),H(Fi,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),H(Fi,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),H(Fi,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),H(Fi,"storage-delete","Error thrown when deleting from storage. Original error: {$originalErrorMessage}."),Fi),ra=new Yr("app","Firebase",na),ia=function(){function e(t,n,r){var i=this;Pt(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new hi("app",(function(){return i}),"PUBLIC"))}return Ot(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw ra.create("app-deleted",{appName:this._name})}}]),e}(),aa="9.8.1";function oa(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:Gi,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw ra.create("bad-app-name",{appName:String(i)});var a=Qi.get(i);if(a){if(Zr(e,a.options)&&Zr(r,a.config))return a;throw ra.create("duplicate-app",{appName:i})}var o,u=new yi(i),s=Dr(Yi.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new ia(e,r,u);return Qi.set(i,l),l}function ua(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gi,t=Qi.get(e);if(!t)throw ra.create("no-app",{appName:e});return t}function sa(){return Array.from(Qi.values())}function ca(e){return la.apply(this,arguments)}function la(){return(la=ci(li.mark((function e(t){var n;return li.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!Qi.has(n)){e.next=6;break}return Qi.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fa(e,t,n){var r,i=null!==(r=Hi[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Wi.warn(u.join(" "))}Ji(new hi("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function ha(e,t){if(null!==e&&"function"!==typeof e)throw ra.create("invalid-log-argument");!function(e,t){var n,r=Dr(gi);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=ki[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:mi[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function da(e){var t;t=e,gi.forEach((function(e){e.setLogLevel(t)}))}var pa="firebase-heartbeat-store",va=null;function ma(){return va||(va=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=Oi(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(Oi(u.result),e.oldVersion,e.newVersion,Oi(u.transaction))})),r&&u.addEventListener("blocked",(function(){return r()})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),s}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(pa)}}).catch((function(e){throw ra.create("storage-open",{originalErrorMessage:e.message})}))),va}function ya(e){return ga.apply(this,arguments)}function ga(){return ga=ci(li.mark((function e(t){var n;return li.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ma();case 3:return n=e.sent,e.abrupt("return",n.transaction(pa).objectStore(pa).get(wa(t)));case 7:throw e.prev=7,e.t0=e.catch(0),ra.create("storage-get",{originalErrorMessage:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),ga.apply(this,arguments)}function ka(e,t){return ba.apply(this,arguments)}function ba(){return ba=ci(li.mark((function e(t,n){var r,i,a;return li.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ma();case 3:return r=e.sent,i=r.transaction(pa,"readwrite"),a=i.objectStore(pa),e.next=8,a.put(n,wa(t));case 8:return e.abrupt("return",i.done);case 11:throw e.prev=11,e.t0=e.catch(0),ra.create("storage-set",{originalErrorMessage:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),ba.apply(this,arguments)}function wa(e){return"".concat(e.name,"!").concat(e.options.appId)}var xa=function(){function e(t){var n=this;Pt(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Ta(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return Ot(e,[{key:"triggerHeartbeat",value:function(){var e=ci(li.mark((function e(){var t,n,r;return li.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=_a(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=ci(li.mark((function e(){var t,n,r,i,a;return li.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=_a(),n=Ea(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=Mr(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function _a(){return(new Date).toISOString().substring(0,10)}function Ea(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=Dr(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Ca(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),Ca(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var u=o();if("break"===u)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Ia,Sa,Ta=function(){function e(t){Pt(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return Ot(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=ci(li.mark((function e(){return li.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Hr()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=ci(li.mark((function e(){var t;return li.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,ya(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=ci(li.mark((function e(t){var n,r;return li.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",ka(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=ci(li.mark((function e(t){var n,r;return li.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",ka(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(Dt(r.heartbeats),Dt(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Ca(e){return Mr(JSON.stringify({version:2,heartbeats:e})).length}Ia="",Ji(new hi("platform-logger",(function(e){return new zi(e)}),"PRIVATE")),Ji(new hi("heartbeat",(function(e){return new xa(e)}),"PRIVATE")),fa(qi,Ki,Ia),fa(qi,Ki,"esm2017"),fa("fire-js","");var Na=function(){function e(t,n){var r=this;Pt(this,e),this._delegate=t,this.firebase=n,$i(t,new hi("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return Ot(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),ca(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Gi;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Gi;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){$i(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Xi(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),Aa=(H(Sa={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),H(Sa,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Sa),Da=new Yr("app-compat","Firebase",Aa);var Pa=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=oa(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Jr(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:fa,setLogLevel:da,onLog:ha,apps:null,SDK_VERSION:aa,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(Ji(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw Da.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&jr(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Jr(n,e=e||Gi))throw Da.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(Na);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){jr(n,e)},createSubscribe:ii,ErrorFactory:Yr,deepExtend:jr}),n}(),Ra=new _i("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Ra.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Oa=self.firebase.SDK_VERSION;Oa&&Oa.indexOf("LITE")>=0&&Ra.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var La=Pa;!function(e){fa("@firebase/app-compat","0.1.25",e)}();La.registerVersion("firebase","9.8.1","app-compat");function Ma(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var Fa;Object.create;var ja="facebook.com",Ua="github.com",Va="google.com",Ba="password",za="twitter.com",qa="EMAIL_SIGNIN",Ka="PASSWORD_RESET",Wa="RECOVER_EMAIL",Ga="REVERT_SECOND_FACTOR_ADDITION",Ha="VERIFY_AND_CHANGE_EMAIL",Qa="VERIFY_EMAIL";function Ya(){return H({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var $a=function(){var e;return H(e={},"admin-restricted-operation","This operation is restricted to administrators only."),H(e,"argument-error",""),H(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),H(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),H(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),H(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),H(e,"cordova-not-ready","Cordova framework is not ready."),H(e,"cors-unsupported","This browser is not supported."),H(e,"credential-already-in-use","This credential is already associated with a different user account."),H(e,"custom-token-mismatch","The custom token corresponds to a different audience."),H(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),H(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),H(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),H(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),H(e,"email-already-in-use","The email address is already in use by another account."),H(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),H(e,"expired-action-code","The action code has expired."),H(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),H(e,"internal-error","An internal AuthError has occurred."),H(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),H(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),H(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),H(e,"invalid-auth-event","An internal AuthError has occurred."),H(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),H(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),H(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),H(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),H(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),H(e,"invalid-email","The email address is badly formatted."),H(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),H(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),H(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),H(e,"invalid-credential","The supplied auth credential is malformed or has expired."),H(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),H(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),H(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),H(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),H(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),H(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),H(e,"wrong-password","The password is invalid or the user does not have a password."),H(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),H(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),H(e,"invalid-provider-id","The specified provider ID is invalid."),H(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),H(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),H(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),H(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),H(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),H(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),H(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),H(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),H(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),H(e,"missing-continue-uri","A continue URL must be provided in the request."),H(e,"missing-iframe-start","An internal AuthError has occurred."),H(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),H(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),H(e,"missing-multi-factor-info","No second factor identifier is provided."),H(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),H(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),H(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),H(e,"app-deleted","This instance of FirebaseApp has been deleted."),H(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),H(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),H(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),H(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),H(e,"no-auth-event","An internal AuthError has occurred."),H(e,"no-such-provider","User was not linked to an account with the given provider."),H(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),H(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),H(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),H(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),H(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),H(e,"provider-already-linked","User can only be linked to one identity for the given provider."),H(e,"quota-exceeded","The project's quota for this operation has been exceeded."),H(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),H(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),H(e,"rejected-credential","The request contains malformed or mismatching credentials."),H(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),H(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),H(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),H(e,"timeout","The operation has timed out."),H(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),H(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),H(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),H(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),H(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),H(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),H(e,"unverified-email","The operation requires a verified email."),H(e,"user-cancelled","The user did not grant your application the permissions it requested."),H(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),H(e,"user-disabled","The user account has been disabled by an administrator."),H(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),H(e,"user-signed-out",""),H(e,"weak-password","The password must be 6 characters long or more."),H(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),H(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},Xa=Ya,Ja=new Yr("auth","Firebase",Ya()),Za=new _i("@firebase/auth");function eo(e){if(Za.logLevel<=mi.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Za.error.apply(Za,["Auth (".concat(aa,"): ").concat(e)].concat(n))}}function to(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw ao.apply(void 0,[e].concat(n))}function no(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return ao.apply(void 0,[e].concat(n))}function ro(e,t,n){var r=Object.assign(Object.assign({},Xa()),H({},t,n));return new Yr("auth","Firebase",r).create(t,{appName:e.name})}function io(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&to(e,"argument-error"),ro(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function ao(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=Dt(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(Dt(o)))}return Ja.create.apply(Ja,[e].concat(n))}function oo(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw ao.apply(void 0,[t].concat(r))}}function uo(e){var t="INTERNAL ASSERTION FAILED: "+e;throw eo(t),new Error(t)}function so(e,t){e||uo(t)}var co=new Map;function lo(e){so(e instanceof Function,"Expected a class definition");var t=co.get(e);return t?(so(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,co.set(e,t),t)}function fo(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function ho(){return"http:"===po()||"https:"===po()}function po(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var vo=function(){function e(t,n){Pt(this,e),this.shortDelay=t,this.longDelay=n,so(n>t,"Short delay should be less than long delay!"),this.isMobile=zr()||Wr()}return Ot(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(ho()||Kr()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function mo(e,t){so(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var yo=function(){function e(){Pt(this,e)}return Ot(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void uo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void uo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void uo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),go=(H(Fa={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),H(Fa,"MISSING_CUSTOM_TOKEN","internal-error"),H(Fa,"INVALID_IDENTIFIER","invalid-email"),H(Fa,"MISSING_CONTINUE_URI","internal-error"),H(Fa,"INVALID_PASSWORD","wrong-password"),H(Fa,"MISSING_PASSWORD","internal-error"),H(Fa,"EMAIL_EXISTS","email-already-in-use"),H(Fa,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),H(Fa,"INVALID_IDP_RESPONSE","invalid-credential"),H(Fa,"INVALID_PENDING_TOKEN","invalid-credential"),H(Fa,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),H(Fa,"MISSING_REQ_TYPE","internal-error"),H(Fa,"EMAIL_NOT_FOUND","user-not-found"),H(Fa,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),H(Fa,"EXPIRED_OOB_CODE","expired-action-code"),H(Fa,"INVALID_OOB_CODE","invalid-action-code"),H(Fa,"MISSING_OOB_CODE","internal-error"),H(Fa,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),H(Fa,"INVALID_ID_TOKEN","invalid-user-token"),H(Fa,"TOKEN_EXPIRED","user-token-expired"),H(Fa,"USER_NOT_FOUND","user-token-expired"),H(Fa,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),H(Fa,"INVALID_CODE","invalid-verification-code"),H(Fa,"INVALID_SESSION_INFO","invalid-verification-id"),H(Fa,"INVALID_TEMPORARY_PROOF","invalid-credential"),H(Fa,"MISSING_SESSION_INFO","missing-verification-id"),H(Fa,"SESSION_EXPIRED","code-expired"),H(Fa,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),H(Fa,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),H(Fa,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),H(Fa,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),H(Fa,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),H(Fa,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),H(Fa,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),H(Fa,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),H(Fa,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),H(Fa,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),H(Fa,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),Fa),ko=new vo(3e4,6e4);function bo(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function wo(e,t,n,r){return xo.apply(this,arguments)}function xo(){return xo=ci(fi().mark((function e(t,n,r,i){var a,o=arguments;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",_o(t,a,ci(fi().mark((function e(){var a,o,u,s;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=ti(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",yo.fetch()(To(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),xo.apply(this,arguments)}function _o(e,t,n){return Eo.apply(this,arguments)}function Eo(){return(Eo=ci(fi().mark((function e(t,n,r){var i,a,o,s,c,l,f,h,d,p;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},go),n),e.prev=2,a=new Co(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw No(t,"account-exists-with-different-credential",s);case 13:if(!o.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(c=o.ok?s.errorMessage:s.error.message,l=c.split(" : "),f=u(l,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw No(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==h){e.next=25;break}throw No(t,"email-already-in-use",s);case 25:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=30;break}throw ro(t,p,d);case 30:to(t,p);case 31:e.next=38;break;case 33:if(e.prev=33,e.t0=e.catch(2),!(e.t0 instanceof Qr)){e.next=37;break}throw e.t0;case 37:to(t,"network-request-failed");case 38:case"end":return e.stop()}}),e,null,[[2,33]])})))).apply(this,arguments)}function Io(e,t,n,r){return So.apply(this,arguments)}function So(){return So=ci(fi().mark((function e(t,n,r,i){var a,o,u=arguments;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,wo(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&to(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),So.apply(this,arguments)}function To(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?mo(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Co=function(){function e(t){var n=this;Pt(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(no(n.auth,"network-request-failed"))}),ko.get())}))}return Ot(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function No(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=no(e,t,r);return i.customData._tokenResponse=n,i}function Ao(e,t){return Do.apply(this,arguments)}function Do(){return(Do=ci(fi().mark((function e(t,n){return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wo(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Po(e,t){return Ro.apply(this,arguments)}function Ro(){return(Ro=ci(fi().mark((function e(t,n){return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wo(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Oo(e,t){return Lo.apply(this,arguments)}function Lo(){return(Lo=ci(fi().mark((function e(t,n){return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wo(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Mo(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(lA){}}function Fo(){return Fo=ci(fi().mark((function e(t){var n,r,i,a,o,u,s=arguments;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=ui(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,oo((a=Uo(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:Mo(jo(a.auth_time)),issuedAtTime:Mo(jo(a.iat)),expirationTime:Mo(jo(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Fo.apply(this,arguments)}function jo(e){return 1e3*Number(e)}function Uo(e){var t=u(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return eo("JWT malformed, contained fewer than 3 sections"),null;try{var a=Fr(r);return a?JSON.parse(a):(eo("Failed to decode base64 JWT payload"),null)}catch(lA){return eo("Caught error parsing JWT payload as JSON",lA),null}}function Vo(e,t){return Bo.apply(this,arguments)}function Bo(){return Bo=ci(fi().mark((function e(t,n){var r=arguments;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof Qr&&zo(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Bo.apply(this,arguments)}function zo(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var qo=function(){function e(t){Pt(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return Ot(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(ci(fi().mark((function t(){return fi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=ci(fi().mark((function e(){return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Ko=function(){function e(t,n){Pt(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return Ot(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Mo(this.lastLoginAt),this.creationTime=Mo(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function Wo(e){return Go.apply(this,arguments)}function Go(){return Go=ci(fi().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Vo(t,Oo(r,{idToken:i}));case 6:oo(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?Yo(o.providerUserInfo):[],s=Qo(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new Ko(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),Go.apply(this,arguments)}function Ho(){return(Ho=ci(fi().mark((function e(t){var n;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ui(t),e.next=3,Wo(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qo(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(Dt(n),Dt(t))}function Yo(e){return e.map((function(e){var t=e.providerId,n=Ma(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function $o(e,t){return Xo.apply(this,arguments)}function Xo(){return(Xo=ci(fi().mark((function e(t,n){var r;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_o(t,{},ci(fi().mark((function e(){var r,i,a,o,u,s;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ti({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=To(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",yo.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Jo=function(){function e(){Pt(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return Ot(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){oo(e.idToken,"internal-error"),oo("undefined"!==typeof e.idToken,"internal-error"),oo("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=Uo(e);return oo(t,"internal-error"),oo("undefined"!==typeof t.exp,"internal-error"),oo("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=ci(fi().mark((function e(t){var n,r=arguments;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],oo(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=ci(fi().mark((function e(t,n){var r,i,a,o;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$o(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return uo("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(oo("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(oo("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(oo("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function Zo(e,t){oo("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var eu=function(){function e(t){Pt(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=Ma(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new qo(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?Dt(a.providerData):[],this.metadata=new Ko(a.createdAt||void 0,a.lastLoginAt||void 0)}return Ot(e,[{key:"getIdToken",value:function(){var e=ci(fi().mark((function e(t){var n;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vo(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(oo(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Fo.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return Ho.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(oo(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){oo(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=ci(fi().mark((function e(t){var n,r,i=arguments;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,Wo(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=ci(fi().mark((function e(){var t;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Vo(this,Ao(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,_=n.stsTokenManager;oo(k&&_,t,"internal-error");var E=Jo.fromJSON(this.name,_);oo("string"===typeof k,t,"internal-error"),Zo(f,t.name),Zo(h,t.name),oo("boolean"===typeof b,t,"internal-error"),oo("boolean"===typeof w,t,"internal-error"),Zo(d,t.name),Zo(p,t.name),Zo(v,t.name),Zo(m,t.name),Zo(y,t.name),Zo(g,t.name);var I=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:E,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(I.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(I._redirectEventId=m),I}},{key:"_fromIdTokenResponse",value:function(){var t=ci(fi().mark((function t(n,r){var i,a,o,u=arguments;return fi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new Jo).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,Wo(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),tu=function(){function e(){Pt(this,e),this.type="NONE",this.storage={}}return Ot(e,[{key:"_isAvailable",value:function(){var e=ci(fi().mark((function e(){return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=ci(fi().mark((function e(t,n){return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=ci(fi().mark((function e(t){var n;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=ci(fi().mark((function e(t){return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();tu.type="NONE";var nu=tu;function ru(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var iu=function(){function e(t,n,r){Pt(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=ru(this.userKey,a.apiKey,o),this.fullPersistenceKey=ru("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return Ot(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=ci(fi().mark((function e(){var t;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?eu._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=ci(fi().mark((function e(t){var n;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=ci(fi().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return fi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(lo(nu),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=ci(fi().mark((function e(t){return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||lo(nu),u=ru(i,n.config.apiKey,n.name),s=null,c=Dr(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=eu._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=ci(fi().mark((function e(t){return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function au(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(cu(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ou(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(fu(t))return"Blackberry";if(hu(t))return"Webos";if(uu(t))return"Safari";if((t.includes("chrome/")||su(t))&&!t.includes("edge/"))return"Chrome";if(lu(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function ou(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Br();return/firefox\//i.test(e)}function uu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Br(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function su(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Br();return/crios\//i.test(e)}function cu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Br();return/iemobile/i.test(e)}function lu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Br();return/android/i.test(e)}function fu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Br();return/blackberry/i.test(e)}function hu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Br();return/webos/i.test(e)}function du(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Br();return/iphone|ipad|ipod/i.test(e)}function pu(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Br();return du(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function vu(){return Gr()&&10===document.documentMode}function mu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Br();return du(e)||lu(e)||hu(e)||fu(e)||/windows phone/i.test(e)||cu(e)}function yu(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=au(Br());break;case"Worker":t="".concat(au(Br()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(aa,"/").concat(r)}var gu=function(){function e(t){Pt(this,e),this.auth=t,this.queue=[]}return Ot(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(lA){r(lA)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=ci(fi().mark((function e(t){var n,r,i,a,o,u,s;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=Dr(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=Dr(n);try{for(o.s();!(u=o.n()).done;){s=u.value;try{s()}catch(c){}}}catch(l){o.e(l)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),ku=function(){function e(t,n,r){Pt(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new wu(this),this.idTokenSubscription=new wu(this),this.beforeStateQueue=new gu(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ja,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return Ot(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=lo(t)),this._initializationPromise=this.queue(ci(fi().mark((function r(){var i,a;return fi().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,iu.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=ci(fi().mark((function e(){var t;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=ci(fi().mark((function e(t){var n,r,i,a,o,u,s;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:s=e.sent,o&&o!==u||!(null===s||void 0===s?void 0:s.user)||(i=s.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return oo(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=ci(fi().mark((function e(t){var n;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=ci(fi().mark((function e(t){return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Wo(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=ci(fi().mark((function e(){return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=ci(fi().mark((function e(t){var n;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?ui(t):null)&&oo(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=ci(fi().mark((function e(t){var n,r=this,i=arguments;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&oo(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(ci(fi().mark((function e(){return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=ci(fi().mark((function e(){return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(ci(fi().mark((function n(){return fi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(lo(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Yr("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=ci(fi().mark((function e(t,n){var r;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=ci(fi().mark((function e(t){var n;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return oo(n=t&&lo(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,iu.create(this,[lo(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=ci(fi().mark((function e(t){var n,r;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(ci(fi().mark((function e(){return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=ci(fi().mark((function e(t){var n=this;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(ci(fi().mark((function e(){return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return oo(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=ci(fi().mark((function e(t){return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return oo(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=yu(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=ci(fi().mark((function e(){var t,n,r;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=H({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function bu(e){return ui(e)}var wu=function(){function e(t){var n=this;Pt(this,e),this.auth=t,this.observer=null,this.addObserver=ii((function(e){return n.observer=e}))}return Ot(e,[{key:"next",get:function(){return oo(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function xu(e,t,n){var r=bu(e);oo(r._canInitEmulator,r,"emulator-config-failed"),oo(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=_u(t),o=function(e){var t=_u(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:Eu(r.substr(a.length+1))}}var o=u(r.split(":"),2);return{host:o[0],port:Eu(o[1])}}(t),s=o.host,c=o.port,l=null===c?"":":".concat(c);r.config.emulator={url:"".concat(a,"//").concat(s).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function _u(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Eu(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var Iu=function(){function e(t,n){Pt(this,e),this.providerId=t,this.signInMethod=n}return Ot(e,[{key:"toJSON",value:function(){return uo("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return uo("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return uo("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return uo("not implemented")}}]),e}();function Su(e,t){return Tu.apply(this,arguments)}function Tu(){return(Tu=ci(fi().mark((function e(t,n){return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wo(t,"POST","/v1/accounts:resetPassword",bo(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Cu(e,t){return Nu.apply(this,arguments)}function Nu(){return(Nu=ci(fi().mark((function e(t,n){return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wo(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Au(e,t){return Du.apply(this,arguments)}function Du(){return(Du=ci(fi().mark((function e(t,n){return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wo(t,"POST","/v1/accounts:update",bo(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pu(e,t){return Ru.apply(this,arguments)}function Ru(){return(Ru=ci(fi().mark((function e(t,n){return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Io(t,"POST","/v1/accounts:signInWithPassword",bo(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ou(e,t){return Lu.apply(this,arguments)}function Lu(){return(Lu=ci(fi().mark((function e(t,n){return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wo(t,"POST","/v1/accounts:sendOobCode",bo(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Mu(e,t){return Fu.apply(this,arguments)}function Fu(){return(Fu=ci(fi().mark((function e(t,n){return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ou(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ju(e,t){return Uu.apply(this,arguments)}function Uu(){return(Uu=ci(fi().mark((function e(t,n){return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ou(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vu(e,t){return Bu.apply(this,arguments)}function Bu(){return(Bu=ci(fi().mark((function e(t,n){return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ou(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zu(e,t){return qu.apply(this,arguments)}function qu(){return(qu=ci(fi().mark((function e(t,n){return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ou(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ku(e,t){return Wu.apply(this,arguments)}function Wu(){return(Wu=ci(fi().mark((function e(t,n){return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Io(t,"POST","/v1/accounts:signInWithEmailLink",bo(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gu(e,t){return Hu.apply(this,arguments)}function Hu(){return(Hu=ci(fi().mark((function e(t,n){return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Io(t,"POST","/v1/accounts:signInWithEmailLink",bo(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Qu=function(e){_n(n,e);var t=Cn(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Pt(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return Ot(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=ci(fi().mark((function e(t){return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Pu(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Ku(t,{email:this._email,oobCode:this._password}));case 5:to(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=ci(fi().mark((function e(t,n){return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Cu(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Gu(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:to(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Iu);function Yu(e,t){return $u.apply(this,arguments)}function $u(){return($u=ci(fi().mark((function e(t,n){return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Io(t,"POST","/v1/accounts:signInWithIdp",bo(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Xu=function(e){_n(n,e);var t=Cn(n);function n(){var e;return Pt(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return Ot(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Yu(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Yu(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Yu(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ti(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):to("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=Ma(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Iu);function Ju(e,t){return Zu.apply(this,arguments)}function Zu(){return(Zu=ci(fi().mark((function e(t,n){return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wo(t,"POST","/v1/accounts:sendVerificationCode",bo(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function es(){return(es=ci(fi().mark((function e(t,n){return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Io(t,"POST","/v1/accounts:signInWithPhoneNumber",bo(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ts(){return(ts=ci(fi().mark((function e(t,n){var r;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Io(t,"POST","/v1/accounts:signInWithPhoneNumber",bo(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw No(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ns=H({},"USER_NOT_FOUND","user-not-found");function rs(){return(rs=ci(fi().mark((function e(t,n){var r;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Io(t,"POST","/v1/accounts:signInWithPhoneNumber",bo(t,r),ns));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var is=function(e){_n(n,e);var t=Cn(n);function n(e){var r;return Pt(this,n),(r=t.call(this,"phone","phone")).params=e,r}return Ot(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return es.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return ts.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return rs.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Iu);var as=function(){function e(t){var n,r,i,a,o,u;Pt(this,e);var s=ni(ri(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);oo(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return Ot(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=ni(ri(e)).link,n=t?ni(ri(t)).deep_link_id:null,r=ni(ri(e)).deep_link_id;return(r?ni(ri(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(cS){return null}}}]),e}();var os=function(){function e(){Pt(this,e),this.providerId=e.PROVIDER_ID}return Ot(e,null,[{key:"credential",value:function(e,t){return Qu._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=as.parseLink(t);return oo(n,"argument-error"),Qu._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();os.PROVIDER_ID="password",os.EMAIL_PASSWORD_SIGN_IN_METHOD="password",os.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var us=function(){function e(t){Pt(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return Ot(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),ss=function(e){_n(n,e);var t=Cn(n);function n(){var e;return Pt(this,n),(e=t.apply(this,arguments)).scopes=[],e}return Ot(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return Dt(this.scopes)}}]),n}(us),cs=function(e){_n(n,e);var t=Cn(n);function n(){return Pt(this,n),t.apply(this,arguments)}return Ot(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return oo(e.idToken||e.accessToken,"argument-error"),Xu._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return oo("providerId"in t&&"signInMethod"in t,"argument-error"),Xu._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(lA){return null}}}]),n}(ss),ls=function(e){_n(n,e);var t=Cn(n);function n(){return Pt(this,n),t.call(this,"facebook.com")}return Ot(n,null,[{key:"credential",value:function(e){return Xu._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(cS){return null}}}]),n}(ss);ls.FACEBOOK_SIGN_IN_METHOD="facebook.com",ls.PROVIDER_ID="facebook.com";var fs=function(e){_n(n,e);var t=Cn(n);function n(){var e;return Pt(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return Ot(n,null,[{key:"credential",value:function(e,t){return Xu._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(cS){return null}}}]),n}(ss);fs.GOOGLE_SIGN_IN_METHOD="google.com",fs.PROVIDER_ID="google.com";var hs=function(e){_n(n,e);var t=Cn(n);function n(){return Pt(this,n),t.call(this,"github.com")}return Ot(n,null,[{key:"credential",value:function(e){return Xu._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(cS){return null}}}]),n}(ss);hs.GITHUB_SIGN_IN_METHOD="github.com",hs.PROVIDER_ID="github.com";var ds=function(e){_n(n,e);var t=Cn(n);function n(e,r){var i;return Pt(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return Ot(n,[{key:"_getIdTokenResponse",value:function(e){return Yu(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Yu(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Yu(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Iu),ps=function(e){_n(n,e);var t=Cn(n);function n(e){return Pt(this,n),oo(e.startsWith("saml."),"argument-error"),t.call(this,e)}return Ot(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=ds.fromJSON(e);return oo(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return ds._create(r,n)}catch(lA){return null}}}]),n}(us),vs=function(e){_n(n,e);var t=Cn(n);function n(){return Pt(this,n),t.call(this,"twitter.com")}return Ot(n,null,[{key:"credential",value:function(e,t){return Xu._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(cS){return null}}}]),n}(ss);function ms(e,t){return ys.apply(this,arguments)}function ys(){return(ys=ci(fi().mark((function e(t,n){return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Io(t,"POST","/v1/accounts:signUp",bo(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}vs.TWITTER_SIGN_IN_METHOD="twitter.com",vs.PROVIDER_ID="twitter.com";var gs=function(){function e(t){Pt(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return Ot(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=ci(fi().mark((function t(n,r,i){var a,o,u,s,c=arguments;return fi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,eu._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=ks(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=ci(fi().mark((function t(n,r,i){var a;return fi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=ks(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function ks(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function bs(){return bs=ci(fi().mark((function e(t){var n,r,i,a;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=bu(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new gs({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,ms(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,gs._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),bs.apply(this,arguments)}var ws=function(e){_n(n,e);var t=Cn(n);function n(e,r,i,a){var o,u;return Pt(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(Sn(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return Ot(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(Qr);function xs(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw ws._fromErrorAndOperation(e,n,t,r);throw n}))}function _s(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function Es(e,t){return Is.apply(this,arguments)}function Is(){return Is=ci(fi().mark((function e(t,n){var r,i,a,o;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ui(t),e.next=3,Cs(!0,r,n);case 3:return e.t0=Po,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=_s(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),Is.apply(this,arguments)}function Ss(e,t){return Ts.apply(this,arguments)}function Ts(){return Ts=ci(fi().mark((function e(t,n){var r,i,a=arguments;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Vo,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",gs._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),Ts.apply(this,arguments)}function Cs(e,t,n){return Ns.apply(this,arguments)}function Ns(){return(Ns=ci(fi().mark((function e(t,n,r){var i,a;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wo(n);case 2:i=_s(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",oo(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function As(e,t){return Ds.apply(this,arguments)}function Ds(){return Ds=ci(fi().mark((function e(t,n){var r,i,a,o,u,s,c=arguments;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,Vo(t,xs(i,a,n,t),r);case 6:return oo((o=e.sent).idToken,i,"internal-error"),oo(u=Uo(o.idToken),i,"internal-error"),s=u.sub,oo(t.uid===s,i,"user-mismatch"),e.abrupt("return",gs._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&to(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Ds.apply(this,arguments)}function Ps(e,t){return Rs.apply(this,arguments)}function Rs(){return Rs=ci(fi().mark((function e(t,n){var r,i,a,o,u=arguments;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,xs(t,i,n);case 4:return a=e.sent,e.next=7,gs._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),Rs.apply(this,arguments)}function Os(e,t){return Ls.apply(this,arguments)}function Ls(){return(Ls=ci(fi().mark((function e(t,n){return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ps(bu(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ms(e,t){return Fs.apply(this,arguments)}function Fs(){return(Fs=ci(fi().mark((function e(t,n){var r;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ui(t),e.next=3,Cs(!1,r,n.providerId);case 3:return e.abrupt("return",Ss(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function js(e,t){return Us.apply(this,arguments)}function Us(){return(Us=ci(fi().mark((function e(t,n){return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",As(ui(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vs(e,t){return Bs.apply(this,arguments)}function Bs(){return(Bs=ci(fi().mark((function e(t,n){return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Io(t,"POST","/v1/accounts:signInWithCustomToken",bo(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zs(){return(zs=ci(fi().mark((function e(t,n){var r,i,a;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=bu(t),e.next=3,Vs(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,gs._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var qs=function(){function e(t,n){Pt(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return Ot(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?Ks._fromServerResponse(e,t):to(e,"internal-error")}}]),e}(),Ks=function(e){_n(n,e);var t=Cn(n);function n(e){var r;return Pt(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return Ot(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(qs);function Ws(e,t,n){var r;oo((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),oo("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(oo(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(oo(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function Gs(){return(Gs=ci(fi().mark((function e(t,n,r){var i,a;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ui(t),a={requestType:"PASSWORD_RESET",email:n},r&&Ws(i,a,r),e.next=5,ju(i,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hs(){return(Hs=ci(fi().mark((function e(t,n,r){return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Su(ui(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qs(){return(Qs=ci(fi().mark((function e(t,n){return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Au(ui(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ys(e,t){return $s.apply(this,arguments)}function $s(){return($s=ci(fi().mark((function e(t,n){var r,i,a,o;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ui(t),e.next=3,Su(r,{oobCode:n});case 3:i=e.sent,oo(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return oo(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:oo(i.mfaInfo,r,"internal-error");case 13:oo(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=qs._fromServerResponse(bu(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xs(){return(Xs=ci(fi().mark((function e(t,n){var r,i;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ys(ui(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Js(e,t,n){return Zs.apply(this,arguments)}function Zs(){return(Zs=ci(fi().mark((function e(t,n,r){var i,a,o;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=bu(t),e.next=3,ms(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,gs._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ec(){return(ec=ci(fi().mark((function e(t,n,r){var i,a;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ui(t),a={requestType:"EMAIL_SIGNIN",email:n},oo(r.handleCodeInApp,i,"argument-error"),r&&Ws(i,a,r),e.next=6,Vu(i,a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tc(){return(tc=ci(fi().mark((function e(t,n,r){var i,a;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ui(t),oo((a=os.credentialWithLink(n,r||fo()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",Os(i,a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nc(e,t){return rc.apply(this,arguments)}function rc(){return(rc=ci(fi().mark((function e(t,n){return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wo(t,"POST","/v1/accounts:createAuthUri",bo(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ic(){return(ic=ci(fi().mark((function e(t,n){var r,i,a,o;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ho()?fo():"http://localhost",i={identifier:n,continueUri:r},e.next=4,nc(ui(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ac(){return(ac=ci(fi().mark((function e(t,n){var r,i,a,o;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ui(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&Ws(r.auth,a,n),e.next=8,Mu(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oc(){return(oc=ci(fi().mark((function e(t,n,r){var i,a,o,u;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ui(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&Ws(i.auth,o,r),e.next=8,zu(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function uc(e,t){return sc.apply(this,arguments)}function sc(){return(sc=ci(fi().mark((function e(t,n){return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wo(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cc(){return(cc=ci(fi().mark((function e(t,n){var r,i,a,o,u,s,c;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=ui(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,Vo(a,uc(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lc(e,t,n){return fc.apply(this,arguments)}function fc(){return(fc=ci(fi().mark((function e(t,n,r){var i,a,o,u;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,Vo(t,Cu(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var hc=Ot((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Pt(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),dc=function(e){_n(n,e);var t=Cn(n);function n(e,r,i,a){var o;return Pt(this,n),(o=t.call(this,e,r,i)).username=a,o}return Ot(n)}(hc),pc=function(e){_n(n,e);var t=Cn(n);function n(e,r){return Pt(this,n),t.call(this,e,"facebook.com",r)}return Ot(n)}(hc),vc=function(e){_n(n,e);var t=Cn(n);function n(e,r){return Pt(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return Ot(n)}(dc),mc=function(e){_n(n,e);var t=Cn(n);function n(e,r){return Pt(this,n),t.call(this,e,"google.com",r)}return Ot(n)}(hc),yc=function(e){_n(n,e);var t=Cn(n);function n(e,r,i){return Pt(this,n),t.call(this,e,"twitter.com",r,i)}return Ot(n)}(dc);function gc(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=Uo(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new hc(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new pc(a,i);case"github.com":return new vc(a,i);case"google.com":return new mc(a,i);case"twitter.com":return new yc(a,i,e.screenName||null);case"custom":case"anonymous":return new hc(a,null);default:return new hc(a,r,i)}}(n)}var kc=function(){function e(t,n){Pt(this,e),this.type=t,this.credential=n}return Ot(e,[{key:"toJSON",value:function(){return{multiFactorSession:H({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),bc=function(){function e(t,n,r){Pt(this,e),this.session=t,this.hints=n,this.signInResolver=r}return Ot(e,[{key:"resolveSignIn",value:function(){var e=ci(fi().mark((function e(t){var n;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=bu(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return qs._fromServerResponse(r,e)}));oo(i.mfaPendingCredential,r,"internal-error");var o=kc._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=ci(fi().mark((function e(t){var a,u,s;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,gs._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return oo(n.user,r,"internal-error"),e.abrupt("return",gs._forOperation(n.user,n.operationType,u));case 17:to(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function wc(e,t){return wo(e,"POST","/v2/accounts/mfaEnrollment:start",bo(e,t))}var xc=function(){function e(t){var n=this;Pt(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return qs._fromServerResponse(t.auth,e)})))}))}return Ot(e,[{key:"getSession",value:function(){var e=ci(fi().mark((function e(){return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=kc,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=ci(fi().mark((function e(t,n){var r,i,a;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,Vo(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=ci(fi().mark((function e(t){var n,r,i;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.next=6,Vo(this.user,wo(a=this.user.auth,"POST","/v2/accounts/mfaEnrollment:withdraw",bo(a,{idToken:r,mfaEnrollmentId:n})));case 6:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=10,this.user._updateTokensIfNecessary(i);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),e.t0.code==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}var a}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),_c=new WeakMap;var Ec="__sak",Ic=function(){function e(t,n){Pt(this,e),this.storageRetriever=t,this.type=n}return Ot(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Ec,"1"),this.storage.removeItem(Ec),Promise.resolve(!0)):Promise.resolve(!1)}catch(cS){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Sc=function(e){_n(n,e);var t=Cn(n);function n(){var e;return Pt(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Br();return uu(e)||du(e)}()&&function(){try{return!(!window||window===window.top)}catch(lA){return!1}}(),e.fallbackToPolling=mu(),e._shouldAllowMigration=!0,e}return Ot(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);vu()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=ci(fi().mark((function e(t,r){return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xn(bn(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=ci(fi().mark((function e(t){var r;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xn(bn(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=ci(fi().mark((function e(t){return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xn(bn(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Ic);Sc.type="LOCAL";var Tc=Sc,Cc=function(e){_n(n,e);var t=Cn(n);function n(){return Pt(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return Ot(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Ic);Cc.type="SESSION";var Nc=Cc;function Ac(e){return Promise.all(e.map(function(){var e=ci(fi().mark((function e(t){var n;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Dc=function(){function e(t){Pt(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return Ot(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=ci(fi().mark((function e(t){var n,r,i,a,o,u,s,c;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=ci(fi().mark((function e(t){return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Ac(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Pc(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Dc.receivers=[];var Rc=function(){function e(t){Pt(this,e),this.target=t,this.handlers=new Set}return Ot(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=ci(fi().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=Pc("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Oc(){return window}function Lc(){return"undefined"!==typeof Oc().WorkerGlobalScope&&"function"===typeof Oc().importScripts}function Mc(){return Fc.apply(this,arguments)}function Fc(){return(Fc=ci(fi().mark((function e(){var t;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function jc(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Uc="firebaseLocalStorageDb",Vc="firebaseLocalStorage",Bc="fbase_key",zc=function(){function e(t){Pt(this,e),this.request=t}return Ot(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function qc(e,t){return e.transaction([Vc],t?"readwrite":"readonly").objectStore(Vc)}function Kc(){var e=indexedDB.deleteDatabase(Uc);return new zc(e).toPromise()}function Wc(){var e=indexedDB.open(Uc,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(Vc,{keyPath:Bc})}catch(lA){n(lA)}})),e.addEventListener("success",ci(fi().mark((function n(){var r;return fi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(Vc)){n.next=12;break}return r.close(),n.next=5,Kc();case 5:return n.t0=t,n.next=8,Wc();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Gc(e,t,n){return Hc.apply(this,arguments)}function Hc(){return Hc=ci(fi().mark((function e(t,n,r){var i,a;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=qc(t,!0).put((H(i={},Bc,n),H(i,"value",r),i)),e.abrupt("return",new zc(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),Hc.apply(this,arguments)}function Qc(e,t){return Yc.apply(this,arguments)}function Yc(){return Yc=ci(fi().mark((function e(t,n){var r,i;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=qc(t,!1).get(n),e.next=3,new zc(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),Yc.apply(this,arguments)}function $c(e,t){var n=qc(e,!0).delete(t);return new zc(n).toPromise()}var Xc=function(){function e(){Pt(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return Ot(e,[{key:"_openDb",value:function(){var e=ci(fi().mark((function e(){return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Wc();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=ci(fi().mark((function e(t){var n,r;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=ci(fi().mark((function e(){return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lc()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=ci(fi().mark((function e(){var t=this;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Dc._getInstance(Lc()?self:null),this.receiver._subscribe("keyChanged",function(){var e=ci(fi().mark((function e(n,r){var i;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=ci(fi().mark((function e(t,n){return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=ci(fi().mark((function e(){var t,n,r;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mc();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Rc(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=ci(fi().mark((function e(t){return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&jc()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=ci(fi().mark((function e(){var t;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Wc();case 5:return t=e.sent,e.next=8,Gc(t,Ec,"1");case 8:return e.next=10,$c(t,Ec);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=ci(fi().mark((function e(t){return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=ci(fi().mark((function e(t,n){var r=this;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(ci(fi().mark((function e(){return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Gc(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=ci(fi().mark((function e(t){var n;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return Qc(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=ci(fi().mark((function e(t){var n=this;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(ci(fi().mark((function e(){return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return $c(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=ci(fi().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=qc(e,!1).getAll();return new zc(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=Dr(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(ci(fi().mark((function t(){return fi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();Xc.type="LOCAL";var Jc=Xc;function Zc(e,t){return wo(e,"POST","/v2/accounts/mfaSignIn:start",bo(e,t))}function el(e){return tl.apply(this,arguments)}function tl(){return(tl=ci(fi().mark((function e(t){return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wo(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nl(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=no("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function rl(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var il=1e12,al=function(){function e(t){Pt(this,e),this.auth=t,this.counter=il,this._widgets=new Map}return Ot(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new ol(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||il;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||il;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=ci(fi().mark((function e(t){var n,r;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||il,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),ol=function(){function e(t,n,r){var i=this;Pt(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;oo(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return Ot(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(lA){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(lA){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var ul=rl("rcb"),sl=new vo(3e4,6e4),cl="https://www.google.com/recaptcha/api.js?",ll=function(){function e(){Pt(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Oc().grecaptcha}return Ot(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return oo(fl(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(Oc().grecaptcha):new Promise((function(r,i){var a=Oc().setTimeout((function(){i(no(e,"network-request-failed"))}),sl.get());Oc()[ul]=function(){Oc().clearTimeout(a),delete Oc()[ul];var o=Oc().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(no(e,"internal-error"))},nl("".concat(cl,"?").concat(ti({onload:ul,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(no(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){return!!Oc().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function fl(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var hl=function(){function e(){Pt(this,e)}return Ot(e,[{key:"load",value:function(){var e=ci(fi().mark((function e(t){return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new al(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),dl="recaptcha",pl={theme:"light",type:"image"},vl=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},pl),r=arguments.length>2?arguments[2]:void 0;Pt(this,e),this.parameters=n,this.type=dl,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=bu(r),this.isInvisible="invisible"===this.parameters.size,oo("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;oo(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new hl:new ll,this.validateStartingState()}return Ot(e,[{key:"verify",value:function(){var e=ci(fi().mark((function e(){var t,n,r,i=this;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(lA){return Promise.reject(lA)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){oo(!this.parameters.sitekey,this.auth,"argument-error"),oo(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),oo("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=Oc()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){oo(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=ci(fi().mark((function e(){var t,n;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=ci(fi().mark((function e(){var t;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return oo(ho()&&!Lc(),this.auth,"internal-error"),e.next=3,ml();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,el(this.auth);case 8:oo(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return oo(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function ml(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var yl=function(){function e(t,n){Pt(this,e),this.verificationId=t,this.onConfirmation=n}return Ot(e,[{key:"confirm",value:function(e){var t=is._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function gl(){return(gl=ci(fi().mark((function e(t,n,r){var i,a;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=bu(t),e.next=3,xl(i,n,ui(r));case 3:return a=e.sent,e.abrupt("return",new yl(a,(function(e){return Os(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kl(e,t,n){return bl.apply(this,arguments)}function bl(){return(bl=ci(fi().mark((function e(t,n,r){var i,a;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ui(t),e.next=3,Cs(!1,i,"phone");case 3:return e.next=5,xl(i.auth,n,ui(r));case 5:return a=e.sent,e.abrupt("return",new yl(a,(function(e){return Ms(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wl(){return(wl=ci(fi().mark((function e(t,n,r){var i,a;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ui(t),e.next=3,xl(i.auth,n,ui(r));case 3:return a=e.sent,e.abrupt("return",new yl(a,(function(e){return js(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xl(e,t,n){return _l.apply(this,arguments)}function _l(){return _l=ci(fi().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,oo("string"===typeof a,t,"argument-error"),oo(r.type===dl,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return oo("enroll"===u.type,t,"internal-error"),e.next=13,wc(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return oo("signin"===u.type,t,"internal-error"),oo(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,Zc(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Ju(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),_l.apply(this,arguments)}function El(){return(El=ci(fi().mark((function e(t,n){return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ss(ui(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Il=function(){function e(t){Pt(this,e),this.providerId=e.PROVIDER_ID,this.auth=bu(t)}return Ot(e,[{key:"verifyPhoneNumber",value:function(e,t){return xl(this.auth,e,ui(t))}}],[{key:"credential",value:function(e,t){return is._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?is._fromTokenResponse(n,r):null}}]),e}();function Sl(e,t){return t?lo(t):(oo(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Il.PROVIDER_ID="phone",Il.PHONE_SIGN_IN_METHOD="phone";var Tl=function(e){_n(n,e);var t=Cn(n);function n(e){var r;return Pt(this,n),(r=t.call(this,"custom","custom")).params=e,r}return Ot(n,[{key:"_getIdTokenResponse",value:function(e){return Yu(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Yu(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Yu(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Iu);function Cl(e){return Ps(e.auth,new Tl(e),e.bypassAuthState)}function Nl(e){var t=e.auth,n=e.user;return oo(n,t,"internal-error"),As(n,new Tl(e),e.bypassAuthState)}function Al(e){return Dl.apply(this,arguments)}function Dl(){return(Dl=ci(fi().mark((function e(t){var n,r;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,oo(r=t.user,n,"internal-error"),e.abrupt("return",Ss(r,new Tl(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Pl=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Pt(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return Ot(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=ci(fi().mark((function t(n,r){return fi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=ci(fi().mark((function e(t){var n,r,i,a,o,u,s;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Cl;case"linkViaPopup":case"linkViaRedirect":return Al;case"reauthViaPopup":case"reauthViaRedirect":return Nl;default:to(this.auth,"internal-error")}}},{key:"resolve",value:function(e){so(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){so(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Rl=new vo(2e3,1e4);function Ol(e,t,n){return Ll.apply(this,arguments)}function Ll(){return(Ll=ci(fi().mark((function e(t,n,r){var i,a,o;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=bu(t),io(t,n,us),a=Sl(i,r),o=new Ul(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ml(){return(Ml=ci(fi().mark((function e(t,n,r){var i,a,o;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return io((i=ui(t)).auth,n,us),a=Sl(i.auth,r),o=new Ul(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fl(e,t,n){return jl.apply(this,arguments)}function jl(){return(jl=ci(fi().mark((function e(t,n,r){var i,a,o;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return io((i=ui(t)).auth,n,us),a=Sl(i.auth,r),o=new Ul(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ul=function(e){_n(n,e);var t=Cn(n);function n(e,r,i,a,o){var u;return Pt(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=Sn(u),u}return Ot(n,[{key:"executeNotNull",value:function(){var e=ci(fi().mark((function e(){var t;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return oo(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=ci(fi().mark((function e(){var t,n=this;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return so(1===this.filter.length,"Popup operations only handle one event"),t=Pc(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(no(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(no(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(no(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,Rl.get())}()}}]),n}(Pl);Ul.currentPopupAction=null;var Vl=new Map,Bl=function(e){_n(n,e);var t=Cn(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Pt(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return Ot(n,[{key:"execute",value:function(){var e=ci(fi().mark((function e(){var t,r;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Vl.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,zl(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,xn(bn(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Vl.set(this.auth._key(),t);case 21:return this.bypassAuthState||Vl.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=ci(fi().mark((function e(t){var r;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",xn(bn(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",xn(bn(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=ci(fi().mark((function e(){return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(Pl);function zl(e,t){return ql.apply(this,arguments)}function ql(){return(ql=ci(fi().mark((function e(t,n){var r,i,a;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ql(n),i=Hl(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Kl(e,t){return Wl.apply(this,arguments)}function Wl(){return(Wl=ci(fi().mark((function e(t,n){return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hl(t)._set(Ql(n),"true"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gl(e,t){Vl.set(e._key(),t)}function Hl(e){return lo(e._redirectPersistence)}function Ql(e){return ru("pendingRedirect",e.config.apiKey,e.name)}function Yl(e,t,n){return function(e,t,n){return $l.apply(this,arguments)}(e,t,n)}function $l(){return($l=ci(fi().mark((function e(t,n,r){var i,a;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=bu(t),io(t,n,us),a=Sl(i,r),e.next=5,Kl(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xl(e,t,n){return function(e,t,n){return Jl.apply(this,arguments)}(e,t,n)}function Jl(){return(Jl=ci(fi().mark((function e(t,n,r){var i,a,o;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return io((i=ui(t)).auth,n,us),a=Sl(i.auth,r),e.next=5,Kl(a,i.auth);case 5:return e.next=7,of(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zl(e,t,n){return function(e,t,n){return ef.apply(this,arguments)}(e,t,n)}function ef(){return(ef=ci(fi().mark((function e(t,n,r){var i,a,o;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return io((i=ui(t)).auth,n,us),a=Sl(i.auth,r),e.next=5,Cs(!1,i,n.providerId);case 5:return e.next=7,Kl(a,i.auth);case 7:return e.next=9,of(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tf(e,t){return nf.apply(this,arguments)}function nf(){return(nf=ci(fi().mark((function e(t,n){return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bu(t)._initializationPromise;case 2:return e.abrupt("return",rf(t,n,!1));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rf(e,t){return af.apply(this,arguments)}function af(){return af=ci(fi().mark((function e(t,n){var r,i,a,o,u,s=arguments;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=bu(t),a=Sl(i,n),o=new Bl(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),af.apply(this,arguments)}function of(e){return uf.apply(this,arguments)}function uf(){return(uf=ci(fi().mark((function e(t){var n;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Pc("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var sf=function(){function e(t){Pt(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return Ot(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return lf(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!lf(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(no(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(cf(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(cf(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function cf(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function lf(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function ff(e){return hf.apply(this,arguments)}function hf(){return hf=ci(fi().mark((function e(t){var n,r=arguments;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",wo(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),hf.apply(this,arguments)}var df=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pf=/^https?/;function vf(){return(vf=ci(fi().mark((function e(t){var n,r,i,a,o;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,ff(t);case 4:n=e.sent,r=n.authorizedDomains,i=Dr(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!mf(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:to(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])})))).apply(this,arguments)}function mf(e){var t=fo(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!pf.test(r))return!1;if(df.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var yf=new vo(3e4,6e4);function gf(){var e=Oc().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=Dt(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var kf=null;function bf(e){return kf=kf||function(e){return new Promise((function(t,n){var r,i,a;function o(){gf(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){gf(),n(no(e,"network-request-failed"))},timeout:yf.get()})}if(null===(i=null===(r=Oc().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Oc().gapi)||void 0===a?void 0:a.load)){var u=rl("iframefcb");return Oc()[u]=function(){gapi.load?o():n(no(e,"network-request-failed"))},nl("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw kf=null,e}))}(e),kf}var wf=new vo(5e3,15e3),xf={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_f=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ef(e){var t=e.config;oo(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?mo(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:aa},i=_f.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(ti(r).slice(1))}function If(e){return Sf.apply(this,arguments)}function Sf(){return Sf=ci(fi().mark((function e(t){var n,r;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bf(t);case 2:return n=e.sent,oo(r=Oc().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:Ef(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xf,dontclear:!0},(function(e){return new Promise(function(){var n=ci(fi().mark((function n(r,i){var a,o,u;return fi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){Oc().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=no(t,"network-request-failed"),o=Oc().setTimeout((function(){i(a)}),wf.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),Sf.apply(this,arguments)}var Tf={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Cf="_blank",Nf="http://localhost",Af=function(){function e(t){Pt(this,e),this.window=t,this.associatedEvent=null}return Ot(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(lA){}}}]),e}();function Df(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",c=Object.assign(Object.assign({},Tf),{width:r.toString(),height:i.toString(),top:a,left:o}),l=Br().toLowerCase();n&&(s=su(l)?Cf:n),ou(l)&&(t=t||Nf,c.scrollbars="yes");var f=Object.entries(c).reduce((function(e,t){var n=u(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(pu(l)&&"_self"!==s)return Pf(t||"",s),new Af(null);var h=window.open(t||"",s,f);oo(h,e,"popup-blocked");try{h.focus()}catch(lA){}return new Af(h)}function Pf(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Rf="__/auth/handler",Of="emulator/auth/handler";function Lf(e,t,n,r,i,a){oo(e.config.authDomain,e,"auth-domain-config-required"),oo(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:aa,eventId:i};if(t instanceof us){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var s=0,c=Object.entries(a||{});s<c.length;s++){var l=u(c[s],2),f=l[0],h=l[1];o[f]=h}}if(t instanceof ss){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var p=o,v=0,m=Object.keys(p);v<m.length;v++){var y=m[v];void 0===p[y]&&delete p[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Rf);return mo(t,Of)}(e),"?").concat(ti(p).slice(1))}var Mf="webStorageSupport",Ff=function(){function e(){Pt(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Nc,this._completeRedirectFn=rf,this._overrideRedirectResult=Gl}return Ot(e,[{key:"_openPopup",value:function(){var e=ci(fi().mark((function e(t,n,r,i){var a,o;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return so(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=Lf(t,n,r,fo(),i),e.abrupt("return",Df(t,o,Pc()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=ci(fi().mark((function e(t,n,r,i){return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=Lf(t,n,r,fo(),i),Oc().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(so(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=ci(fi().mark((function e(t){var n,r;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,If(t);case 2:return n=e.sent,r=new sf(t),n.register("authEvent",(function(e){return oo(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(Mf,{type:Mf},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),to(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return vf.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return mu()||uu()||du()}}]),e}(),jf=Ff,Uf=function(e){_n(n,e);var t=Cn(n);function n(e){var r;return Pt(this,n),(r=t.call(this,"phone")).credential=e,r}return Ot(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return wo(e,"POST","/v2/accounts/mfaEnrollment:finalize",bo(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return wo(e,"POST","/v2/accounts/mfaSignIn:finalize",bo(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(function(){function e(t){Pt(this,e),this.factorId=t}return Ot(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return uo("unexpected MultiFactorSessionType")}}}]),e}()),Vf=function(){function e(){Pt(this,e)}return Ot(e,null,[{key:"assertion",value:function(e){return Uf._fromCredential(e)}}]),e}();Vf.FACTOR_ID="phone";var Bf,zf="@firebase/auth",qf="0.20.1",Kf=function(){function e(t){Pt(this,e),this.auth=t,this.internalListeners=new Map}return Ot(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=ci(fi().mark((function e(t){var n;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){oo(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function Wf(){return window}Bf="Browser",Ji(new hi("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,u=a.authDomain;return function(e,t){oo(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),oo(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:u,clientPlatform:Bf,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yu(Bf)},i=new ku(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(lo);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Ji(new hi("auth-internal",(function(e){return function(e){return new Kf(e)}(bu(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),fa(zf,qf,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Bf)),fa(zf,qf,"esm2017");function Gf(e,t,n){return Hf.apply(this,arguments)}function Hf(){return Hf=ci(fi().mark((function e(t,n,r){var i,a,o,u,s;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Wf(),o=a.BuildInfo,so(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,Zf(n.sessionId);case 4:return u=e.sent,s={},du()?s.ibi=o.packageName:lu()?s.apn=o.packageName:to(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",Lf(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),Hf.apply(this,arguments)}function Qf(){return(Qf=ci(fi().mark((function e(t){var n,r,i;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Wf(),r=n.BuildInfo,i={},du()?i.iosBundleId=r.packageName:lu()?i.androidPackageName=r.packageName:to(t,"operation-not-supported-in-this-environment"),e.next=5,ff(t,i);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yf(e){var t=Wf().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Br();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function $f(e,t,n){return Xf.apply(this,arguments)}function Xf(){return Xf=ci(fi().mark((function e(t,n,r){var i,a,o;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Wf(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(no(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),lu()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),Xf.apply(this,arguments)}function Jf(e){var t,n,r,i,a,o,u,s,c,l,f=Wf();oo("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),oo("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),oo("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),oo("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),oo("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function Zf(e){return eh.apply(this,arguments)}function eh(){return(eh=ci(fi().mark((function e(t){var n,r,i;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=th(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function th(e){if(so(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var nh=function(e){_n(n,e);var t=Cn(n);function n(){var e;return Pt(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return Ot(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),xn(bn(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=ci(fi().mark((function e(){return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(sf);function rh(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:sh(),postBody:null,tenantId:e.tenantId,error:no(e,"no-auth-event")}}function ih(e,t){return ch()._set(lh(e),t)}function ah(e){return oh.apply(this,arguments)}function oh(){return(oh=ci(fi().mark((function e(t){var n;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ch()._get(lh(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,ch()._remove(lh(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function uh(e,t){var n,r,i=function(e){var t=fh(e),n=t.link?decodeURIComponent(t.link):void 0,r=fh(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return fh(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=fh(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(lA){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?no(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function sh(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function ch(){return lo(Tc)}function lh(e){return ru("authEvent",e.config.apiKey,e.name)}function fh(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),i=r(t=n)||At(t)||a(t)||o();i[0];return ni(i.slice(1).join("?"))}var hh=function(){function e(){Pt(this,e),this._redirectPersistence=Nc,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=rf,this._overrideRedirectResult=Gl}return Ot(e,[{key:"_initialize",value:function(){var e=ci(fi().mark((function e(t){var n,r;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new nh(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){to(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=ci(fi().mark((function e(t,n,r,i){var a,o,u,s;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Jf(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),Vl.clear(),e.next=10,this._originValidation(t);case 10:return o=rh(t,r,i),e.next=13,ih(t,o);case 13:return e.next=15,Gf(t,o,n);case 15:return u=e.sent,e.next=18,Yf(u);case 18:return s=e.sent,e.abrupt("return",$f(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Qf.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=Wf(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(ci(fi().mark((function n(){return fi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,ah(e);case 2:t.onEvent(ph());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=ci(fi().mark((function n(r){var i,a;return fi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,ah(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=uh(i,r.url)),t.onEvent(a||ph());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");Wf().handleOpenURL=function(){var e=ci(fi().mark((function e(t){return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(lA){console.error(lA)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),dh=hh;function ph(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:no("no-auth-event")}}function vh(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function mh(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Br();return!("file:"!==vh()&&"ionic:"!==vh()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function yh(){return Gr()&&11===(null===document||void 0===document?void 0:document.documentMode)}function gh(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Br();return/Edge\/\d+/.test(e)}function kh(){try{var e=self.localStorage,t=Pc();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Br();return yh()||gh(e)}()||Hr()}catch(lA){return bh()&&Hr()}return!1}function bh(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function wh(){return("http:"===vh()||"https:"===vh()||Kr()||mh())&&!(Wr()||qr())&&kh()&&!bh()}function xh(){return mh()&&"undefined"!==typeof document}function _h(){return Eh.apply(this,arguments)}function Eh(){return(Eh=ci(fi().mark((function e(){return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(xh()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ih={LOCAL:"local",NONE:"none",SESSION:"session"},Sh=oo,Th="persistence";function Ch(e,t){Sh(Object.values(Ih).includes(t),e,"invalid-persistence-type"),Wr()?Sh(t!==Ih.SESSION,e,"unsupported-persistence-type"):qr()?Sh(t===Ih.NONE,e,"unsupported-persistence-type"):bh()?Sh(t===Ih.NONE||t===Ih.LOCAL&&Hr(),e,"unsupported-persistence-type"):Sh(t===Ih.NONE||kh(),e,"unsupported-persistence-type")}function Nh(e){return Ah.apply(this,arguments)}function Ah(){return(Ah=ci(fi().mark((function e(t){var n,r;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=Dh(),r=ru(Th,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Dh(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(lA){return null}}var Ph=oo,Rh=function(){function e(){Pt(this,e),this.browserResolver=lo(jf),this.cordovaResolver=lo(dh),this.underlyingResolver=null,this._redirectPersistence=Nc,this._completeRedirectFn=rf,this._overrideRedirectResult=Gl}return Ot(e,[{key:"_initialize",value:function(){var e=ci(fi().mark((function e(t){return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=ci(fi().mark((function e(t,n,r,i){return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=ci(fi().mark((function e(t,n,r,i){return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return xh()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return Ph(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=ci(fi().mark((function e(){var t;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,_h();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Oh(e){return e.unwrap()}function Lh(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new Vh(e,function(e,t){var n,r=ui(e),i=t;return oo(t.customData.operationType,r,"argument-error"),oo(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),bc._fromError(r,i)}(e,t));else if(r){var i=Mh(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function Mh(e){var t=(e instanceof Qr?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof Qr)&&"temporaryProof"in t&&"phoneNumber"in t)return Il.credentialFromResult(e);var n,r=t.providerId;if(!r||r===Ba)return null;switch(r){case Va:n=fs;break;case ja:n=ls;break;case Ua:n=hs;break;case za:n=vs;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?ds._create(r,u):Xu._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new cs(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof Qr?n.credentialFromError(e):n.credentialFromResult(e)}function Fh(e,t){return t.catch((function(t){throw t instanceof Qr&&Lh(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,Mh(t)),additionalUserInfo:gc(e),user:Bh.getOrCreate(r)}}))}function jh(e,t){return Uh.apply(this,arguments)}function Uh(){return(Uh=ci(fi().mark((function e(t,n){var r;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return Fh(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Vh=function(){function e(t,n){Pt(this,e),this.resolver=n,this.auth=t.wrapped()}return Ot(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return Fh(Oh(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),Bh=function(){function e(t){Pt(this,e),this._delegate=t,this.multiFactor=function(e){var t=ui(e);return _c.has(t)||_c.set(t,xc._fromUser(t)),_c.get(t)}(t)}return Ot(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=ci(fi().mark((function e(t){return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fh(this.auth,Ms(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=ci(fi().mark((function e(t,n){return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",jh(this.auth,kl(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=ci(fi().mark((function e(t){return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fh(this.auth,Fl(this._delegate,t,Rh)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=ci(fi().mark((function e(t){return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nh(bu(this.auth));case 2:return e.abrupt("return",Zl(this._delegate,t,Rh));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=ci(fi().mark((function e(t){return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fh(this.auth,js(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return jh(this.auth,function(e,t,n){return wl.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return Fh(this.auth,function(e,t,n){return Ml.apply(this,arguments)}(this._delegate,e,Rh))}},{key:"reauthenticateWithRedirect",value:function(){var e=ci(fi().mark((function e(t){return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nh(bu(this.auth));case 2:return e.abrupt("return",Xl(this._delegate,t,Rh));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return ac.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=ci(fi().mark((function e(t){return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Es(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return lc(ui(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return lc(ui(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return El.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return cc.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return oc.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();Bh.USER_MAP=new WeakMap;var zh=oo,qh=function(){function e(t,n){if(Pt(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;zh(r,"invalid-api-key",{appName:t.name}),zh(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?Rh:void 0;this._delegate=n.initialize({options:{persistence:Wh(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap($a),this.linkUnderlyingAuth()}return Ot(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?Bh.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){xu(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return Qs.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return Ys(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return Hs.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=ci(fi().mark((function e(t,n){return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fh(this._delegate,Js(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return ic.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=as.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=ci(fi().mark((function e(){var t;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return zh(wh(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,tf(this._delegate,Rh);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",Fh(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){bu(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=Kh(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=Kh(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return ec.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return Gs.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=ci(fi().mark((function e(t){var n,r;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ch(this._delegate,t),e.t0=t,e.next=e.t0===Ih.SESSION?4:e.t0===Ih.LOCAL?6:e.t0===Ih.NONE?11:13;break;case 4:return n=Nc,e.abrupt("break",14);case 6:return e.next=8,lo(Jc)._isAvailable();case 8:return r=e.sent,n=r?Jc:Tc,e.abrupt("break",14);case 11:return n=nu,e.abrupt("break",14);case 13:return e.abrupt("return",to("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return Fh(this._delegate,function(e){return bs.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return Fh(this._delegate,Os(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return Fh(this._delegate,function(e,t){return zs.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return Fh(this._delegate,function(e,t,n){return Os(ui(e),os.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return Fh(this._delegate,function(e,t,n){return tc.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return jh(this._delegate,function(e,t,n){return gl.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=ci(fi().mark((function e(t){return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return zh(wh(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",Fh(this._delegate,Ol(this._delegate,t,Rh)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=ci(fi().mark((function e(t){return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return zh(wh(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Nh(this._delegate);case 3:return e.abrupt("return",Yl(this._delegate,t,Rh));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return Xs.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function Kh(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&Bh.getOrCreate(e))},error:t,complete:n}}function Wh(e,t){var n=function(e,t){var n=Dh();if(!n)return[];var r=ru(Th,e,t);switch(n.getItem(r)){case Ih.NONE:return[nu];case Ih.LOCAL:return[Jc,Nc];case Ih.SESSION:return[Nc];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(Jc)||n.push(Jc),"undefined"!==typeof window)for(var r=0,i=[Tc,Nc];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(nu)||n.push(nu),n}qh.Persistence=Ih;var Gh=function(){function e(){Pt(this,e),this.providerId="phone",this._delegate=new Il(Oh(La.auth()))}return Ot(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return Il.credential(e,t)}}]),e}();Gh.PHONE_SIGN_IN_METHOD=Il.PHONE_SIGN_IN_METHOD,Gh.PROVIDER_ID=Il.PROVIDER_ID;var Hh,Qh=oo,Yh=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:La.app();Pt(this,e),Qh(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new vl(t,n,i.auth()),this.type=this._delegate.type}return Ot(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(Hh=La).INTERNAL.registerComponent(new hi("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new qh(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:qa,PASSWORD_RESET:Ka,RECOVER_EMAIL:Wa,REVERT_SECOND_FACTOR_ADDITION:Ga,VERIFY_AND_CHANGE_EMAIL:Ha,VERIFY_EMAIL:Qa}},EmailAuthProvider:os,FacebookAuthProvider:ls,GithubAuthProvider:hs,GoogleAuthProvider:fs,OAuthProvider:cs,SAMLAuthProvider:ps,PhoneAuthProvider:Gh,PhoneMultiFactorGenerator:Vf,RecaptchaVerifier:Yh,TwitterAuthProvider:vs,Auth:qh,AuthCredential:Iu,Error:Qr}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Hh.registerVersion("@firebase/auth-compat","0.2.14");var $h,Xh="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Jh={},Zh=Zh||{},ed=Xh||self;function td(){}function nd(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function rd(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var id="closure_uid_"+(1e9*Math.random()>>>0),ad=0;function od(e,t,n){return e.call.apply(e.bind,arguments)}function ud(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function sd(e,t,n){return(sd=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?od:ud).apply(null,arguments)}function cd(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function ld(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function fd(){this.s=this.s,this.o=this.o}var hd={};fd.prototype.s=!1,fd.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,id)&&e[id]||(e[id]=++ad)}(this);delete hd[e]}},fd.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var dd=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},pd=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function vd(e){return Array.prototype.concat.apply([],arguments)}function md(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function yd(e){return/^[\s\xa0]*$/.test(e)}var gd,kd=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function bd(e,t){return-1!=e.indexOf(t)}function wd(e,t){return e<t?-1:e>t?1:0}e:{var xd=ed.navigator;if(xd){var _d=xd.userAgent;if(_d){gd=_d;break e}}gd=""}function Ed(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Id(e){var t={};for(var n in e)t[n]=e[n];return t}var Sd="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Td(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Sd.length;a++)n=Sd[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Cd(e){return Cd[" "](e),e}Cd[" "]=td;var Nd,Ad=bd(gd,"Opera"),Dd=bd(gd,"Trident")||bd(gd,"MSIE"),Pd=bd(gd,"Edge"),Rd=Pd||Dd,Od=bd(gd,"Gecko")&&!(bd(gd.toLowerCase(),"webkit")&&!bd(gd,"Edge"))&&!(bd(gd,"Trident")||bd(gd,"MSIE"))&&!bd(gd,"Edge"),Ld=bd(gd.toLowerCase(),"webkit")&&!bd(gd,"Edge");function Md(){var e=ed.document;return e?e.documentMode:void 0}e:{var Fd="",jd=function(){var e=gd;return Od?/rv:([^\);]+)(\)|;)/.exec(e):Pd?/Edge\/([\d\.]+)/.exec(e):Dd?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Ld?/WebKit\/(\S+)/.exec(e):Ad?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(jd&&(Fd=jd?jd[1]:""),Dd){var Ud=Md();if(null!=Ud&&Ud>parseFloat(Fd)){Nd=String(Ud);break e}}Nd=Fd}var Vd,Bd={};function zd(){return function(e){var t=Bd;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=kd(String(Nd)).split("."),n=kd("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=wd(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||wd(0==a[2].length,0==o[2].length)||wd(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(ed.document&&Dd){var qd=Md();Vd=qd||(parseInt(Nd,10)||void 0)}else Vd=void 0;var Kd=Vd,Wd=function(){if(!ed.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{ed.addEventListener("test",td,t),ed.removeEventListener("test",td,t)}catch(n){}return e}();function Gd(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function Hd(e,t){if(Gd.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Od){e:{try{Cd(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Qd[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Hd.Z.h.call(this)}}Gd.prototype.h=function(){this.defaultPrevented=!0},ld(Hd,Gd);var Qd={2:"touch",3:"pen",4:"mouse"};Hd.prototype.h=function(){Hd.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Yd="closure_listenable_"+(1e6*Math.random()|0),$d=0;function Xd(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++$d,this.ca=this.fa=!1}function Jd(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Zd(e){this.src=e,this.g={},this.h=0}function ep(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=dd(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Jd(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function tp(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}Zd.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=tp(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new Xd(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var np="closure_lm_"+(1e6*Math.random()|0),rp={};function ip(e,t,n,r,i){if(r&&r.once)return op(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)ip(e,t[a],n,r,i);return null}return n=dp(n),e&&e[Yd]?e.N(t,n,rd(r)?!!r.capture:!!r,i):ap(e,t,n,!1,r,i)}function ap(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=rd(i)?!!i.capture:!!i,u=fp(e);if(u||(e[np]=u=new Zd(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=lp;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Wd||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(cp(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function op(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)op(e,t[a],n,r,i);return null}return n=dp(n),e&&e[Yd]?e.O(t,n,rd(r)?!!r.capture:!!r,i):ap(e,t,n,!0,r,i)}function up(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)up(e,t[a],n,r,i);else r=rd(r)?!!r.capture:!!r,n=dp(n),e&&e[Yd]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=tp(a=e.g[t],n,r,i))&&(Jd(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=fp(e))&&(t=e.g[t.toString()],e=-1,t&&(e=tp(t,n,r,i)),(n=-1<e?t[e]:null)&&sp(n))}function sp(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[Yd])ep(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(cp(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=fp(t))?(ep(n,e),0==n.h&&(n.src=null,t[np]=null)):Jd(e)}}}function cp(e){return e in rp?rp[e]:rp[e]="on"+e}function lp(e,t){if(e.ca)e=!0;else{t=new Hd(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&sp(e),e=n.call(r,t)}return e}function fp(e){return(e=e[np])instanceof Zd?e:null}var hp="__closure_events_fn_"+(1e9*Math.random()>>>0);function dp(e){return"function"===typeof e?e:(e[hp]||(e[hp]=function(t){return e.handleEvent(t)}),e[hp])}function pp(){fd.call(this),this.i=new Zd(this),this.P=this,this.I=null}function vp(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Gd(t,e);else if(t instanceof Gd)t.target=t.target||e;else{var i=t;Td(t=new Gd(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=mp(o,r,!0,t)&&i}if(i=mp(o=t.g=e,r,!0,t)&&i,i=mp(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=mp(o=t.g=n[a],r,!1,t)&&i}function mp(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var u=o.listener,s=o.ia||o.src;o.fa&&ep(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}ld(pp,fd),pp.prototype[Yd]=!0,pp.prototype.removeEventListener=function(e,t,n,r){up(this,e,t,n,r)},pp.prototype.M=function(){if(pp.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Jd(n[r]);delete t.g[e],t.h--}}this.I=null},pp.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},pp.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var yp=ed.JSON.stringify;function gp(){var e=Sp,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var kp,bp=function(){function e(){Pt(this,e),this.h=this.g=null}return Ot(e,[{key:"add",value:function(e,t){var n=wp.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),wp=new(function(){function e(t,n){Pt(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return Ot(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new xp}),(function(e){return e.reset()})),xp=function(){function e(){Pt(this,e),this.next=this.g=this.h=null}return Ot(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function _p(e){ed.setTimeout((function(){throw e}),0)}function Ep(e,t){kp||function(){var e=ed.Promise.resolve(void 0);kp=function(){e.then(Tp)}}(),Ip||(kp(),Ip=!0),Sp.add(e,t)}var Ip=!1,Sp=new bp;function Tp(){for(var e;e=gp();){try{e.h.call(e.g)}catch(n){_p(n)}var t=wp;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Ip=!1}function Cp(e,t){pp.call(this),this.h=e||1,this.g=t||ed,this.j=sd(this.kb,this),this.l=Date.now()}function Np(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Ap(e,t,n){if("function"===typeof e)n&&(e=sd(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=sd(e.handleEvent,e)}return 2147483647<Number(t)?-1:ed.setTimeout(e,t||0)}function Dp(e){e.g=Ap((function(){e.g=null,e.i&&(e.i=!1,Dp(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}ld(Cp,pp),($h=Cp.prototype).da=!1,$h.S=null,$h.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),vp(this,"tick"),this.da&&(Np(this),this.start()))}},$h.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},$h.M=function(){Cp.Z.M.call(this),Np(this),delete this.g};var Pp=function(e){_n(n,e);var t=Cn(n);function n(e,r){var i;return Pt(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return Ot(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Dp(this)}},{key:"M",value:function(){xn(bn(n.prototype),"M",this).call(this),this.g&&(ed.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(fd);function Rp(e){fd.call(this),this.h=e,this.g={}}ld(Rp,fd);var Op=[];function Lp(e,t,n,r){Array.isArray(n)||(n&&(Op[0]=n.toString()),n=Op);for(var i=0;i<n.length;i++){var a=ip(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Mp(e){Ed(e.g,(function(e,t){this.g.hasOwnProperty(t)&&sp(e)}),e),e.g={}}function Fp(){this.g=!0}function jp(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return yp(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}Rp.prototype.M=function(){Rp.Z.M.call(this),Mp(this)},Rp.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Fp.prototype.Aa=function(){this.g=!1},Fp.prototype.info=function(){};var Up={},Vp=null;function Bp(){return Vp=Vp||new pp}function zp(e){Gd.call(this,Up.Ma,e)}function qp(e){var t=Bp();vp(t,new zp(t,e))}function Kp(e,t){Gd.call(this,Up.STAT_EVENT,e),this.stat=t}function Wp(e){var t=Bp();vp(t,new Kp(t,e))}function Gp(e,t){Gd.call(this,Up.Na,e),this.size=t}function Hp(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return ed.setTimeout((function(){e()}),t)}Up.Ma="serverreachability",ld(zp,Gd),Up.STAT_EVENT="statevent",ld(Kp,Gd),Up.Na="timingevent",ld(Gp,Gd);var Qp={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Yp={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function $p(){}function Xp(e){return e.h||(e.h=e.i())}function Jp(){}$p.prototype.h=null;var Zp,ev={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function tv(){Gd.call(this,"d")}function nv(){Gd.call(this,"c")}function rv(){}function iv(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Rp(this),this.P=ov,e=Rd?125:void 0,this.W=new Cp(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new av}function av(){this.i=null,this.g="",this.h=!1}ld(tv,Gd),ld(nv,Gd),ld(rv,$p),rv.prototype.g=function(){return new XMLHttpRequest},rv.prototype.i=function(){return{}},Zp=new rv;var ov=45e3,uv={},sv={};function cv(e,t,n){e.K=1,e.v=Pv(Sv(t)),e.s=n,e.U=!0,lv(e,null)}function lv(e,t){e.F=Date.now(),pv(e),e.A=Sv(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),Wv(n.h,"t",r),e.C=0,n=e.l.H,e.h=new av,e.g=Hm(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Pp(sd(e.Ia,e,e.g),e.O)),Lp(e.V,e.g,"readystatechange",e.gb),t=e.H?Id(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),qp(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function fv(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function hv(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=dv(e,n))==sv){4==t&&(e.o=4,Wp(14),i=!1),jp(e.j,e.m,null,"[Incomplete Response]");break}if(r==uv){e.o=4,Wp(15),jp(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}jp(e.j,e.m,r,null),kv(e,r)}fv(e)&&r!=sv&&r!=uv&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Wp(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Um(t),t.L=!0,Wp(11))):(jp(e.j,e.m,n,"[Invalid Chunked Response]"),gv(e),yv(e))}function dv(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?sv:(n=Number(t.substring(n,r)),isNaN(n)?uv:(r+=1)+n>t.length?sv:(t=t.substr(r,n),e.C=r+n,t))}function pv(e){e.Y=Date.now()+e.P,vv(e,e.P)}function vv(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Hp(sd(e.eb,e),t)}function mv(e){e.B&&(ed.clearTimeout(e.B),e.B=null)}function yv(e){0==e.l.G||e.I||zm(e.l,e)}function gv(e){mv(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Np(e.W),Mp(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function kv(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Zv(n.i,e)))if(n.I=e.N,!e.J&&Zv(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Bm(n),Am(n)}jm(n),Wp(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Hp(sd(n.ab,n),6e3));if(1>=Jv(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else Km(n,11)}else if((e.J||n.g==e)&&Bm(n),!yd(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var u=a[4];null!=u&&(n.za=u,n.h.info("SVER="+n.za));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(bd(l,"spdy")||bd(l,"quic")||bd(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(em(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,Dv(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=Gm(r,r.H?r.la:null,r.W),d.J){tm(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(mv(p),pv(p)),r.g=d}else Fm(r);0<n.l.length&&Rm(n)}else"stop"!=a[0]&&"close"!=a[0]||Km(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Km(n,7):Nm(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}qp(4)}catch(a){}}function bv(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(nd(e)||"string"===typeof e)pd(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(nd(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(nd(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function wv(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof wv)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function xv(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];_v(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)_v(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function _v(e,t){return Object.prototype.hasOwnProperty.call(e,t)}($h=iv.prototype).setTimeout=function(e){this.P=e},$h.gb=function(e){e=e.target;var t=this.L;t&&3==Em(e)?t.l():this.Ia(e)},$h.Ia=function(e){try{if(e==this.g)e:{var t=Em(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||Rd||this.g&&(this.h.h||this.g.ga()||Im(this.g)))){this.I||4!=t||7==n||qp(8==n||0>=r?3:2),mv(this);var i=this.g.ba();this.N=i;t:if(fv(this)){var a=Im(this.g);e="";var o=a.length,u=4==Em(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){gv(this),yv(this);var s="";break t}this.h.i=new ed.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!yd(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,Wp(12),gv(this),yv(this);break e}jp(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,kv(this,i)}this.U?(hv(this,t,s),Rd&&this.i&&3==t&&(Lp(this.V,this.W,"tick",this.fb),this.W.start())):(jp(this.j,this.m,s,null),kv(this,s)),4==t&&gv(this),this.i&&!this.I&&(4==t?zm(this.l,this):(this.i=!1,pv(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,Wp(12)):(this.o=0,Wp(13)),gv(this),yv(this)}}}catch(t){}},$h.fb=function(){if(this.g){var e=Em(this.g),t=this.g.ga();this.C<t.length&&(mv(this),hv(this,e,t),this.i&&4!=e&&pv(this))}},$h.cancel=function(){this.I=!0,gv(this)},$h.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(qp(3),Wp(17)),gv(this),this.o=2,yv(this)):vv(this,this.Y-e)},($h=wv.prototype).R=function(){xv(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},$h.T=function(){return xv(this),this.g.concat()},$h.get=function(e,t){return _v(this.h,e)?this.h[e]:t},$h.set=function(e,t){_v(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},$h.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var Ev=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Iv(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Iv){this.g=void 0!==t?t:e.g,Tv(this,e.j),this.s=e.s,Cv(this,e.i),Nv(this,e.m),this.l=e.l,t=e.h;var n=new Bv;n.i=t.i,t.g&&(n.g=new wv(t.g),n.h=t.h),Av(this,n),this.o=e.o}else e&&(n=String(e).match(Ev))?(this.g=!!t,Tv(this,n[1]||"",!0),this.s=Rv(n[2]||""),Cv(this,n[3]||"",!0),Nv(this,n[4]),this.l=Rv(n[5]||"",!0),Av(this,n[6]||"",!0),this.o=Rv(n[7]||"")):(this.g=!!t,this.h=new Bv(null,this.g))}function Sv(e){return new Iv(e)}function Tv(e,t,n){e.j=n?Rv(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Cv(e,t,n){e.i=n?Rv(t,!0):t}function Nv(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Av(e,t,n){t instanceof Bv?(e.h=t,function(e,t){t&&!e.j&&(zv(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(qv(this,t),Wv(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Ov(t,Uv)),e.h=new Bv(t,e.g))}function Dv(e,t,n){e.h.set(t,n)}function Pv(e){return Dv(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Rv(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Ov(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Lv),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Lv(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Iv.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Ov(t,Mv,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Ov(t,Mv,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Ov(n,"/"==n.charAt(0)?jv:Fv,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Ov(n,Vv)),e.join("")};var Mv=/[#\/\?@]/g,Fv=/[#\?:]/g,jv=/[#\?]/g,Uv=/[#\?@]/g,Vv=/#/g;function Bv(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function zv(e){e.g||(e.g=new wv,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function qv(e,t){zv(e),t=Gv(e,t),_v(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,_v((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&xv(e)))}function Kv(e,t){return zv(e),t=Gv(e,t),_v(e.g.h,t)}function Wv(e,t,n){qv(e,t),0<n.length&&(e.i=null,e.g.set(Gv(e,t),md(n)),e.h+=n.length)}function Gv(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}($h=Bv.prototype).add=function(e,t){zv(this),this.i=null,e=Gv(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},$h.forEach=function(e,t){zv(this),this.g.forEach((function(n,r){pd(n,(function(n){e.call(t,n,r,this)}),this)}),this)},$h.T=function(){zv(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},$h.R=function(e){zv(this);var t=[];if("string"===typeof e)Kv(this,e)&&(t=vd(t,this.g.get(Gv(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=vd(t,e[n])}return t},$h.set=function(e,t){return zv(this),this.i=null,Kv(this,e=Gv(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},$h.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},$h.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var Hv=Ot((function e(t,n){Pt(this,e),this.h=t,this.g=n}));function Qv(e){this.l=e||$v,ed.PerformanceNavigationTiming?e=0<(e=ed.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(ed.g&&ed.g.Ea&&ed.g.Ea()&&ed.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Yv,$v=10;function Xv(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Jv(e){return e.h?1:e.g?e.g.size:0}function Zv(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function em(e,t){e.g?e.g.add(t):e.h=t}function tm(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nm(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=Dr(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return md(e.i)}function rm(){}function im(){this.g=new rm}function am(e,t,n){var r=n||"";try{bv(e,(function(e,n){var i=e;rd(e)&&(i=yp(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(lA){throw t.push(r+"type="+encodeURIComponent("_badmap")),lA}}function om(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function um(e){this.l=e.$b||null,this.j=e.ib||!1}function sm(e,t){pp.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=cm,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Qv.prototype.cancel=function(){if(this.i=nm(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=Dr(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},rm.prototype.stringify=function(e){return ed.JSON.stringify(e,void 0)},rm.prototype.parse=function(e){return ed.JSON.parse(e,void 0)},ld(um,$p),um.prototype.g=function(){return new sm(this.l,this.j)},um.prototype.i=(Yv={},function(){return Yv}),ld(sm,pp);var cm=0;function lm(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function fm(e){e.readyState=4,e.l=null,e.j=null,e.A=null,hm(e)}function hm(e){e.onreadystatechange&&e.onreadystatechange.call(e)}($h=sm.prototype).open=function(e,t){if(this.readyState!=cm)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,hm(this)},$h.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||ed).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},$h.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,fm(this)),this.readyState=cm},$h.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,hm(this)),this.g&&(this.readyState=3,hm(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof ed.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;lm(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},$h.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?fm(this):hm(this),3==this.readyState&&lm(this)}},$h.Ua=function(e){this.g&&(this.response=this.responseText=e,fm(this))},$h.Ta=function(e){this.g&&(this.response=e,fm(this))},$h.ha=function(){this.g&&fm(this)},$h.setRequestHeader=function(e,t){this.v.append(e,t)},$h.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},$h.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(sm.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var dm=ed.JSON.parse;function pm(e){pp.call(this),this.headers=new wv,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=vm,this.K=this.L=!1}ld(pm,pp);var vm="",mm=/^https?$/i,ym=["POST","PUT"];function gm(e){return"content-type"==e.toLowerCase()}function km(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,bm(e),xm(e)}function bm(e){e.D||(e.D=!0,vp(e,"complete"),vp(e,"error"))}function wm(e){if(e.h&&"undefined"!=typeof Zh&&(!e.C[1]||4!=Em(e)||2!=e.ba()))if(e.v&&4==Em(e))Ap(e.Fa,0,e);else if(vp(e,"readystatechange"),4==Em(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Ev)[1]||null;if(!a&&ed.self&&ed.self.location){var o=ed.self.location.protocol;a=o.substr(0,o.length-1)}i=!mm.test(a?a.toLowerCase():"")}t=i}if(t)vp(e,"complete"),vp(e,"success");else{e.m=6;try{var u=2<Em(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.ba()+"]",bm(e)}}finally{xm(e)}}}function xm(e,t){if(e.g){_m(e);var n=e.g,r=e.C[0]?td:null;e.g=null,e.C=null,t||vp(e,"ready");try{n.onreadystatechange=r}catch(lA){}}}function _m(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(ed.clearTimeout(e.A),e.A=null)}function Em(e){return e.g?e.g.readyState:0}function Im(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case vm:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Sm(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return Ed(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Dv(e,t,n))}function Tm(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Cm(e){this.za=0,this.l=[],this.h=new Fp,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Tm("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Tm("baseRetryDelayMs",5e3,e),this.$a=Tm("retryDelaySeedMs",1e4,e),this.Ya=Tm("forwardChannelMaxRetries",2,e),this.ra=Tm("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Qv(e&&e.concurrentRequestLimit),this.Ca=new im,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Nm(e){if(Dm(e),3==e.G){var t=e.V++,n=Sv(e.F);Dv(n,"SID",e.J),Dv(n,"RID",t),Dv(n,"TYPE","terminate"),Lm(e,n),(t=new iv(e,e.h,t,void 0)).K=2,t.v=Pv(Sv(n)),n=!1,ed.navigator&&ed.navigator.sendBeacon&&(n=ed.navigator.sendBeacon(t.v.toString(),"")),!n&&ed.Image&&((new Image).src=t.v,n=!0),n||(t.g=Hm(t.l,null),t.g.ea(t.v)),t.F=Date.now(),pv(t)}Wm(e)}function Am(e){e.g&&(Um(e),e.g.cancel(),e.g=null)}function Dm(e){Am(e),e.u&&(ed.clearTimeout(e.u),e.u=null),Bm(e),e.i.cancel(),e.m&&("number"===typeof e.m&&ed.clearTimeout(e.m),e.m=null)}function Pm(e,t){e.l.push(new Hv(e.Za++,t)),3==e.G&&Rm(e)}function Rm(e){Xv(e.i)||e.m||(e.m=!0,Ep(e.Ha,e),e.C=0)}function Om(e,t){var n;n=t?t.m:e.V++;var r=Sv(e.F);Dv(r,"SID",e.J),Dv(r,"RID",n),Dv(r,"AID",e.U),Lm(e,r),e.o&&e.s&&Sm(r,e.o,e.s),n=new iv(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Mm(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),em(e.i,n),cv(n,r,t)}function Lm(e,t){e.j&&bv({},(function(e,n){Dv(t,n,e)}))}function Mm(e,t,n){n=Math.min(e.l.length,n);var r=e.j?sd(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{am(l,o,"req"+c+"_")}catch(wy){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Fm(e){e.g||e.u||(e.Y=1,Ep(e.Ga,e),e.A=0)}function jm(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=Hp(sd(e.Ga,e),qm(e,e.A)),e.A++,!0)}function Um(e){null!=e.B&&(ed.clearTimeout(e.B),e.B=null)}function Vm(e){e.g=new iv(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Sv(e.oa);Dv(t,"RID","rpc"),Dv(t,"SID",e.J),Dv(t,"CI",e.N?"0":"1"),Dv(t,"AID",e.U),Lm(e,t),Dv(t,"TYPE","xmlhttp"),e.o&&e.s&&Sm(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Pv(Sv(t)),n.s=null,n.U=!0,lv(n,e)}function Bm(e){null!=e.v&&(ed.clearTimeout(e.v),e.v=null)}function zm(e,t){var n=null;if(e.g==t){Bm(e),Um(e),e.g=null;var r=2}else{if(!Zv(e.i,t))return;n=t.D,tm(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;vp(r=Bp(),new Gp(r,n,t,i)),Rm(e)}else Fm(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(Jv(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=Hp(sd(e.Ha,e,t),qm(e,e.C)),e.C++,!0))}(e,t)||2==r&&jm(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Km(e,5);break;case 4:Km(e,10);break;case 3:Km(e,6);break;default:Km(e,2)}}function qm(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Km(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=sd(e.jb,e);n||(n=new Iv("//www.google.com/images/cleardot.gif"),ed.location&&"http"==ed.location.protocol||Tv(n,"https"),Pv(n)),function(e,t){var n=new Fp;if(ed.Image){var r=new Image;r.onload=cd(om,n,r,"TestLoadImage: loaded",!0,t),r.onerror=cd(om,n,r,"TestLoadImage: error",!1,t),r.onabort=cd(om,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=cd(om,n,r,"TestLoadImage: timeout",!1,t),ed.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Wp(2);e.G=0,e.j&&e.j.va(t),Wm(e),Dm(e)}function Wm(e){e.G=0,e.I=-1,e.j&&(0==nm(e.i).length&&0==e.l.length||(e.i.i.length=0,md(e.l),e.l.length=0),e.j.ua())}function Gm(e,t,n){var r=function(e){return e instanceof Iv?Sv(e):new Iv(e,void 0)}(n);if(""!=r.i)t&&Cv(r,t+"."+r.i),Nv(r,r.m);else{var i=ed.location;r=function(e,t,n,r){var i=new Iv(null,void 0);return e&&Tv(i,e),t&&Cv(i,t),n&&Nv(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&Ed(e.aa,(function(e,t){Dv(r,t,e)})),t=e.D,n=e.sa,t&&n&&Dv(r,t,n),Dv(r,"VER",e.ma),Lm(e,r),r}function Hm(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new pm(new um({ib:!0})):new pm(e.qa)).L=e.H,t}function Qm(){}function Ym(){if(Dd&&!(10<=Number(Kd)))throw Error("Environmental error: no available transport.")}function $m(e,t){pp.call(this),this.g=new Cm(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!yd(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!yd(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Zm(this)}function Xm(e){tv.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Jm(){nv.call(this),this.status=1}function Zm(e){this.g=e}($h=pm.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Zp.g(),this.C=this.u?Xp(this.u):Xp(Zp),this.g.onreadystatechange=sd(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void km(this,a)}e=n||"";var i=new wv(this.headers);r&&bv(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=gm,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=ed.FormData&&e instanceof ed.FormData,!(0<=dd(ym,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{_m(this),0<this.B&&((this.K=function(e){return Dd&&zd()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=sd(this.pa,this)):this.A=Ap(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){km(this,a)}},$h.pa=function(){"undefined"!=typeof Zh&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,vp(this,"timeout"),this.abort(8))},$h.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,vp(this,"complete"),vp(this,"abort"),xm(this))},$h.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),xm(this,!0)),pm.Z.M.call(this)},$h.Fa=function(){this.s||(this.F||this.v||this.l?wm(this):this.cb())},$h.cb=function(){wm(this)},$h.ba=function(){try{return 2<Em(this)?this.g.status:-1}catch(Yv){return-1}},$h.ga=function(){try{return this.g?this.g.responseText:""}catch(Yv){return""}},$h.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),dm(t)}},$h.Da=function(){return this.m},$h.La=function(){return"string"===typeof this.j?this.j:String(this.j)},($h=Cm.prototype).ma=8,$h.G=1,$h.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},$h.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new iv(this,this.h,e,void 0),n=this.s;if(this.P&&(n?Td(n=Id(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Mm(this,t,r),Dv(i=Sv(this.F),"RID",e),Dv(i,"CVER",22),this.D&&Dv(i,"X-HTTP-Session-Id",this.D),Lm(this,i),this.o&&n&&Sm(i,this.o,n),em(this.i,t),this.Ra&&Dv(i,"TYPE","init"),this.ja?(Dv(i,"$req",r),Dv(i,"SID","null"),t.$=!0,cv(t,i,null)):cv(t,i,r),this.G=2}}else 3==this.G&&(e?Om(this,e):0==this.l.length||Xv(this.i)||Om(this))},$h.Ga=function(){if(this.u=null,Vm(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Hp(sd(this.bb,this),e)}},$h.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Wp(10),Am(this),Vm(this))},$h.ab=function(){null!=this.v&&(this.v=null,Am(this),jm(this),Wp(19))},$h.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Wp(2)):(this.h.info("Failed to ping google.com"),Wp(1))},($h=Qm.prototype).xa=function(){},$h.wa=function(){},$h.va=function(){},$h.ua=function(){},$h.Oa=function(){},Ym.prototype.g=function(e,t){return new $m(e,t)},ld($m,pp),$m.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Ep(sd(e.hb,e,t))),Wp(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Gm(e,null,e.W),Rm(e)},$m.prototype.close=function(){Nm(this.g)},$m.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,Pm(this.g,t)}else this.v?((t={}).__data__=yp(e),Pm(this.g,t)):Pm(this.g,e)},$m.prototype.M=function(){this.g.j=null,delete this.j,Nm(this.g),delete this.g,$m.Z.M.call(this)},ld(Xm,tv),ld(Jm,nv),ld(Zm,Qm),Zm.prototype.xa=function(){vp(this.g,"a")},Zm.prototype.wa=function(e){vp(this.g,new Xm(e))},Zm.prototype.va=function(e){vp(this.g,new Jm(e))},Zm.prototype.ua=function(){vp(this.g,"b")},Ym.prototype.createWebChannel=Ym.prototype.g,$m.prototype.send=$m.prototype.u,$m.prototype.open=$m.prototype.m,$m.prototype.close=$m.prototype.close,Qp.NO_ERROR=0,Qp.TIMEOUT=8,Qp.HTTP_ERROR=6,Yp.COMPLETE="complete",Jp.EventType=ev,ev.OPEN="a",ev.CLOSE="b",ev.ERROR="c",ev.MESSAGE="d",pp.prototype.listen=pp.prototype.N,pm.prototype.listenOnce=pm.prototype.O,pm.prototype.getLastError=pm.prototype.La,pm.prototype.getLastErrorCode=pm.prototype.Da,pm.prototype.getStatus=pm.prototype.ba,pm.prototype.getResponseJson=pm.prototype.Qa,pm.prototype.getResponseText=pm.prototype.ga,pm.prototype.send=pm.prototype.ea;var ey=Jh.createWebChannelTransport=function(){return new Ym},ty=Jh.getStatEventTarget=function(){return Bp()},ny=Jh.ErrorCode=Qp,ry=Jh.EventType=Yp,iy=Jh.Event=Up,ay=Jh.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},oy=Jh.FetchXmlHttpFactory=um,uy=Jh.WebChannel=Jp,sy=Jh.XhrIo=pm,cy="@firebase/firestore",ly=function(){function e(t){Pt(this,e),this.uid=t}return Ot(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();ly.UNAUTHENTICATED=new ly(null),ly.GOOGLE_CREDENTIALS=new ly("google-credentials-uid"),ly.FIRST_PARTY=new ly("first-party-uid"),ly.MOCK_USER=new ly("mock-user");var fy="9.8.0",hy=new _i("@firebase/firestore");function dy(){return hy.logLevel}function py(e){if(hy.logLevel<=mi.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(yy);hy.debug.apply(hy,["Firestore (".concat(fy,"): ").concat(e)].concat(Dt(i)))}}function vy(e){if(hy.logLevel<=mi.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(yy);hy.error.apply(hy,["Firestore (".concat(fy,"): ").concat(e)].concat(Dt(i)))}}function my(e){if(hy.logLevel<=mi.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(yy);hy.warn.apply(hy,["Firestore (".concat(fy,"): ").concat(e)].concat(Dt(i)))}}function yy(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function gy(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(fy,") INTERNAL ASSERTION FAILED: ")+e;throw vy(t),new Error(t)}function ky(e,t){e||gy()}function by(e,t){return e}var wy={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},xy=function(e){_n(n,e);var t=Cn(n);function n(e,r){var i;return Pt(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return Ot(n)}(Qr),_y=Ot((function e(){var t=this;Pt(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Ey=Ot((function e(t,n){Pt(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Iy=function(){function e(){Pt(this,e)}return Ot(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(ly.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Sy=function(){function e(t){Pt(this,e),this.token=t,this.changeListener=null}return Ot(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Ty=function(){function e(t){Pt(this,e),this.t=t,this.currentUser=ly.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return Ot(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new _y;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new _y,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(ci(fi().mark((function e(){return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){py("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(py("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new _y)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(py("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(ky("string"==typeof n.accessToken),new Ey(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return ky(null===e||"string"==typeof e),new ly(e)}}]),e}(),Cy=Ot((function e(t,n,r){Pt(this,e),this.type="FirstParty",this.user=ly.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),Ny=function(){function e(t,n,r){Pt(this,e),this.h=t,this.l=n,this.m=r}return Ot(e,[{key:"getToken",value:function(){return Promise.resolve(new Cy(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(ly.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Ay=Ot((function e(t){Pt(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Dy=function(){function e(t){Pt(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return Ot(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&py("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,py("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){py("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?i(e):py("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(ky("string"==typeof t.token),e.p=t.token,new Ay(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),Py=function(){function e(t,n){var r=this;Pt(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.I(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return Ot(e,[{key:"I",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function Ry(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}Py.A=-1;var Oy=function(){function e(){Pt(this,e)}return Ot(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Ry(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Ly(e,t){return e<t?-1:e>t?1:0}function My(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Fy(e){return e+"\0"}var jy=function(){function e(t,n){if(Pt(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new xy(wy.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new xy(wy.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new xy(wy.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new xy(wy.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return Ot(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Ly(this.nanoseconds,e.nanoseconds):Ly(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Uy=function(){function e(t){Pt(this,e),this.timestamp=t}return Ot(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new jy(0,0))}},{key:"max",value:function(){return new e(new jy(253402300799,999999999))}}]),e}();function Vy(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function By(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function zy(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var qy=function(){function e(t,n,r){Pt(this,e),void 0===n?n=0:n>t.length&&gy(),void 0===r?r=t.length-n:r>t.length-n&&gy(),this.segments=t,this.offset=n,this.len=r}return Ot(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Ky=function(e){_n(n,e);var t=Cn(n);function n(){return Pt(this,n),t.apply(this,arguments)}return Ot(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new xy(wy.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,Dt(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(qy),Wy=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Gy=function(e){_n(n,e);var t=Cn(n);function n(){return Pt(this,n),t.apply(this,arguments)}return Ot(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Wy.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new xy(wy.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new xy(wy.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new xy(wy.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new xy(wy.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(qy),Hy=function(){function e(t){Pt(this,e),this.fields=t,t.sort(Gy.comparator)}return Ot(e,[{key:"covers",value:function(e){var t,n=Dr(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return My(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();var Qy=function(e){function t(e){Pt(this,t),this.binaryString=e}return Ot(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Ly(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Qy.EMPTY_BYTE_STRING=new Qy("");var Yy=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $y(e){if(ky(!!e),"string"==typeof e){var t=0,n=Yy.exec(e);if(ky(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Xy(e.seconds),nanos:Xy(e.nanos)}}function Xy(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Jy(e){return"string"==typeof e?Qy.fromBase64String(e):Qy.fromUint8Array(e)}function Zy(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function eg(e){var t=e.mapValue.fields.__previous_value__;return Zy(t)?eg(t):t}function tg(e){var t=$y(e.mapValue.fields.__local_write_time__.timestampValue);return new jy(t.seconds,t.nanos)}var ng=Ot((function e(t,n,r,i,a,o,u,s){Pt(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),rg=function(){function e(t,n){Pt(this,e),this.projectId=t,this.database=n||"(default)"}return Ot(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function ig(e){return null==e}function ag(e){return 0===e&&1/e==-1/0}function og(e){return"number"==typeof e&&Number.isInteger(e)&&!ag(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var ug=function(){function e(t){Pt(this,e),this.path=t}return Ot(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Ky.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Ky.fromString(t))}},{key:"fromName",value:function(t){return new e(Ky.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Ky.emptyPath())}},{key:"comparator",value:function(e,t){return Ky.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Ky(t.slice()))}}]),e}(),sg={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},cg={nullValue:"NULL_VALUE"};function lg(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Zy(e)?4:Eg(e)?9007199254740991:10:gy()}function fg(e,t){if(e===t)return!0;var n=lg(e);if(n!==lg(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return tg(e).isEqual(tg(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=$y(e.timestampValue),r=$y(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Jy(e.bytesValue).isEqual(Jy(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Xy(e.geoPointValue.latitude)===Xy(t.geoPointValue.latitude)&&Xy(e.geoPointValue.longitude)===Xy(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Xy(e.integerValue)===Xy(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Xy(e.doubleValue),r=Xy(t.doubleValue);return n===r?ag(n)===ag(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return My(e.arrayValue.values||[],t.arrayValue.values||[],fg);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Vy(n)!==Vy(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!fg(n[i],r[i])))return!1;return!0}(e,t);default:return gy()}}function hg(e,t){return void 0!==(e.values||[]).find((function(e){return fg(e,t)}))}function dg(e,t){if(e===t)return 0;var n=lg(e),r=lg(t);if(n!==r)return Ly(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ly(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Xy(e.integerValue||e.doubleValue),r=Xy(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return pg(e.timestampValue,t.timestampValue);case 4:return pg(tg(e),tg(t));case 5:return Ly(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Jy(e),r=Jy(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Ly(n[i],r[i]);if(0!==a)return a}return Ly(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Ly(Xy(e.latitude),Xy(t.latitude));return 0!==n?n:Ly(Xy(e.longitude),Xy(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=dg(n[i],r[i]);if(a)return a}return Ly(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===sg.mapValue&&t===sg.mapValue)return 0;if(e===sg.mapValue)return 1;if(t===sg.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=Ly(r[o],a[o]);if(0!==u)return u;var s=dg(n[r[o]],i[a[o]]);if(0!==s)return s}return Ly(r.length,a.length)}(e.mapValue,t.mapValue);default:throw gy()}}function pg(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Ly(e,t);var n=$y(e),r=$y(t),i=Ly(n.seconds,r.seconds);return 0!==i?i:Ly(n.nanos,r.nanos)}function vg(e){return mg(e)}function mg(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=$y(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Jy(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,ug.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=Dr(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=mg(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=Dr(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(mg(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):gy();var t,n}function yg(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function gg(e){return!!e&&"integerValue"in e}function kg(e){return!!e&&"arrayValue"in e}function bg(e){return!!e&&"nullValue"in e}function wg(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function xg(e){return!!e&&"mapValue"in e}function _g(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return By(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=_g(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=_g(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Eg(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Ig(e){return"nullValue"in e?cg:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?yg(rg.empty(),ug.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:gy()}function Sg(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?yg(rg.empty(),ug.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?sg:gy()}function Tg(e,t){var n=dg(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function Cg(e,t){var n=dg(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var Ng=function(){function e(t){Pt(this,e),this.value=t}return Ot(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!xg(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=_g(t)}},{key:"setAll",value:function(e){var t=this,n=Gy.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=_g(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());xg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return fg(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];xg(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){By(t,(function(t,n){return e[t]=n}));var r,i=Dr(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(_g(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Ag(e){var t=[];return By(e.fields,(function(e,n){var r=new Gy([e]);if(xg(n)){var i=Ag(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=Dr(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new Hy(t)}var Dg=function(){function e(t,n,r,i,a,o){Pt(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return Ot(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Ng.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Ng.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Uy.min(),Uy.min(),Ng.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,Uy.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Uy.min(),Ng.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Uy.min(),Ng.empty(),2)}}]),e}(),Pg=Ot((function e(t,n,r,i){Pt(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function Rg(e){return e.fields.find((function(e){return 2===e.kind}))}function Og(e){return e.fields.filter((function(e){return 2!==e.kind}))}Pg.UNKNOWN_ID=-1;var Lg=Ot((function e(t,n){Pt(this,e),this.fieldPath=t,this.kind=n})),Mg=function(){function e(t,n){Pt(this,e),this.sequenceNumber=t,this.offset=n}return Ot(e,null,[{key:"empty",value:function(){return new e(0,Ug.min())}}]),e}();function Fg(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Uy.fromTimestamp(1e9===r?new jy(n+1,0):new jy(n,r));return new Ug(i,ug.empty(),t)}function jg(e){return new Ug(e.readTime,e.key,-1)}var Ug=function(){function e(t,n,r){Pt(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return Ot(e,null,[{key:"min",value:function(){return new e(Uy.min(),ug.empty(),-1)}},{key:"max",value:function(){return new e(Uy.max(),ug.empty(),-1)}}]),e}();function Vg(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=ug.comparator(e.documentKey,t.documentKey))?n:Ly(e.largestBatchId,t.largestBatchId)}var Bg=function(){function e(t,n){Pt(this,e),this.comparator=t,this.root=n||qg.EMPTY}return Ot(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,qg.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,qg.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new zg(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new zg(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new zg(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new zg(this.root,e,this.comparator,!0)}}]),e}(),zg=function(){function e(t,n,r,i){Pt(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return Ot(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),qg=function(){function e(t,n,r,i,a){Pt(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return Ot(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw gy();if(this.right.isRed())throw gy();var e=this.left.check();if(e!==this.right.check())throw gy();return e+(this.isRed()?0:1)}}]),e}();qg.EMPTY=null,qg.RED=!0,qg.BLACK=!1,qg.EMPTY=new(function(){function e(){Pt(this,e),this.size=0}return Ot(e,[{key:"key",get:function(){throw gy()}},{key:"value",get:function(){throw gy()}},{key:"color",get:function(){throw gy()}},{key:"left",get:function(){throw gy()}},{key:"right",get:function(){throw gy()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new qg(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Kg=function(){function e(t){Pt(this,e),this.comparator=t,this.data=new Bg(this.comparator)}return Ot(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Wg(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Wg(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Wg=function(){function e(t){Pt(this,e),this.iter=t}return Ot(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function Gg(e){return e.hasNext()?e.getNext():void 0}var Hg=Ot((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;Pt(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.P=null}));function Qg(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new Hg(e,t,n,r,i,a,o)}function Yg(e){var t=by(e);if(null===t.P){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+vg(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),ig(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return vg(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return vg(e)})).join(",")),t.P=n}return t.P}function $g(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!hk(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!fg(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!pk(e.startAt,t.startAt)&&pk(e.endAt,t.endAt)}function Xg(e){return ug.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Jg(e,t){return e.filters.filter((function(e){return e instanceof tk&&e.field.isEqual(t)}))}function Zg(e,t,n){var r,i=cg,a=!0,o=Dr(Jg(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=cg,c=!0;switch(u.op){case"<":case"<=":s=Ig(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=cg}Tg({value:i,inclusive:a},{value:s,inclusive:c})<0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Tg({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function ek(e,t,n){var r,i=sg,a=!0,o=Dr(Jg(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=sg,c=!0;switch(u.op){case">=":case">":s=Sg(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=sg}Cg({value:i,inclusive:a},{value:s,inclusive:c})>0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Cg({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var tk=function(e){_n(n,e);var t=Cn(n);function n(e,r,i){var a;return Pt(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return Ot(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(dg(t,this.value)):null!==t&&lg(this.value)===lg(t)&&this.v(dg(t,this.value))}},{key:"v",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return gy()}}},{key:"S",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new nk(e,t,r):"array-contains"===t?new ok(e,r):"in"===t?new uk(e,r):"not-in"===t?new sk(e,r):"array-contains-any"===t?new ck(e,r):new n(e,t,r)}},{key:"V",value:function(e,t,n){return"in"===t?new rk(e,n):new ik(e,n)}}]),n}(function(){return Ot((function e(){Pt(this,e)}))}()),nk=function(e){_n(n,e);var t=Cn(n);function n(e,r,i){var a;return Pt(this,n),(a=t.call(this,e,r,i)).key=ug.fromName(i.referenceValue),a}return Ot(n,[{key:"matches",value:function(e){var t=ug.comparator(e.key,this.key);return this.v(t)}}]),n}(tk),rk=function(e){_n(n,e);var t=Cn(n);function n(e,r){var i;return Pt(this,n),(i=t.call(this,e,"in",r)).keys=ak("in",r),i}return Ot(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(tk),ik=function(e){_n(n,e);var t=Cn(n);function n(e,r){var i;return Pt(this,n),(i=t.call(this,e,"not-in",r)).keys=ak("not-in",r),i}return Ot(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(tk);function ak(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return ug.fromName(e.referenceValue)}))}var ok=function(e){_n(n,e);var t=Cn(n);function n(e,r){return Pt(this,n),t.call(this,e,"array-contains",r)}return Ot(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return kg(t)&&hg(t.arrayValue,this.value)}}]),n}(tk),uk=function(e){_n(n,e);var t=Cn(n);function n(e,r){return Pt(this,n),t.call(this,e,"in",r)}return Ot(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&hg(this.value.arrayValue,t)}}]),n}(tk),sk=function(e){_n(n,e);var t=Cn(n);function n(e,r){return Pt(this,n),t.call(this,e,"not-in",r)}return Ot(n,[{key:"matches",value:function(e){if(hg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!hg(this.value.arrayValue,t)}}]),n}(tk),ck=function(e){_n(n,e);var t=Cn(n);function n(e,r){return Pt(this,n),t.call(this,e,"array-contains-any",r)}return Ot(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!kg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return hg(t.value.arrayValue,e)}))}}]),n}(tk),lk=Ot((function e(t,n){Pt(this,e),this.position=t,this.inclusive=n})),fk=Ot((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";Pt(this,e),this.field=t,this.dir=n}));function hk(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function dk(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?ug.comparator(ug.fromName(o.referenceValue),n.key):dg(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function pk(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!fg(e.position[n],t.position[n]))return!1;return!0}var vk=Ot((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;Pt(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.D=null,this.C=null,this.startAt,this.endAt}));function mk(e,t,n,r,i,a,o,u){return new vk(e,t,n,r,i,a,o,u)}function yk(e){return new vk(e)}function gk(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function kk(e){var t,n=Dr(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.S())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function bk(e){return null!==e.collectionGroup}function wk(e){var t=by(e);if(null===t.D){t.D=[];var n=kk(t),r=gk(t);if(null!==n&&null===r)n.isKeyField()||t.D.push(new fk(n)),t.D.push(new fk(Gy.keyField(),"asc"));else{var i,a=!1,o=Dr(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.D.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.D.push(new fk(Gy.keyField(),s))}}}return t.D}function xk(e){var t=by(e);if(!t.C)if("F"===t.limitType)t.C=Qg(t.path,t.collectionGroup,wk(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=Dr(wk(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new fk(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new lk(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new lk(t.startAt.position,t.startAt.inclusive):null;t.C=Qg(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.C}function _k(e,t,n){return new vk(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Ek(e,t){return $g(xk(e),xk(t))&&e.limitType===t.limitType}function Ik(e){return"".concat(Yg(xk(e)),"|lt:").concat(e.limitType)}function Sk(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(vg(t.value));var t})).join(", "),"]")),ig(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return vg(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return vg(e)})).join(",")),"Target(".concat(t,")")}(xk(e)),"; limitType=").concat(e.limitType,")")}function Tk(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):ug.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=Dr(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=Dr(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=dk(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,wk(e),t))&&!(e.endAt&&!function(e,t,n){var r=dk(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,wk(e),t))}(e,t)}function Ck(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Nk(e){return function(t,n){var r,i=!1,a=Dr(wk(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=Ak(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function Ak(e,t,n){var r=e.field.isKeyField()?ug.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?dg(r,i):gy()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return gy()}}function Dk(e,t){if(e.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ag(t)?"-0":t}}function Pk(e){return{integerValue:""+e}}function Rk(e,t){return og(t)?Pk(t):Dk(e,t)}var Ok=Ot((function e(){Pt(this,e),this._=void 0}));function Lk(e,t,n){return e instanceof jk?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Uk?Vk(e,t):e instanceof Bk?zk(e,t):function(e,t){var n=Fk(e,t),r=Kk(n)+Kk(e.k);return gg(n)&&gg(e.k)?Pk(r):Dk(e.M,r)}(e,t)}function Mk(e,t,n){return e instanceof Uk?Vk(e,t):e instanceof Bk?zk(e,t):n}function Fk(e,t){return e instanceof qk?gg(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var jk=function(e){_n(n,e);var t=Cn(n);function n(){return Pt(this,n),t.apply(this,arguments)}return Ot(n)}(Ok),Uk=function(e){_n(n,e);var t=Cn(n);function n(e){var r;return Pt(this,n),(r=t.call(this)).elements=e,r}return Ot(n)}(Ok);function Vk(e,t){var n,r=Wk(t),i=Dr(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return fg(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Bk=function(e){_n(n,e);var t=Cn(n);function n(e){var r;return Pt(this,n),(r=t.call(this)).elements=e,r}return Ot(n)}(Ok);function zk(e,t){var n,r=Wk(t),i=Dr(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!fg(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var qk=function(e){_n(n,e);var t=Cn(n);function n(e,r){var i;return Pt(this,n),(i=t.call(this)).M=e,i.k=r,i}return Ot(n)}(Ok);function Kk(e){return Xy(e.integerValue||e.doubleValue)}function Wk(e){return kg(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Gk=Ot((function e(t,n){Pt(this,e),this.field=t,this.transform=n}));var Hk=Ot((function e(t,n){Pt(this,e),this.version=t,this.transformResults=n})),Qk=function(){function e(t,n){Pt(this,e),this.updateTime=t,this.exists=n}return Ot(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Yk(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var $k=Ot((function e(){Pt(this,e)}));function Xk(e,t,n){e instanceof nb?function(e,t,n){var r=e.value.clone(),i=ab(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof rb?function(e,t,n){if(Yk(e.precondition,t)){var r=ab(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(ib(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Jk(e,t,n){e instanceof nb?function(e,t,n){if(Yk(e.precondition,t)){var r=e.value.clone(),i=ob(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(tb(t),r).setHasLocalMutations()}}(e,t,n):e instanceof rb?function(e,t,n){if(Yk(e.precondition,t)){var r=ob(e.fieldTransforms,n,t),i=t.data;i.setAll(ib(e)),i.setAll(r),t.convertToFoundDocument(tb(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){Yk(e.precondition,t)&&t.convertToNoDocument(Uy.min())}(e,t)}function Zk(e,t){var n,r=null,i=Dr(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=Fk(a.transform,o||null);null!=u&&(null==r&&(r=Ng.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function eb(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&My(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Uk&&t instanceof Uk||e instanceof Bk&&t instanceof Bk?My(e.elements,t.elements,fg):e instanceof qk&&t instanceof qk?fg(e.k,t.k):e instanceof jk&&t instanceof jk}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function tb(e){return e.isFoundDocument()?e.version:Uy.min()}var nb=function(e){_n(n,e);var t=Cn(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return Pt(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return Ot(n)}($k),rb=function(e){_n(n,e);var t=Cn(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return Pt(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return Ot(n)}($k);function ib(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function ab(e,t,n){var r=new Map;ky(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,Mk(o,u,n[i]))}return r}function ob(e,t,n){var r,i=new Map,a=Dr(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,Lk(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var ub,sb,cb=function(e){_n(n,e);var t=Cn(n);function n(e,r){var i;return Pt(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return Ot(n)}($k),lb=function(e){_n(n,e);var t=Cn(n);function n(e,r){var i;return Pt(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return Ot(n)}($k),fb=Ot((function e(t){Pt(this,e),this.count=t}));function hb(e){switch(e){default:return gy();case wy.CANCELLED:case wy.UNKNOWN:case wy.DEADLINE_EXCEEDED:case wy.RESOURCE_EXHAUSTED:case wy.INTERNAL:case wy.UNAVAILABLE:case wy.UNAUTHENTICATED:return!1;case wy.INVALID_ARGUMENT:case wy.NOT_FOUND:case wy.ALREADY_EXISTS:case wy.PERMISSION_DENIED:case wy.FAILED_PRECONDITION:case wy.ABORTED:case wy.OUT_OF_RANGE:case wy.UNIMPLEMENTED:case wy.DATA_LOSS:return!0}}function db(e){if(void 0===e)return vy("GRPC error has no .code"),wy.UNKNOWN;switch(e){case ub.OK:return wy.OK;case ub.CANCELLED:return wy.CANCELLED;case ub.UNKNOWN:return wy.UNKNOWN;case ub.DEADLINE_EXCEEDED:return wy.DEADLINE_EXCEEDED;case ub.RESOURCE_EXHAUSTED:return wy.RESOURCE_EXHAUSTED;case ub.INTERNAL:return wy.INTERNAL;case ub.UNAVAILABLE:return wy.UNAVAILABLE;case ub.UNAUTHENTICATED:return wy.UNAUTHENTICATED;case ub.INVALID_ARGUMENT:return wy.INVALID_ARGUMENT;case ub.NOT_FOUND:return wy.NOT_FOUND;case ub.ALREADY_EXISTS:return wy.ALREADY_EXISTS;case ub.PERMISSION_DENIED:return wy.PERMISSION_DENIED;case ub.FAILED_PRECONDITION:return wy.FAILED_PRECONDITION;case ub.ABORTED:return wy.ABORTED;case ub.OUT_OF_RANGE:return wy.OUT_OF_RANGE;case ub.UNIMPLEMENTED:return wy.UNIMPLEMENTED;case ub.DATA_LOSS:return wy.DATA_LOSS;default:return gy()}}(sb=ub||(ub={}))[sb.OK=0]="OK",sb[sb.CANCELLED=1]="CANCELLED",sb[sb.UNKNOWN=2]="UNKNOWN",sb[sb.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",sb[sb.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",sb[sb.NOT_FOUND=5]="NOT_FOUND",sb[sb.ALREADY_EXISTS=6]="ALREADY_EXISTS",sb[sb.PERMISSION_DENIED=7]="PERMISSION_DENIED",sb[sb.UNAUTHENTICATED=16]="UNAUTHENTICATED",sb[sb.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",sb[sb.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",sb[sb.ABORTED=10]="ABORTED",sb[sb.OUT_OF_RANGE=11]="OUT_OF_RANGE",sb[sb.UNIMPLEMENTED=12]="UNIMPLEMENTED",sb[sb.INTERNAL=13]="INTERNAL",sb[sb.UNAVAILABLE=14]="UNAVAILABLE",sb[sb.DATA_LOSS=15]="DATA_LOSS";var pb=function(){function e(t,n){Pt(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return Ot(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=Dr(n);try{for(i.s();!(r=i.n()).done;){var a=u(r.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(c){i.e(c)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){By(this.inner,(function(t,n){var r,i=Dr(n);try{for(i.s();!(r=i.n()).done;){var a=u(r.value,2),o=a[0],s=a[1];e(o,s)}}catch(c){i.e(c)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return zy(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),vb=new Bg(ug.comparator);function mb(){return vb}var yb=new Bg(ug.comparator);function gb(){for(var e=yb,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function kb(){return new pb((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var bb=new Bg(ug.comparator),wb=new Kg(ug.comparator);function xb(){for(var e=wb,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var _b=new Kg(Ly);function Eb(){return _b}var Ib=function(){function e(t,n,r,i,a){Pt(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return Ot(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,Sb.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Uy.min(),r,Eb(),mb(),xb())}}]),e}(),Sb=function(){function e(t,n,r,i,a){Pt(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return Ot(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(Qy.EMPTY_BYTE_STRING,n,xb(),xb(),xb())}}]),e}(),Tb=Ot((function e(t,n,r,i){Pt(this,e),this.O=t,this.removedTargetIds=n,this.key=r,this.F=i})),Cb=Ot((function e(t,n){Pt(this,e),this.targetId=t,this.$=n})),Nb=Ot((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Qy.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Pt(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Ab=function(){function e(){Pt(this,e),this.B=0,this.L=Rb(),this.U=Qy.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}return Ot(e,[{key:"current",get:function(){return this.q}},{key:"resumeToken",get:function(){return this.U}},{key:"G",get:function(){return 0!==this.B}},{key:"j",get:function(){return this.K}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}},{key:"H",value:function(){var e=xb(),t=xb(),n=xb();return this.L.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:gy()}})),new Sb(this.U,this.q,e,t,n)}},{key:"J",value:function(){this.K=!1,this.L=Rb()}},{key:"Y",value:function(e,t){this.K=!0,this.L=this.L.insert(e,t)}},{key:"X",value:function(e){this.K=!0,this.L=this.L.remove(e)}},{key:"Z",value:function(){this.B+=1}},{key:"tt",value:function(){this.B-=1}},{key:"et",value:function(){this.K=!0,this.q=!0}}]),e}(),Db=function(){function e(t){Pt(this,e),this.nt=t,this.st=new Map,this.it=mb(),this.rt=Pb(),this.ot=new Kg(Ly)}return Ot(e,[{key:"ut",value:function(e){var t,n=Dr(e.O);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.F&&e.F.isFoundDocument()?this.at(r,e.F):this.ct(r,e.key,e.F)}}catch(u){n.e(u)}finally{n.f()}var i,a=Dr(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.ct(o,e.key,e.F)}}catch(u){a.e(u)}finally{a.f()}}},{key:"ht",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.lt(n);switch(e.state){case 0:t.ft(n)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||t.removeTarget(n);break;case 3:t.ft(n)&&(r.et(),r.W(e.resumeToken));break;case 4:t.ft(n)&&(t.dt(n),r.W(e.resumeToken));break;default:gy()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((function(e,r){n.ft(r)&&t(r)}))}},{key:"_t",value:function(e){var t=e.targetId,n=e.$.count,r=this.wt(t);if(r){var i=r.target;if(Xg(i))if(0===n){var a=new ug(i.path);this.ct(t,a,Dg.newNoDocument(a,Uy.min()))}else ky(1===n);else this.gt(t)!==n&&(this.dt(t),this.ot=this.ot.add(t))}}},{key:"yt",value:function(e){var t=this,n=new Map;this.st.forEach((function(r,i){var a=t.wt(i);if(a){if(r.current&&Xg(a.target)){var o=new ug(a.target.path);null!==t.it.get(o)||t.It(i,o)||t.ct(i,o,Dg.newNoDocument(o,e))}r.j&&(n.set(i,r.H()),r.J())}}));var r=xb();this.rt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.it.forEach((function(t,n){return n.setReadTime(e)}));var i=new Ib(e,n,this.ot,this.it,r);return this.it=mb(),this.rt=Pb(),this.ot=new Kg(Ly),i}},{key:"at",value:function(e,t){if(this.ft(e)){var n=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,n),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}}},{key:"ct",value:function(e,t,n){if(this.ft(e)){var r=this.lt(e);this.It(e,t)?r.Y(t,1):r.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),n&&(this.it=this.it.insert(t,n))}}},{key:"removeTarget",value:function(e){this.st.delete(e)}},{key:"gt",value:function(e){var t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Z",value:function(e){this.lt(e).Z()}},{key:"lt",value:function(e){var t=this.st.get(e);return t||(t=new Ab,this.st.set(e,t)),t}},{key:"Tt",value:function(e){var t=this.rt.get(e);return t||(t=new Kg(Ly),this.rt=this.rt.insert(e,t)),t}},{key:"ft",value:function(e){var t=null!==this.wt(e);return t||py("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}},{key:"dt",value:function(e){var t=this;this.st.set(e,new Ab),this.nt.getRemoteKeysForTarget(e).forEach((function(n){t.ct(e,n,null)}))}},{key:"It",value:function(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}]),e}();function Pb(){return new Bg(ug.comparator)}function Rb(){return new Bg(ug.comparator)}var Ob={asc:"ASCENDING",desc:"DESCENDING"},Lb={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Mb=Ot((function e(t,n){Pt(this,e),this.databaseId=t,this.N=n}));function Fb(e,t){return e.N?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function jb(e,t){return e.N?t.toBase64():t.toUint8Array()}function Ub(e,t){return Fb(e,t.toTimestamp())}function Vb(e){return ky(!!e),Uy.fromTimestamp(function(e){var t=$y(e);return new jy(t.seconds,t.nanos)}(e))}function Bb(e,t){return function(e){return new Ky(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function zb(e){var t=Ky.fromString(e);return ky(fw(t)),t}function qb(e,t){return Bb(e.databaseId,t.path)}function Kb(e,t){var n=zb(t);if(n.get(1)!==e.databaseId.projectId)throw new xy(wy.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new xy(wy.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ug(Qb(n))}function Wb(e,t){return Bb(e.databaseId,t)}function Gb(e){var t=zb(e);return 4===t.length?Ky.emptyPath():Qb(t)}function Hb(e){return new Ky(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Qb(e){return ky(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Yb(e,t,n){return{name:qb(e,t),fields:n.value.mapValue.fields}}function $b(e,t,n){var r=Kb(e,t.name),i=Vb(t.updateTime),a=new Ng({mapValue:{fields:t.fields}}),o=Dg.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function Xb(e,t){return"found"in t?function(e,t){ky(!!t.found),t.found.name,t.found.updateTime;var n=Kb(e,t.found.name),r=Vb(t.found.updateTime),i=new Ng({mapValue:{fields:t.found.fields}});return Dg.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){ky(!!t.missing),ky(!!t.readTime);var n=Kb(e,t.missing),r=Vb(t.readTime);return Dg.newNoDocument(n,r)}(e,t):gy()}function Jb(e,t){var n;if(t instanceof nb)n={update:Yb(e,t.key,t.value)};else if(t instanceof cb)n={delete:qb(e,t.key)};else if(t instanceof rb)n={update:Yb(e,t.key,t.data),updateMask:lw(t.fieldMask)};else{if(!(t instanceof lb))return gy();n={verify:qb(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof jk)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Uk)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Bk)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof qk)return{fieldPath:t.field.canonicalString(),increment:n.k};throw gy()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Ub(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:gy()}(e,t.precondition)),n}function Zb(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Qk.updateTime(Vb(e.updateTime)):void 0!==e.exists?Qk.exists(e.exists):Qk.none()}(t.currentDocument):Qk.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)ky("REQUEST_TIME"===t.setToServerValue),n=new jk;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Uk(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new Bk(i)}else"increment"in t?n=new qk(e,t.increment):gy();var a=Gy.fromServerFormat(t.fieldPath);return new Gk(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=Kb(e,t.update.name),a=new Ng({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Hy(t.map((function(e){return Gy.fromServerFormat(e)})))}(t.updateMask);return new rb(i,a,o,n,r)}return new nb(i,a,n,r)}if(t.delete){var u=Kb(e,t.delete);return new cb(u,n)}if(t.verify){var s=Kb(e,t.verify);return new lb(s,n)}return gy()}function ew(e,t){return{documents:[Wb(e,t.path)]}}function tw(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Wb(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Wb(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(wg(e.value))return{unaryFilter:{field:ow(e.field),op:"IS_NAN"}};if(bg(e.value))return{unaryFilter:{field:ow(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(wg(e.value))return{unaryFilter:{field:ow(e.field),op:"IS_NOT_NAN"}};if(bg(e.value))return{unaryFilter:{field:ow(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ow(e.field),op:aw(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:ow(e.field),direction:iw(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.N||ig(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function nw(e){var t=Gb(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){ky(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=rw(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new fk(uw(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return ig(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new lk(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new lk(n,t)}(n.endAt)),mk(t,i,u,o,s,"F",c,l)}function rw(e){return e?void 0!==e.unaryFilter?[cw(e)]:void 0!==e.fieldFilter?[sw(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return rw(e)})).reduce((function(e,t){return e.concat(t)})):gy():[]}function iw(e){return Ob[e]}function aw(e){return Lb[e]}function ow(e){return{fieldPath:e.canonicalString()}}function uw(e){return Gy.fromServerFormat(e.fieldPath)}function sw(e){return tk.create(uw(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return gy()}}(e.fieldFilter.op),e.fieldFilter.value)}function cw(e){switch(e.unaryFilter.op){case"IS_NAN":var t=uw(e.unaryFilter.field);return tk.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=uw(e.unaryFilter.field);return tk.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=uw(e.unaryFilter.field);return tk.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=uw(e.unaryFilter.field);return tk.create(i,"!=",{nullValue:"NULL_VALUE"});default:return gy()}}function lw(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function fw(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function hw(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=pw(t)),t=dw(e.get(n),t);return pw(t)}function dw(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function pw(e){return e+"\x01\x01"}function vw(e){var t=e.length;if(ky(t>=2),2===t)return ky("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Ky.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&gy(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:gy()}a=o+2}return new Ky(r)}var mw=["userId","batchId"];function yw(e,t){return[e,hw(t)]}function gw(e,t,n){return[e,hw(t),n]}var kw={},bw=["prefixPath","collectionGroup","readTime","documentId"],ww=["prefixPath","collectionGroup","documentId"],xw=["collectionGroup","readTime","prefixPath","documentId"],_w=["canonicalId","targetId"],Ew=["targetId","path"],Iw=["path","targetId"],Sw=["collectionId","parent"],Tw=["indexId","uid"],Cw=["uid","sequenceNumber"],Nw=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Aw=["indexId","uid","orderedDocumentKey"],Dw=["userId","collectionPath","documentId"],Pw=["userId","collectionPath","largestBatchId"],Rw=["userId","collectionGroup","largestBatchId"],Ow=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),Lw=[].concat(Dt(Ow),["documentOverlays"]),Mw=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Fw=[].concat(Mw,["indexConfiguration","indexState","indexEntries"]),jw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Uw=function(){function e(){Pt(this,e),this.onCommittedListeners=[]}return Ot(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),Vw=function(){function e(t){var n=this;Pt(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return Ot(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&gy(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=Dr(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}(),Bw=function(){function e(t,n){var r=this;Pt(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.At=new _y,this.transaction.oncomplete=function(){r.At.resolve()},this.transaction.onabort=function(){n.error?r.At.reject(new Kw(t,n.error)):r.At.resolve()},this.transaction.onerror=function(e){var n=Yw(e.target.error);r.At.reject(new Kw(t,n))}}return Ot(e,[{key:"Rt",get:function(){return this.At.promise}},{key:"abort",value:function(e){e&&this.At.reject(e),this.aborted||(py("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"bt",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new Gw(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Kw(n,t)}}}]),e}(),zw=function(){function e(t,n,r){Pt(this,e),this.name=t,this.version=n,this.Pt=r,12.2===e.Vt(Br())&&vy("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return Ot(e,[{key:"Nt",value:function(){var e=ci(fi().mark((function e(t){var n=this;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return py("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Kw(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new xy(wy.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new xy(wy.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new Kw(t,n))},i.onupgradeneeded=function(e){py("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.Pt.kt(t,i.transaction,e.oldVersion,n.version).next((function(){py("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.Mt&&(this.db.onversionchange=function(e){return n.Mt(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ot",value:function(e){this.Mt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=ci(fi().mark((function e(t,n,r,i){var a,o,u,s,c=this;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(fi().mark((function e(){var n,o;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Nt(t);case 2:return c.db=e.sent,n=Bw.open(c.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.bt(),e})).catch((function(e){return n.abort(e),Vw.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.Rt;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s="FirebaseError"!==e.t1.name&&o<3,py("SimpleDb","Transaction failed with error:",e.t1.message,"Retrying:",s),this.close(),s){e.next=15;break}return e.abrupt("return",Promise.reject(e.t1));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return py("SimpleDb","Removing database:",e),Hw(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"vt",value:function(){if(!Hr())return!1;if(e.St())return!0;var t=Br(),n=e.Vt(t),r=0<n&&n<10,i=e.Dt(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"St",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/jahngir/SMIT_FinalProject",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.Ct)}},{key:"xt",value:function(e,t){return e.store(t)}},{key:"Vt",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"Dt",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),qw=function(){function e(t){Pt(this,e),this.Ft=t,this.$t=!1,this.Bt=null}return Ot(e,[{key:"isDone",get:function(){return this.$t}},{key:"Lt",get:function(){return this.Bt}},{key:"cursor",set:function(e){this.Ft=e}},{key:"done",value:function(){this.$t=!0}},{key:"Ut",value:function(e){this.Bt=e}},{key:"delete",value:function(){return Hw(this.Ft.delete())}}]),e}(),Kw=function(e){_n(n,e);var t=Cn(n);function n(e,r){var i;return Pt(this,n),(i=t.call(this,wy.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return Ot(n)}(xy);function Ww(e){return"IndexedDbTransactionError"===e.name}var Gw=function(){function e(t){Pt(this,e),this.store=t}return Ot(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(py("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(py("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Hw(n)}},{key:"add",value:function(e){return py("SimpleDb","ADD",this.store.name,e,e),Hw(this.store.add(e))}},{key:"get",value:function(e){var t=this;return Hw(this.store.get(e)).next((function(n){return void 0===n&&(n=null),py("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return py("SimpleDb","DELETE",this.store.name,e),Hw(this.store.delete(e))}},{key:"count",value:function(){return py("SimpleDb","COUNT",this.store.name),Hw(this.store.count())}},{key:"qt",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.Kt(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new Vw((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"Gt",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new Vw((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Qt",value:function(e,t){py("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.jt=!1;var r=this.cursor(n);return this.Kt(r,(function(e,t,n){return n.delete()}))}},{key:"Wt",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Kt(r,t)}},{key:"zt",value:function(e){var t=this.cursor({});return new Vw((function(n,r){t.onerror=function(e){var t=Yw(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"Kt",value:function(e,t){var n=[];return new Vw((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new qw(i),o=t(i.primaryKey,i.value,a);if(o instanceof Vw){var u=o.catch((function(e){return a.done(),Vw.reject(e)}));n.push(u)}a.isDone?r():null===a.Lt?i.continue():i.continue(a.Lt)}else r()}})).next((function(){return Vw.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.jt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function Hw(e){return new Vw((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Yw(e.target.error);n(t)}}))}var Qw=!1;function Yw(e){var t=zw.Vt(Br());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new xy("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Qw||(Qw=!0,setTimeout((function(){throw r}),0)),r}}return e}var $w=function(e){_n(n,e);var t=Cn(n);function n(e,r){var i;return Pt(this,n),(i=t.call(this)).Ht=e,i.currentSequenceNumber=r,i}return Ot(n)}(Uw);function Xw(e,t){var n=by(e);return zw.xt(n.Ht,t)}var Jw=function(){function e(t,n,r,i){Pt(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return Ot(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Xk(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=Dr(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&Jk(r,e,this.localWriteTime)}}catch(u){n.e(u)}finally{n.f()}var i,a=Dr(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&Jk(o,e,this.localWriteTime)}}catch(u){a.e(u)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Uy.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),xb())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&My(this.mutations,e.mutations,(function(e,t){return eb(e,t)}))&&My(this.baseMutations,e.baseMutations,(function(e,t){return eb(e,t)}))}}]),e}(),Zw=function(){function e(t,n,r,i){Pt(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return Ot(e,null,[{key:"from",value:function(t,n,r){ky(t.mutations.length===r.length);for(var i=bb,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),ex=function(){function e(t,n){Pt(this,e),this.largestBatchId=t,this.mutation=n}return Ot(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),tx=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Uy.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Uy.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Qy.EMPTY_BYTE_STRING;Pt(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return Ot(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),nx=Ot((function e(t){Pt(this,e),this.Jt=t}));function rx(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:ix(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:qb(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Fb(e,t.version.toTimestamp())}}(e.Jt,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:ax(t.version)};else{if(!t.isUnknownDocument())return gy();r.unknownDocument={path:n.path.toArray(),version:ax(t.version)}}return r}function ix(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function ax(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function ox(e){var t=new jy(e.seconds,e.nanoseconds);return Uy.fromTimestamp(t)}function ux(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Zb(e.Jt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return Zb(e.Jt,t)})),u=jy.fromMillis(t.localWriteTimeMs);return new Jw(t.batchId,u,n,o)}function sx(e){var t,n,r=ox(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?ox(e.lastLimboFreeSnapshotVersion):Uy.min();return void 0!==e.query.documents?(ky(1===(n=e.query).documents.length),t=xk(yk(Gb(n.documents[0])))):t=function(e){return xk(nw(e))}(e.query),new tx(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Qy.fromBase64String(e.resumeToken))}function cx(e,t){var n,r=ax(t.snapshotVersion),i=ax(t.lastLimboFreeSnapshotVersion);n=Xg(t.target)?ew(e.Jt,t.target):tw(e.Jt,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Yg(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function lx(e){var t=nw({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?_k(t,t.limit,"L"):t}function fx(e,t){return new ex(t.largestBatchId,Zb(e.Jt,t.overlayMutation))}function hx(e,t){var n=t.path.lastSegment();return[e,hw(t.path.popLast()),n]}var dx=function(){function e(){Pt(this,e)}return Ot(e,[{key:"getBundleMetadata",value:function(e,t){return px(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:ox(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return px(e).put({bundleId:(n=t).id,createTime:ax(Vb(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return vx(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:lx(t.bundledQuery),readTime:ox(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return vx(e).put(function(e){return{name:e.name,readTime:ax(Vb(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function px(e){return Xw(e,"bundles")}function vx(e){return Xw(e,"namedQueries")}var mx=function(){function e(t,n){Pt(this,e),this.M=t,this.userId=n}return Ot(e,[{key:"getOverlay",value:function(e,t){var n=this;return yx(e).get(hx(this.userId,t)).next((function(e){return e?fx(n.M,e):null}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new ex(t,a);i.push(r.Xt(e,o))})),Vw.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(hw(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(yx(e).Qt("collectionPathOverlayIndex",i))})),Vw.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=kb(),a=hw(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return yx(e).qt("collectionPathOverlayIndex",o).next((function(e){var t,n=Dr(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=fx(r.M,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=kb(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return yx(e).Wt({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=fx(a.M,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"Xt",value:function(e,t){return yx(e).put(function(e,t,n){var r=u(hx(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Jb(e.Jt,n.mutation)}}(this.M,this.userId,t))}}],[{key:"Yt",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function yx(e){return Xw(e,"documentOverlays")}var gx=function(){function e(){Pt(this,e)}return Ot(e,[{key:"Zt",value:function(e,t){this.te(e,t),t.ee()}},{key:"te",value:function(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(Xy(e.integerValue));else if("doubleValue"in e){var n=Xy(e.doubleValue);isNaN(n)?this.ne(t,13):(this.ne(t,15),ag(n)?t.se(0):t.se(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie("".concat(r.seconds||"")),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(Jy(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ne(t,45),t.se(i.latitude||0),t.se(i.longitude||0)}else"mapValue"in e?Eg(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):gy()}},{key:"re",value:function(e,t){this.ne(t,25),this.le(e,t)}},{key:"le",value:function(e,t){t.ie(e)}},{key:"ce",value:function(e,t){var n=e.fields||{};this.ne(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.re(a,t),this.te(n[a],t)}}},{key:"he",value:function(e,t){var n=e.values||[];this.ne(t,50);var r,i=Dr(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.te(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ae",value:function(e,t){var n=this;this.ne(t,37),ug.fromName(e).path.forEach((function(e){n.ne(t,60),n.le(e,t)}))}},{key:"ne",value:function(e,t){e.se(t)}},{key:"oe",value:function(e){e.se(2)}}]),e}();function kx(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function bx(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=kx(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}gx.fe=new gx;var wx=function(){function e(){Pt(this,e),this.buffer=new Uint8Array(1024),this.position=0}return Ot(e,[{key:"de",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this._e(n.value),n=t.next();this.we()}},{key:"me",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.ge(n.value),n=t.next();this.ye()}},{key:"pe",value:function(e){var t,n=Dr(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this._e(i);else if(i<2048)this._e(960|i>>>6),this._e(128|63&i);else if(r<"\ud800"||"\udbff"<r)this._e(480|i>>>12),this._e(128|63&i>>>6),this._e(128|63&i);else{var a=r.codePointAt(0);this._e(240|a>>>18),this._e(128|63&a>>>12),this._e(128|63&a>>>6),this._e(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.we()}},{key:"Ie",value:function(e){var t,n=Dr(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.ge(i);else if(i<2048)this.ge(960|i>>>6),this.ge(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.ge(480|i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i);else{var a=r.codePointAt(0);this.ge(240|a>>>18),this.ge(128|63&a>>>12),this.ge(128|63&a>>>6),this.ge(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ye()}},{key:"Te",value:function(e){var t=this.Ee(e),n=bx(t);this.Ae(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Re",value:function(e){var t=this.Ee(e),n=bx(t);this.Ae(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"be",value:function(){this.Pe(255),this.Pe(255)}},{key:"Ve",value:function(){this.ve(255),this.ve(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Se",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ee",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"_e",value:function(e){var t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}},{key:"ge",value:function(e){var t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}},{key:"we",value:function(){this.Pe(0),this.Pe(1)}},{key:"ye",value:function(){this.ve(0),this.ve(1)}},{key:"Pe",value:function(e){this.Ae(1),this.buffer[this.position++]=e}},{key:"ve",value:function(e){this.Ae(1),this.buffer[this.position++]=~e}},{key:"Ae",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),xx=function(){function e(t){Pt(this,e),this.De=t}return Ot(e,[{key:"ue",value:function(e){this.De.de(e)}},{key:"ie",value:function(e){this.De.pe(e)}},{key:"se",value:function(e){this.De.Te(e)}},{key:"ee",value:function(){this.De.be()}}]),e}(),_x=function(){function e(t){Pt(this,e),this.De=t}return Ot(e,[{key:"ue",value:function(e){this.De.me(e)}},{key:"ie",value:function(e){this.De.Ie(e)}},{key:"se",value:function(e){this.De.Re(e)}},{key:"ee",value:function(){this.De.Ve()}}]),e}(),Ex=function(){function e(){Pt(this,e),this.De=new wx,this.Ce=new xx(this.De),this.xe=new _x(this.De)}return Ot(e,[{key:"seed",value:function(e){this.De.seed(e)}},{key:"Ne",value:function(e){return 0===e?this.Ce:this.xe}},{key:"Se",value:function(){return this.De.Se()}},{key:"reset",value:function(){this.De.reset()}}]),e}(),Ix=function(){function e(t,n,r,i){Pt(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return Ot(e,[{key:"ke",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function Sx(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=Tx(e.arrayValue,t.arrayValue))?n:0!==(n=Tx(e.directionalValue,t.directionalValue))?n:ug.comparator(e.documentKey,t.documentKey)}function Tx(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var Cx=function(){function e(t){Pt(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Me=t.orderBy,this.Oe=[];var n,r=Dr(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.S()?this.Fe=i:this.Oe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return Ot(e,[{key:"$e",value:function(e){var t=Rg(e);if(void 0!==t&&!this.Be(t))return!1;for(var n=Og(e),r=0,i=0;r<n.length&&this.Be(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Fe){var a=n[r];if(!this.Le(this.Fe,a)||!this.Ue(this.Me[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Me.length||!this.Ue(this.Me[i++],o))return!1}return!0}},{key:"Be",value:function(e){var t,n=Dr(this.Oe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.Le(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"Le",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"Ue",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}(),Nx=function(){function e(){Pt(this,e),this.qe=new Ax}return Ot(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.qe.add(t),Vw.resolve()}},{key:"getCollectionParents",value:function(e,t){return Vw.resolve(this.qe.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return Vw.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return Vw.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return Vw.resolve(null)}},{key:"getIndexType",value:function(e,t){return Vw.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return Vw.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return Vw.resolve(null)}},{key:"getMinOffset",value:function(e,t){return Vw.resolve(Ug.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return Vw.resolve()}},{key:"updateIndexEntries",value:function(e,t){return Vw.resolve()}}]),e}(),Ax=function(){function e(){Pt(this,e),this.index={}}return Ot(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Kg(Ky.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Kg(Ky.comparator)).toArray()}}]),e}(),Dx=new Uint8Array(0),Px=function(){function e(t,n){Pt(this,e),this.user=t,this.databaseId=n,this.Ke=new Ax,this.Ge=new pb((function(e){return Yg(e)}),(function(e,t){return $g(e,t)})),this.uid=t.uid||""}return Ot(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Ke.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Ke.add(t)}));var a={collectionId:r,parent:hw(i)};return Rx(e).put(a)}return Vw.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Fy(t),""],!1,!0);return Rx(e).qt(r).next((function(e){var r,i=Dr(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(vw(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=Lx(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);return delete r.indexId,n.add(r).next()}},{key:"deleteFieldIndex",value:function(e,t){var n=Lx(e),r=Mx(e),i=Ox(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=Ox(e),i=!0,a=new Map;return Vw.forEach(this.Qe(t),(function(t){return n.je(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=xb(),o=[];return Vw.forEach(a,(function(i,a){var u;py("IndexedDbIndexManager","Using index ".concat((u=i,"id=".concat(u.indexId,"|cg=").concat(u.collectionGroup,"|f=").concat(u.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(Yg(t)));var s=function(e,t){var n=Rg(t);if(void 0===n)return null;var r,i=Dr(Jg(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=Dr(Og(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=Dr(Jg(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=Dr(Og(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?Zg(e,o.fieldPath,e.startAt):ek(e,o.fieldPath,e.startAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new lk(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=Dr(Og(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?ek(e,o.fieldPath,e.endAt):Zg(e,o.fieldPath,e.endAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new lk(r,i)}(a,i),h=n.We(i,a,l),d=n.We(i,a,f),p=n.ze(i,a,c),v=n.He(i.indexId,s,h,l.inclusive,d,f.inclusive,p);return Vw.forEach(v,(function(n){return r.Gt(n,t.limit).next((function(t){t.forEach((function(t){var n=ug.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return Vw.resolve(null)}))}},{key:"Qe",value:function(e){var t=this.Ge.get(e);return t||(t=[e],this.Ge.set(e,t),t)}},{key:"He",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),c=s/(null!=t?t.length:1),l=[],f=function(s){var f=t?u.Je(t[s/c]):Dx,h=u.Ye(e,f,n[s%c],r),d=u.Xe(e,f,i[s%c],a),p=o.map((function(t){return u.Ye(e,f,t,!0)}));l.push.apply(l,Dt(u.createRange(h,d,p)))},h=0;h<s;++h)f(h);return l}},{key:"Ye",value:function(e,t,n,r){var i=new Ix(e,ug.empty(),t,n);return r?i:i.ke()}},{key:"Xe",value:function(e,t,n,r){var i=new Ix(e,ug.empty(),t,n);return r?i.ke():i}},{key:"je",value:function(e,t){var n=new Cx(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=Dr(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.$e(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2;return Vw.forEach(this.Qe(t),(function(t){return n.je(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new Kg(Gy.comparator),r=!1,i=Dr(e.filters);try{for(i.s();!(t=i.n()).done;){var a=t.value;a.field.isKeyField()||("array-contains"===a.op||"array-contains-any"===a.op?r=!0:n=n.add(a.field))}}catch(c){i.e(c)}finally{i.f()}var o,u=Dr(e.orderBy);try{for(u.s();!(o=u.n()).done;){var s=o.value;s.field.isKeyField()||(n=n.add(s.field))}}catch(c){u.e(c)}finally{u.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return r}))}},{key:"Ze",value:function(e,t){var n,r=new Ex,i=Dr(Og(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.Ne(a.kind);gx.fe.Zt(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Se()}},{key:"Je",value:function(e){var t=new Ex;return gx.fe.Zt(e,t.Ne(0)),t.Se()}},{key:"tn",value:function(e,t){var n=new Ex;return gx.fe.Zt(yg(this.databaseId,t),n.Ne(function(e){var t=Og(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Se()}},{key:"ze",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new Ex);var i,a=0,o=Dr(Og(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=Dr(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.en(t,s.fieldPath)&&kg(c))r=this.nn(r,s,c);else{var h=f.Ne(s.kind);gx.fe.Zt(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.sn(r)}},{key:"We",value:function(e,t,n){return this.ze(e,t,n.position)}},{key:"sn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Se();return t}},{key:"nn",value:function(e,t,n){var r,i=Dt(e),a=[],o=Dr(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=Dr(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new Ex;f.seed(l.Se()),gx.fe.Zt(s,f.Ne(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"en",value:function(e,t){return!!e.filters.find((function(e){return e instanceof tk&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=Lx(e),i=Mx(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next((function(e){var t=[];return Vw.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new Mg(t.sequenceNumber,new Ug(ox(t.readTime),new ug(vw(t.documentKey)),t.largestBatchId)):Mg.empty(),r=e.fields.map((function(e){var t=u(e,2),n=t[0],r=t[1];return new Lg(Gy.fromServerFormat(n),r)}));return new Pg(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Ly(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=Lx(e),a=Mx(e);return this.rn(e).next((function(e){return i.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return Vw.forEach(t,(function(t){return a.put(function(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:ax(r.readTime),documentKey:hw(r.documentKey.path),largestBatchId:r.largestBatchId}}(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return Vw.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?Vw.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),Vw.forEach(a,(function(r){return n.on(e,t,r).next((function(t){var a=n.un(i,r);return t.isEqual(a)?Vw.resolve():n.an(e,i,r,t,a)}))}))}))}))}},{key:"cn",value:function(e,t,n,r){return Ox(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.tn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"hn",value:function(e,t,n,r){return Ox(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.tn(n,t.key),t.key.path.toArray()])}},{key:"on",value:function(e,t,n){var r=Ox(e),i=new Kg(Sx);return r.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.tn(n,t)])},(function(e,r){i=i.add(new Ix(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"un",value:function(e,t){var n=new Kg(Sx),r=this.Ze(t,e);if(null==r)return n;var i=Rg(t);if(null!=i){var a=e.data.field(i.fieldPath);if(kg(a)){var o,u=Dr(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new Ix(t.indexId,e.key,this.Je(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new Ix(t.indexId,e.key,Dx,r));return n}},{key:"an",value:function(e,t,n,r,i){var a=this;py("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=Gg(a),s=Gg(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=Gg(o)):l?(i(u),u=Gg(a)):(u=Gg(a),s=Gg(o))}}(r,i,Sx,(function(r){o.push(a.cn(e,t,n,r))}),(function(r){o.push(a.hn(e,t,n,r))})),Vw.waitFor(o)}},{key:"rn",value:function(e){var t=1;return Mx(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return Sx(e,t)})).filter((function(e,t,n){return!t||0!==Sx(e,n[t-1])}));var r=[];r.push(e);var i,a=Dr(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=Sx(o,e),s=Sx(o,t);if(0===u)r[0]=e.ke();else if(u>0&&s<0)r.push(o),r.push(o.ke());else if(s>0)break}}catch(f){a.e(f)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2)c.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,Dx,[]],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,Dx,[]]));return c}},{key:"getMinOffset",value:function(e,t){var n,r=this;return Vw.forEach(this.Qe(t),(function(t){return r.je(e,t).next((function(e){e?(!n||Vg(e.indexState.offset,n)<0)&&(n=e.indexState.offset):n=Ug.min()}))})).next((function(){return n}))}}]),e}();function Rx(e){return Xw(e,"collectionParents")}function Ox(e){return Xw(e,"indexEntries")}function Lx(e){return Xw(e,"indexConfiguration")}function Mx(e){return Xw(e,"indexState")}var Fx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},jx=function(){function e(t,n,r){Pt(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return Ot(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function Ux(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.Wt({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){ky(1===u)})));var c,l=[],f=Dr(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=gw(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return Vw.waitFor(a).next((function(){return l}))}function Vx(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw gy();t=e.noDocument}return JSON.stringify(t).length}jx.DEFAULT_COLLECTION_PERCENTILE=10,jx.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,jx.DEFAULT=new jx(41943040,jx.DEFAULT_COLLECTION_PERCENTILE,jx.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),jx.DISABLED=new jx(-1,0,0);var Bx=function(){function e(t,n,r,i){Pt(this,e),this.userId=t,this.M=n,this.indexManager=r,this.referenceDelegate=i,this.ln={}}return Ot(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return qx(e).Wt({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=Kx(e),o=qx(e);return o.add({}).next((function(u){ky("number"==typeof u);var s,c=new Jw(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return Jb(e.Jt,t)})),i=n.mutations.map((function(t){return Jb(e.Jt,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.M,i.userId,c),f=[],h=new Kg((function(e,t){return Ly(e.canonicalString(),t.canonicalString())})),d=Dr(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=gw(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,kw))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.ln[u]=c.keys()})),Vw.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return qx(e).get(t).next((function(e){return e?(ky(e.userId===n.userId),ux(n.M,e)):null}))}},{key:"fn",value:function(e,t){var n=this;return this.ln[t]?Vw.resolve(this.ln[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.ln[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return qx(e).Wt({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(ky(t.batchId>=r),a=ux(n.M,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return qx(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return qx(e).qt("userMutationsIndex",n).next((function(e){return e.map((function(e){return ux(t.M,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=yw(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return Kx(e).Wt({range:i},(function(r,i,o){var s=u(r,3),c=s[0],l=s[1],f=s[2],h=vw(l);if(c===n.userId&&t.path.isEqual(h))return qx(e).get(f).next((function(e){if(!e)throw gy();ky(e.userId===n.userId),a.push(ux(n.M,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Kg(Ly),i=[];return t.forEach((function(t){var a=yw(n.userId,t.path),o=IDBKeyRange.lowerBound(a),s=Kx(e).Wt({range:o},(function(e,i,a){var o=u(e,3),s=o[0],c=o[1],l=o[2],f=vw(c);s===n.userId&&t.path.isEqual(f)?r=r.add(l):a.done()}));i.push(s)})),Vw.waitFor(i).next((function(){return n.dn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=yw(this.userId,r),o=IDBKeyRange.lowerBound(a),s=new Kg(Ly);return Kx(e).Wt({range:o},(function(e,t,a){var o=u(e,3),c=o[0],l=o[1],f=o[2],h=vw(l);c===n.userId&&r.isPrefixOf(h)?h.length===i&&(s=s.add(f)):a.done()})).next((function(){return n.dn(e,s)}))}},{key:"dn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(qx(e).get(t).next((function(e){if(null===e)throw gy();ky(e.userId===n.userId),r.push(ux(n.M,e))})))})),Vw.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return Ux(e.Ht,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n._n(t.batchId)})),Vw.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"_n",value:function(e){delete this.ln[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Vw.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return Kx(e).Wt({range:r},(function(e,n,r){if(e[0]===t.userId){var a=vw(e[1]);i.push(a)}else r.done()})).next((function(){ky(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return zx(e,this.userId,t)}},{key:"wn",value:function(e){var t=this;return Wx(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"Yt",value:function(t,n,r,i){return ky(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function zx(e,t,n){var r=yw(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return Kx(e).Wt({range:a,jt:!0},(function(e,n,r){var a=u(e,3),s=a[0],c=a[1];a[2];s===t&&c===i&&(o=!0),r.done()})).next((function(){return o}))}function qx(e){return Xw(e,"mutations")}function Kx(e){return Xw(e,"documentMutations")}function Wx(e){return Xw(e,"mutationQueues")}var Gx=function(){function e(t){Pt(this,e),this.mn=t}return Ot(e,[{key:"next",value:function(){return this.mn+=2,this.mn}}],[{key:"gn",value:function(){return new e(0)}},{key:"yn",value:function(){return new e(-1)}}]),e}(),Hx=function(){function e(t,n){Pt(this,e),this.referenceDelegate=t,this.M=n}return Ot(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.pn(e).next((function(n){var r=new Gx(n.highestTargetId);return n.highestTargetId=r.next(),t.In(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.pn(e).next((function(e){return Uy.fromTimestamp(new jy(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.pn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.pn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.In(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Tn(e,t).next((function(){return n.pn(e).next((function(r){return r.targetCount+=1,n.En(t,r),n.In(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Tn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return Qx(e).delete(t.targetId)})).next((function(){return n.pn(e)})).next((function(t){return ky(t.targetCount>0),t.targetCount-=1,n.In(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return Qx(e).Wt((function(o,u){var s=sx(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return Vw.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return Qx(e).Wt((function(e,n){var r=sx(n);t(r)}))}},{key:"pn",value:function(e){return Yx(e).get("targetGlobalKey").next((function(e){return ky(null!==e),e}))}},{key:"In",value:function(e,t){return Yx(e).put("targetGlobalKey",t)}},{key:"Tn",value:function(e,t){return Qx(e).put(cx(this.M,t))}},{key:"En",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.pn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=Yg(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Qx(e).Wt({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=sx(n);$g(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=$x(e);return t.forEach((function(t){var o=hw(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),Vw.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=$x(e);return Vw.forEach(t,(function(t){var a=hw(t.path);return Vw.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=$x(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=$x(e),i=xb();return r.Wt({range:n,jt:!0},(function(e,t,n){var r=vw(e[1]),a=new ug(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=hw(t.path),r=IDBKeyRange.bound([n],[Fy(n)],!1,!0),i=0;return $x(e).Wt({index:"documentTargetsIndex",jt:!0,range:r},(function(e,t,n){var r=u(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"Et",value:function(e,t){return Qx(e).get(t).next((function(e){return e?sx(e):null}))}}]),e}();function Qx(e){return Xw(e,"targets")}function Yx(e){return Xw(e,"targetGlobal")}function $x(e){return Xw(e,"targetDocuments")}function Xx(e){return Jx.apply(this,arguments)}function Jx(){return Jx=ci(fi().mark((function e(t){return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===wy.FAILED_PRECONDITION&&t.message===jw){e.next=2;break}throw t;case 2:py("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),Jx.apply(this,arguments)}function Zx(e,t){var n=u(e,2),r=n[0],i=n[1],a=u(t,2),o=a[0],s=a[1],c=Ly(r,o);return 0===c?Ly(i,s):c}var e_=function(){function e(t){Pt(this,e),this.An=t,this.buffer=new Kg(Zx),this.Rn=0}return Ot(e,[{key:"bn",value:function(){return++this.Rn}},{key:"Pn",value:function(e){var t=[e,this.bn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Zx(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),t_=function(){function e(t,n){Pt(this,e),this.garbageCollector=t,this.asyncQueue=n,this.Vn=!1,this.vn=null}return Ot(e,[{key:"start",value:function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}},{key:"stop",value:function(){this.vn&&(this.vn.cancel(),this.vn=null)}},{key:"started",get:function(){return null!==this.vn}},{key:"Sn",value:function(e){var t=this,n=this.Vn?3e5:6e4;py("LruGarbageCollector","Garbage collection scheduled in ".concat(n,"ms")),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,ci(fi().mark((function n(){return fi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.vn=null,t.Vn=!0,n.prev=1,n.next=4,e.collectGarbage(t.garbageCollector);case 4:n.next=14;break;case 6:if(n.prev=6,n.t0=n.catch(1),!Ww(n.t0)){n.next=12;break}py("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n.t0),n.next=14;break;case 12:return n.next=14,Xx(n.t0);case 14:return n.next=16,t.Sn(e);case 16:case"end":return n.stop()}}),n,null,[[1,6]])}))))}}]),e}(),n_=function(){function e(t,n){Pt(this,e),this.Dn=t,this.params=n}return Ot(e,[{key:"calculateTargetCount",value:function(e,t){return this.Dn.Cn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return Vw.resolve(Py.A);var r=new e_(t);return this.Dn.forEachTarget(e,(function(e){return r.Pn(e.sequenceNumber)})).next((function(){return n.Dn.xn(e,(function(e){return r.Pn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.Dn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.Dn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(py("LruGarbageCollector","Garbage collection skipped; disabled"),Vw.resolve(Fx)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(py("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),Fx):n.Nn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.Dn.getCacheSize(e)}},{key:"Nn",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(py("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),dy()<=mi.DEBUG&&py("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),Vw.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),r_=function(){function e(t,n){Pt(this,e),this.db=t,this.garbageCollector=function(e,t){return new n_(e,t)}(this,n)}return Ot(e,[{key:"Cn",value:function(e){var t=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"kn",value:function(e){var t=0;return this.xn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"xn",value:function(e,t){return this.Mn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return i_(e,n)}},{key:"removeReference",value:function(e,t,n){return i_(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return i_(e,t)}},{key:"On",value:function(e,t){return function(e,t){var n=!1;return Wx(e).zt((function(r){return zx(e,r,t).next((function(e){return e&&(n=!0),Vw.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Mn(e,(function(o,u){if(u<=t){var s=n.On(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,Uy.min()),$x(e).delete([0,hw(o.path)])}))}));i.push(s)}})).next((function(){return Vw.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return i_(e,t)}},{key:"Mn",value:function(e,t){var n,r=$x(e),i=Py.A;return r.Wt({index:"documentTargetsIndex"},(function(e,r){var a=u(e,2),o=a[0],s=(a[1],r.path),c=r.sequenceNumber;0===o?(i!==Py.A&&t(new ug(vw(n)),i),i=c,n=s):i=Py.A})).next((function(){i!==Py.A&&t(new ug(vw(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function i_(e,t){return $x(e).put(function(e,t){return{targetId:0,path:hw(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var a_=function(){function e(){Pt(this,e),this.changes=new pb((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return Ot(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Dg.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Vw.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),o_=function(){function e(t){Pt(this,e),this.M=t}return Ot(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return c_(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return c_(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],ix(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Fn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=Dg.newInvalidDocument(t);return c_(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(l_(t))},(function(e,i){r=n.$n(t,i)})).next((function(){return r}))}},{key:"Bn",value:function(e,t){var n=this,r={size:0,document:Dg.newInvalidDocument(t)};return c_(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(l_(t))},(function(e,i){r={document:n.$n(t,i),size:Vx(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=mb();return this.Ln(e,t,(function(e,t){var i=n.$n(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Un",value:function(e,t){var n=this,r=mb(),i=new Bg(ug.comparator);return this.Ln(e,t,(function(e,t){var a=n.$n(e,t);r=r.insert(e,a),i=i.insert(e,Vx(t))})).next((function(){return{documents:r,qn:i}}))}},{key:"Ln",value:function(e,t,n){if(t.isEmpty())return Vw.resolve();var r=new Kg(h_);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(l_(r.first()),l_(r.last())),a=r.getIterator(),o=a.getNext();return c_(e).Wt({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=ug.fromSegments([].concat(Dt(t.prefixPath),[t.collectionGroup,t.documentId]));o&&h_(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.Ut(l_(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),ix(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return c_(e).qt(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=mb(),i=Dr(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.$n(ug.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(u){i.e(u)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=mb(),o=f_(t,n),u=f_(t,Ug.max());return c_(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.$n(ug.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new u_(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return s_(e).get("remoteDocumentGlobalKey").next((function(e){return ky(!!e),e}))}},{key:"Fn",value:function(e,t){return s_(e).put("remoteDocumentGlobalKey",t)}},{key:"$n",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=$b(e.Jt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=ug.fromSegments(t.noDocument.path),i=ox(t.noDocument.readTime);n=Dg.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return gy();var a=ug.fromSegments(t.unknownDocument.path),o=ox(t.unknownDocument.version);n=Dg.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new jy(e[0],e[1]);return Uy.fromTimestamp(t)}(t.readTime)),n}(this.M,t);if(!n.isNoDocument()||!n.version.isEqual(Uy.min()))return n}return Dg.newInvalidDocument(e)}}]),e}(),u_=function(e){_n(n,e);var t=Cn(n);function n(e,r){var i;return Pt(this,n),(i=t.call(this)).Kn=e,i.trackRemovals=r,i.Gn=new pb((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return Ot(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Kg((function(e,t){return Ly(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Gn.get(a);if(n.push(t.Kn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=rx(t.Kn.M,o);i=i.add(a.path.popLast());var c=Vx(s);r+=c-u.size,n.push(t.Kn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=rx(t.Kn.M,o.convertToNoDocument(Uy.min()));n.push(t.Kn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.Kn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Kn.updateMetadata(e,r)),Vw.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Kn.Bn(e,t).next((function(e){return n.Gn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Kn.Un(e,t).next((function(e){var t=e.documents;return e.qn.forEach((function(e,r){n.Gn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(a_);function s_(e){return Xw(e,"remoteDocumentGlobal")}function c_(e){return Xw(e,"remoteDocumentsV14")}function l_(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function f_(e,t){var n=t.documentKey.path.toArray();return[e,ix(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function h_(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=Ly(n[a],r[a]))return i;return(i=Ly(n.length,r.length))||((i=Ly(n[n.length-2],r[r.length-2]))||Ly(n[n.length-1],r[r.length-1]))}var d_=function(){function e(t){Pt(this,e),this.M=t}return Ot(e,[{key:"kt",value:function(e,t,n,r){var i=this,a=new Bw("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",mw,{unique:!0}),e.createObjectStore("documentMutations")}(e),p_(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=Vw.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),p_(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Uy.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").qt().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",mw,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return Vw.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Qn(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.jn(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Wn(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.zn(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.Hn(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:Dw});t.createIndex("collectionPathOverlayIndex",Pw,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Rw,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:bw});t.createIndex("documentKeyIndex",ww),t.createIndex("collectionGroupIndex",xw)}(e)})).next((function(){return i.Jn(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){!function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:Tw}).createIndex("sequenceNumberIndex",Cw,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:Nw}).createIndex("documentKeyIndex",Aw,{unique:!1})}(e)}))),o}},{key:"jn",value:function(e){var t=0;return e.store("remoteDocuments").Wt((function(e,n){t+=Vx(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Qn",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.qt().next((function(n){return Vw.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",i).next((function(r){return Vw.forEach(r,(function(r){ky(r.userId===n.userId);var i=ux(t.M,r);return Ux(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Wn",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Wt((function(n,i){var a=new Ky(n),o=function(e){return[0,hw(e)]}(a);r.push(t.get(o).next((function(n){return n?Vw.resolve():function(n){return t.put({targetId:0,path:hw(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return Vw.waitFor(r)}))}))}},{key:"zn",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:Sw});var n=t.store("collectionParents"),r=new Ax,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:hw(i)})}};return t.store("remoteDocuments").Wt({jt:!0},(function(e,t){var n=new Ky(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Wt({jt:!0},(function(e,t){var n=u(e,3),r=(n[0],n[1]),a=(n[2],vw(r));return i(a.popLast())}))}))}},{key:"Hn",value:function(e){var t=this,n=e.store("targets");return n.Wt((function(e,r){var i=sx(r),a=cx(t.M,i);return n.put(a)}))}},{key:"Jn",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Wt((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new ug(Ky.fromString(i.document.name).popFirst(5)):i.noDocument?ug.fromSegments(i.noDocument.path):i.unknownDocument?ug.fromSegments(i.unknownDocument.path):gy()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return Vw.waitFor(r)}))}}]),e}();function p_(e){e.createObjectStore("targetDocuments",{keyPath:Ew}).createIndex("documentTargetsIndex",Iw,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",_w,{unique:!0}),e.createObjectStore("targetGlobal")}var v_="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",m_=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:13;if(Pt(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Yn=a,this.window=o,this.document=u,this.Xn=c,this.Zn=l,this.ts=f,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=function(e){return Promise.resolve()},!e.vt())throw new xy(wy.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new r_(this,i),this.hs=n+"main",this.M=new nx(s),this.ls=new zw(this.hs,this.ts,new d_(this.M)),this.fs=new Hx(this.referenceDelegate,this.M),this.ds=function(e){return new o_(e)}(this.M),this._s=new dx,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===l&&vy("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return Ot(e,[{key:"start",value:function(){var e=this;return this.gs().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new xy(wy.FAILED_PRECONDITION,v_);return e.ys(),e.ps(),e.Is(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.fs.getHighestSequenceNumber(t)}))})).then((function(t){e.es=new Py(t,e.Xn)})).then((function(){e.ns=!0})).catch((function(t){return e.ls&&e.ls.close(),Promise.reject(t)}))}},{key:"Ts",value:function(e){var t=this;return this.cs=function(){var n=ci(fi().mark((function n(r){return fi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ls.Ot(function(){var t=ci(fi().mark((function t(n){return fi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget(ci(fi().mark((function e(){return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.gs();case 4:case"end":return e.stop()}}),e)})))))}},{key:"gs",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return g_(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.Es(t).next((function(t){t||(e.isPrimary=!1,e.Yn.enqueueRetryable((function(){return e.cs(!1)})))}))})).next((function(){return e.As(t)})).next((function(n){return e.isPrimary&&!n?e.Rs(t).next((function(){return!1})):!!n&&e.bs(t).next((function(){return!0}))}))})).catch((function(t){if(Ww(t))return py("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return py("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Yn.enqueueRetryable((function(){return e.cs(t)})),e.isPrimary=t}))}},{key:"Es",value:function(e){var t=this;return y_(e).get("owner").next((function(e){return Vw.resolve(t.Ps(e))}))}},{key:"Vs",value:function(e){return g_(e).delete(this.clientId)}},{key:"vs",value:function(){var e=ci(fi().mark((function e(){var t,n,r,i,a=this;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.Ss(this.us,18e5)){e.next=6;break}return this.us=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Xw(e,"clientMetadata");return t.qt().next((function(e){var n=a.Ds(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Vw.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.ws){n=Dr(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.ws.removeItem(this.Cs(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Is",value:function(){var e=this;this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.gs().then((function(){return e.vs()})).then((function(){return e.Is()}))}))}},{key:"Ps",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"As",value:function(e){var t=this;return this.Zn?Vw.resolve(!0):y_(e).get("owner").next((function(n){if(null!==n&&t.Ss(n.leaseTimestampMs,5e3)&&!t.xs(n.ownerId)){if(t.Ps(n)&&t.networkEnabled)return!0;if(!t.Ps(n)){if(!n.allowTabSynchronization)throw new xy(wy.FAILED_PRECONDITION,v_);return!1}}return!(!t.networkEnabled||!t.inForeground)||g_(e).qt().next((function(e){return void 0===t.Ds(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&py("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=ci(fi().mark((function e(){var t=this;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ns=!1,this.Ns(),this.os&&(this.os.cancel(),this.os=null),this.ks(),this.Ms(),e.next=7,this.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new $w(e,Py.A);return t.Rs(n).next((function(){return t.Vs(n)}))}));case 7:this.ls.close(),this.Os();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ds",value:function(e,t){var n=this;return e.filter((function(e){return n.Ss(e.updateTimeMs,t)&&!n.xs(e.clientId)}))}},{key:"Fs",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return g_(t).qt().next((function(t){return e.Ds(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.ns}},{key:"getMutationQueue",value:function(e,t){return Bx.Yt(e,this.M,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.fs}},{key:"getRemoteDocumentCache",value:function(){return this.ds}},{key:"getIndexManager",value:function(e){return new Px(e,this.M.Jt.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return mx.Yt(this.M,e)}},{key:"getBundleCache",value:function(){return this._s}},{key:"runTransaction",value:function(e,t,n){var r=this;py("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=14===(i=this.ts)?Fw:13===i?Mw:12===i?Lw:11===i?Ow:void gy();return this.ls.runTransaction(e,o,u,(function(i){return a=new $w(i,r.es?r.es.next():Py.A),"readwrite-primary"===t?r.Es(a).next((function(e){return!!e||r.As(a)})).next((function(t){if(!t)throw vy("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Yn.enqueueRetryable((function(){return r.cs(!1)})),new xy(wy.FAILED_PRECONDITION,jw);return n(a)})).next((function(e){return r.bs(a).next((function(){return e}))})):r.$s(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"$s",value:function(e){var t=this;return y_(e).get("owner").next((function(e){if(null!==e&&t.Ss(e.leaseTimestampMs,5e3)&&!t.xs(e.ownerId)&&!t.Ps(e)&&!(t.Zn||t.allowTabSynchronization&&e.allowTabSynchronization))throw new xy(wy.FAILED_PRECONDITION,v_)}))}},{key:"bs",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return y_(e).put("owner",t)}},{key:"Rs",value:function(e){var t=this,n=y_(e);return n.get("owner").next((function(e){return t.Ps(e)?(py("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):Vw.resolve()}))}},{key:"Ss",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(vy("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ys",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=function(){e.Yn.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.gs()}))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}},{key:"ks",value:function(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}},{key:"ps",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=function(){t.Ns(),!qr()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Yn.enterRestrictedMode(!0),t.Yn.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ss))}},{key:"Ms",value:function(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}},{key:"xs",value:function(e){var t;try{var n=null!==(null===(t=this.ws)||void 0===t?void 0:t.getItem(this.Cs(e)));return py("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return vy("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ns",value:function(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(ld){vy("Failed to set zombie client id.",ld)}}},{key:"Os",value:function(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(ld){}}},{key:"Cs",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"vt",value:function(){return zw.vt()}}]),e}();function y_(e){return Xw(e,"owner")}function g_(e){return Xw(e,"clientMetadata")}function k_(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var b_=function(){function e(t,n,r){Pt(this,e),this.ds=t,this.Bs=n,this.indexManager=r}return Ot(e,[{key:"Ls",value:function(e,t){var n=this;return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.Us(e,t,r)}))}},{key:"Us",value:function(e,t,n){return this.ds.getEntry(e,t).next((function(e){var t,r=Dr(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"qs",value:function(e,t){e.forEach((function(e,n){var r,i=Dr(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"Ks",value:function(e,t){var n=this;return this.ds.getEntries(e,t).next((function(t){return n.Gs(e,t).next((function(){return t}))}))}},{key:"Gs",value:function(e,t){var n=this;return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.qs(t,e)}))}},{key:"Qs",value:function(e,t,n){return function(e){return ug.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.js(e,t.path):bk(t)?this.Ws(e,t,n):this.zs(e,t,n)}},{key:"js",value:function(e,t){return this.Ls(e,new ug(t)).next((function(e){var t=gb();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"Ws",value:function(e,t,n){var r=this,i=t.collectionGroup,a=gb();return this.indexManager.getCollectionParents(e,i).next((function(o){return Vw.forEach(o,(function(o){var u=function(e,t){return new vk(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.zs(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"zs",value:function(e,t,n){var r,i=this;return this.ds.getAllFromCollection(e,t.path,n).next((function(n){return r=n,i.Bs.getAllMutationBatchesAffectingQuery(e,t)})).next((function(e){var t,n=Dr(e);try{for(n.s();!(t=n.n()).done;){var i,a=t.value,o=Dr(a.mutations);try{for(o.s();!(i=o.n()).done;){var u=i.value,s=u.key,c=r.get(s);null==c&&(c=Dg.newInvalidDocument(s),r=r.insert(s,c)),Jk(u,c,a.localWriteTime),c.isFoundDocument()||(r=r.remove(s))}}catch(l){o.e(l)}finally{o.f()}}}catch(l){n.e(l)}finally{n.f()}})).next((function(){return r.forEach((function(e,n){Tk(t,n)||(r=r.remove(e))})),r}))}}]),e}(),w_=function(){function e(t,n,r,i){Pt(this,e),this.targetId=t,this.fromCache=n,this.Hs=r,this.Js=i}return Ot(e,null,[{key:"Ys",value:function(t,n){var r,i=xb(),a=xb(),o=Dr(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),x_=function(){function e(){Pt(this,e),this.Xs=!1}return Ot(e,[{key:"initialize",value:function(e,t){this.Zs=e,this.indexManager=t,this.Xs=!0}},{key:"Qs",value:function(e,t,n,r){var i=this;return this.ti(e,t).next((function(a){return a||i.ei(e,t,r,n)})).next((function(n){return n||i.ni(e,t)}))}},{key:"ti",value:function(e,t){return Vw.resolve(null)}},{key:"ei",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||r.isEqual(Uy.min())?this.ni(e,t):this.Zs.Ks(e,n).next((function(a){var o=i.si(t,a);return i.ii(t,o,n,r)?i.ni(e,t):(dy()<=mi.DEBUG&&py("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Sk(t)),i.ri(e,o,t,Fg(r,-1)))}))}},{key:"si",value:function(e,t){var n=new Kg(Nk(e));return t.forEach((function(t,r){Tk(e,r)&&(n=n.add(r))})),n}},{key:"ii",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"ni",value:function(e,t){return dy()<=mi.DEBUG&&py("QueryEngine","Using full collection scan to execute query:",Sk(t)),this.Zs.Qs(e,t,Ug.min())}},{key:"ri",value:function(e,t,n,r){return this.Zs.Qs(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),__=function(){function e(t,n,r,i){Pt(this,e),this.persistence=t,this.oi=n,this.M=i,this.ui=new Bg(Ly),this.ai=new pb((function(e){return Yg(e)}),$g),this.ci=new Map,this.hi=t.getRemoteDocumentCache(),this.fs=t.getTargetCache(),this._s=t.getBundleCache(),this.li(r)}return Ot(e,[{key:"li",value:function(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.fi=new b_(this.hi,this.Bs,this.indexManager),this.hi.setIndexManager(this.indexManager),this.oi.initialize(this.fi,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.ui)}))}}]),e}();function E_(e,t,n,r){return new __(e,t,n,r)}function I_(e,t){return S_.apply(this,arguments)}function S_(){return S_=ci(fi().mark((function e(t,n){var r;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=by(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.Bs.getAllMutationBatches(e).next((function(i){return t=i,r.li(n),r.Bs.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=xb(),s=Dr(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=Dr(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=Dr(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=Dr(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.fi.Ks(e,u).next((function(e){return{di:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),S_.apply(this,arguments)}function T_(e,t){var n=by(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.hi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Vw.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);ky(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.Bs.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.Bs.performConsistencyCheck(e)})).next((function(){return n.fi.Ks(e,r)}))}))}function C_(e){var t=by(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.fs.getLastRemoteSnapshotVersion(e)}))}function N_(e,t){var n=by(e),r=t.snapshotVersion,i=n.ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.hi.newChangeBuffer({trackRemovals:!0});i=n.ui;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.fs.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.fs.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(Qy.EMPTY_BYTE_STRING,Uy.min()).withLastLimboFreeSnapshotVersion(Uy.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.fs.updateTargetData(e,c))}}));var u=mb();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(A_(e,a,t.documentUpdates).next((function(e){u=e}))),!r.isEqual(Uy.min())){var s=n.fs.getLastRemoteSnapshotVersion(e).next((function(t){return n.fs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(s)}return Vw.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.fi.Gs(e,u)})).next((function(){return u}))})).then((function(e){return n.ui=i,e}))}function A_(e,t,n){var r=xb();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=mb();return n.forEach((function(n,i){var a=e.get(n);i.isNoDocument()&&i.version.isEqual(Uy.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!a.isValidDocument()||i.version.compareTo(a.version)>0||0===i.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):py("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",i.version)})),r}))}function D_(e,t){var n=by(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.Bs.getNextMutationBatchAfterBatchId(e,t)}))}function P_(e,t){var n=by(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.fs.getTargetData(e,t).next((function(i){return i?(r=i,Vw.resolve(r)):n.fs.allocateTargetId(e).next((function(i){return r=new tx(t,i,0,e.currentSequenceNumber),n.fs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.ui.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ui=n.ui.insert(e.targetId,e),n.ai.set(t,e.targetId)),e}))}function R_(e,t,n){return O_.apply(this,arguments)}function O_(){return O_=ci(fi().mark((function e(t,n,r){var i,a,o;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=by(t),a=i.ui.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Ww(e.t1)){e.next=12;break}throw e.t1;case 12:py("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.ui=i.ui.remove(n),i.ai.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),O_.apply(this,arguments)}function L_(e,t,n){var r=by(e),i=Uy.min(),a=xb();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=by(e),i=r.ai.get(n);return void 0!==i?Vw.resolve(r.ui.get(i)):r.fs.getTargetData(t,n)}(r,e,xk(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.fs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.oi.Qs(e,t,n?i:Uy.min(),n?a:xb())})).next((function(e){return j_(r,Ck(t),e),{documents:e,_i:a}}))}))}function M_(e,t){var n=by(e),r=by(n.fs),i=n.ui.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.Et(e,t).next((function(e){return e?e.target:null}))}))}function F_(e,t){var n=by(e),r=n.ci.get(t)||Uy.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.hi.getAllFromCollectionGroup(e,t,Fg(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return j_(n,t,e),e}))}function j_(e,t,n){var r=Uy.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.ci.set(t,r)}function U_(e,t,n,r){return V_.apply(this,arguments)}function V_(){return V_=ci(fi().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=by(t),o=xb(),u=mb(),s=Dr(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.wi(l.metadata.name),l.document&&(o=o.add(f)),(h=n.mi(l)).setReadTime(n.gi(l.metadata.readTime)),u=u.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=a.hi.newChangeBuffer({trackRemovals:!0}),e.next=7,P_(a,function(e){return xk(yk(Ky.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return A_(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.fs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.fs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.fi.Gs(e,t)})).next((function(){return t}))}))})));case 9:case"end":return e.stop()}}),e)}))),V_.apply(this,arguments)}function B_(e,t){return z_.apply(this,arguments)}function z_(){return z_=ci(fi().mark((function e(t,n){var r,i,a,o=arguments;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:xb(),e.next=3,P_(t,xk(lx(n.bundledQuery)));case 3:return i=e.sent,a=by(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=Vb(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a._s.saveNamedQuery(e,n);var o=i.withResumeToken(Qy.EMPTY_BYTE_STRING,t);return a.ui=a.ui.insert(o.targetId,o),a.fs.updateTargetData(e,o).next((function(){return a.fs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.fs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a._s.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),z_.apply(this,arguments)}var q_=function(){function e(t){Pt(this,e),this.M=t,this.yi=new Map,this.pi=new Map}return Ot(e,[{key:"getBundleMetadata",value:function(e,t){return Vw.resolve(this.yi.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.yi.set(t.id,{id:(n=t).id,version:n.version,createTime:Vb(n.createTime)}),Vw.resolve()}},{key:"getNamedQuery",value:function(e,t){return Vw.resolve(this.pi.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.pi.set(t.name,function(e){return{name:e.name,query:lx(e.bundledQuery),readTime:Vb(e.readTime)}}(t)),Vw.resolve()}}]),e}(),K_=function(){function e(){Pt(this,e),this.overlays=new Bg(ug.comparator),this.Ii=new Map}return Ot(e,[{key:"getOverlay",value:function(e,t){return Vw.resolve(this.overlays.get(t))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.Xt(e,t,i)})),Vw.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.Ii.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.Ii.delete(n)),Vw.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=kb(),i=t.length+1,a=new ug(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return Vw.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new Bg((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=kb(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=kb(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return Vw.resolve(s)}},{key:"Xt",value:function(e,t,n){if(null!==n){var r=this.overlays.get(n.key);if(null!==r){var i=this.Ii.get(r.largestBatchId).delete(n.key);this.Ii.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new ex(t,n));var a=this.Ii.get(t);void 0===a&&(a=xb(),this.Ii.set(t,a)),this.Ii.set(t,a.add(n.key))}}}]),e}(),W_=function(){function e(){Pt(this,e),this.Ti=new Kg(G_.Ei),this.Ai=new Kg(G_.Ri)}return Ot(e,[{key:"isEmpty",value:function(){return this.Ti.isEmpty()}},{key:"addReference",value:function(e,t){var n=new G_(e,t);this.Ti=this.Ti.add(n),this.Ai=this.Ai.add(n)}},{key:"bi",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.Pi(new G_(e,t))}},{key:"Vi",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"vi",value:function(e){var t=this,n=new ug(new Ky([])),r=new G_(n,e),i=new G_(n,e+1),a=[];return this.Ai.forEachInRange([r,i],(function(e){t.Pi(e),a.push(e.key)})),a}},{key:"Si",value:function(){var e=this;this.Ti.forEach((function(t){return e.Pi(t)}))}},{key:"Pi",value:function(e){this.Ti=this.Ti.delete(e),this.Ai=this.Ai.delete(e)}},{key:"Di",value:function(e){var t=new ug(new Ky([])),n=new G_(t,e),r=new G_(t,e+1),i=xb();return this.Ai.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new G_(e,0),n=this.Ti.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),G_=function(){function e(t,n){Pt(this,e),this.key=t,this.Ci=n}return Ot(e,null,[{key:"Ei",value:function(e,t){return ug.comparator(e.key,t.key)||Ly(e.Ci,t.Ci)}},{key:"Ri",value:function(e,t){return Ly(e.Ci,t.Ci)||ug.comparator(e.key,t.key)}}]),e}(),H_=function(){function e(t,n){Pt(this,e),this.indexManager=t,this.referenceDelegate=n,this.Bs=[],this.xi=1,this.Ni=new Kg(G_.Ei)}return Ot(e,[{key:"checkEmpty",value:function(e){return Vw.resolve(0===this.Bs.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.xi;this.xi++,this.Bs.length>0&&this.Bs[this.Bs.length-1];var a=new Jw(i,t,n,r);this.Bs.push(a);var o,u=Dr(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.Ni=this.Ni.add(new G_(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return Vw.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Vw.resolve(this.ki(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.Mi(n),i=r<0?0:r;return Vw.resolve(this.Bs.length>i?this.Bs[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Vw.resolve(0===this.Bs.length?-1:this.xi-1)}},{key:"getAllMutationBatches",value:function(e){return Vw.resolve(this.Bs.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new G_(t,0),i=new G_(t,Number.POSITIVE_INFINITY),a=[];return this.Ni.forEachInRange([r,i],(function(e){var t=n.ki(e.Ci);a.push(t)})),Vw.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Kg(Ly);return t.forEach((function(e){var t=new G_(e,0),i=new G_(e,Number.POSITIVE_INFINITY);n.Ni.forEachInRange([t,i],(function(e){r=r.add(e.Ci)}))})),Vw.resolve(this.Oi(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;ug.isDocumentKey(i)||(i=i.child(""));var a=new G_(new ug(i),0),o=new Kg(Ly);return this.Ni.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.Ci)),!0)}),a),Vw.resolve(this.Oi(o))}},{key:"Oi",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ki(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;ky(0===this.Fi(t.batchId,"removed")),this.Bs.shift();var r=this.Ni;return Vw.forEach(t.mutations,(function(i){var a=new G_(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.Ni=r}))}},{key:"_n",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new G_(t,0),r=this.Ni.firstAfterOrEqual(n);return Vw.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.Bs.length,Vw.resolve()}},{key:"Fi",value:function(e,t){return this.Mi(e)}},{key:"Mi",value:function(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}},{key:"ki",value:function(e){var t=this.Mi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}]),e}(),Q_=function(){function e(t){Pt(this,e),this.$i=t,this.docs=new Bg(ug.comparator),this.size=0}return Ot(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.$i(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Vw.resolve(n?n.document.mutableCopy():Dg.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=mb();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Dg.newInvalidDocument(e))})),Vw.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=mb(),i=new ug(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||Vg(jg(s),n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return Vw.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){gy()}},{key:"Bi",value:function(e,t){return Vw.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Y_(this)}},{key:"getSize",value:function(e){return Vw.resolve(this.size)}}]),e}(),Y_=function(e){_n(n,e);var t=Cn(n);function n(e){var r;return Pt(this,n),(r=t.call(this)).Kn=e,r}return Ot(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Kn.addEntry(e,i)):t.Kn.removeEntry(r)})),Vw.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Kn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Kn.getEntries(e,t)}}]),n}(a_),$_=function(){function e(t){Pt(this,e),this.persistence=t,this.Li=new pb((function(e){return Yg(e)}),$g),this.lastRemoteSnapshotVersion=Uy.min(),this.highestTargetId=0,this.Ui=0,this.qi=new W_,this.targetCount=0,this.Ki=Gx.gn()}return Ot(e,[{key:"forEachTarget",value:function(e,t){return this.Li.forEach((function(e,n){return t(n)})),Vw.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Vw.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Vw.resolve(this.Ui)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Ki.next(),Vw.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ui&&(this.Ui=t),Vw.resolve()}},{key:"Tn",value:function(e){this.Li.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Ki=new Gx(t),this.highestTargetId=t),e.sequenceNumber>this.Ui&&(this.Ui=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Tn(t),this.targetCount+=1,Vw.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Tn(t),Vw.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Li.delete(t.target),this.qi.vi(t.targetId),this.targetCount-=1,Vw.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Li.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Li.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),Vw.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Vw.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Li.get(t)||null;return Vw.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.qi.bi(t,n),Vw.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.qi.Vi(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Vw.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.qi.vi(t),Vw.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.qi.Di(t);return Vw.resolve(n)}},{key:"containsKey",value:function(e,t){return Vw.resolve(this.qi.containsKey(t))}}]),e}(),X_=function(){function e(t,n){var r=this;Pt(this,e),this.Gi={},this.overlays={},this.es=new Py(0),this.ns=!1,this.ns=!0,this.referenceDelegate=t(this),this.fs=new $_(this),this.indexManager=new Nx,this.ds=new Q_((function(e){return r.referenceDelegate.Qi(e)})),this.M=new nx(n),this._s=new q_(this.M)}return Ot(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.ns=!1,Promise.resolve()}},{key:"started",get:function(){return this.ns}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new K_,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Gi[e.toKey()];return n||(n=new H_(t,this.referenceDelegate),this.Gi[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.fs}},{key:"getRemoteDocumentCache",value:function(){return this.ds}},{key:"getBundleCache",value:function(){return this._s}},{key:"runTransaction",value:function(e,t,n){var r=this;py("MemoryPersistence","Starting transaction:",e);var i=new J_(this.es.next());return this.referenceDelegate.ji(),n(i).next((function(e){return r.referenceDelegate.Wi(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"zi",value:function(e,t){return Vw.or(Object.values(this.Gi).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),J_=function(e){_n(n,e);var t=Cn(n);function n(e){var r;return Pt(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return Ot(n)}(Uw),Z_=function(){function e(t){Pt(this,e),this.persistence=t,this.Hi=new W_,this.Ji=null}return Ot(e,[{key:"Xi",get:function(){if(this.Ji)return this.Ji;throw gy()}},{key:"addReference",value:function(e,t,n){return this.Hi.addReference(n,t),this.Xi.delete(n.toString()),Vw.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Hi.removeReference(n,t),this.Xi.add(n.toString()),Vw.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Xi.add(t.toString()),Vw.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Hi.vi(t.targetId).forEach((function(e){return n.Xi.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Xi.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"ji",value:function(){this.Ji=new Set}},{key:"Wi",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Vw.forEach(this.Xi,(function(r){var i=ug.fromPath(r);return t.Zi(e,i).next((function(e){e||n.removeEntry(i,Uy.min())}))})).next((function(){return t.Ji=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Zi(e,t).next((function(e){e?n.Xi.delete(t.toString()):n.Xi.add(t.toString())}))}},{key:"Qi",value:function(e){return 0}},{key:"Zi",value:function(e,t){var n=this;return Vw.or([function(){return Vw.resolve(n.Hi.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.zi(e,t)}])}}],[{key:"Yi",value:function(t){return new e(t)}}]),e}();function eE(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function tE(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function nE(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var rE=function(){function e(t,n,r,i){Pt(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return Ot(e,[{key:"er",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"tr",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new xy(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(vy("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),iE=function(){function e(t,n,r){Pt(this,e),this.targetId=t,this.state=n,this.error=r}return Ot(e,[{key:"er",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"tr",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new xy(i.error.code,i.error.message))),a?new e(t,i.state,r):(vy("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),aE=function(){function e(t,n){Pt(this,e),this.clientId=t,this.activeTargetIds=n}return Ot(e,null,[{key:"tr",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=Eb(),o=0;i&&o<r.activeTargetIds.length;++o)i=og(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(vy("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),oE=function(){function e(t,n){Pt(this,e),this.clientId=t,this.onlineState=n}return Ot(e,null,[{key:"tr",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(vy("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),uE=function(){function e(){Pt(this,e),this.activeTargetIds=Eb()}return Ot(e,[{key:"nr",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"sr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"er",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),sE=function(){function e(t,n,r,i,a){Pt(this,e),this.window=t,this.Yn=n,this.persistenceKey=r,this.ir=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.rr=this.ur.bind(this),this.ar=new Bg(Ly),this.started=!1,this.cr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.hr=eE(this.persistenceKey,this.ir),this.lr=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ar=this.ar.insert(this.ir,new uE),this.dr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this._r=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.wr=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.mr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.gr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.rr)}return Ot(e,[{key:"start",value:function(){var e=ci(fi().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Fs();case 2:t=e.sent,n=Dr(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.ir){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(eE(this.persistenceKey,i)))&&(o=aE.tr(i,a))&&(this.ar=this.ar.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.yr(),(u=this.storage.getItem(this.mr))&&(s=this.pr(u))&&this.Ir(s),c=Dr(this.cr);try{for(c.s();!(l=c.n()).done;)f=l.value,this.ur(f)}catch(d){c.e(d)}finally{c.f()}this.cr=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.lr,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Tr(this.ar)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ar.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Er(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Er(e,t,n),this.Ar(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(nE(this.persistenceKey,e));if(n){var r=iE.tr(e,n);r&&(t=r.state)}}return this.Rr.nr(e),this.yr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Rr.sr(e),this.yr()}},{key:"isLocalQueryTarget",value:function(e){return this.Rr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(nE(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.br(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Ar(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Pr(e)}},{key:"notifyBundleLoaded",value:function(e){this.Vr(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.rr),this.removeItem(this.hr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return py("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){py("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){py("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"ur",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(py("SharedClientState","EVENT",n.key,n.newValue),n.key===this.hr)return void vy("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable(ci(fi().mark((function e(){var r,i,a,o,u,s,c;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.dr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.vr(n.key),e.abrupt("return",t.Sr(r,null));case 6:if(!(i=t.Dr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Sr(i.clientId,i));case 9:e.next=41;break;case 11:if(!t._r.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Cr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Nr(a));case 16:e.next=41;break;case 18:if(!t.wr.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.kr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Mr(o));case 23:e.next=41;break;case 25:if(n.key!==t.mr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.pr(n.newValue))){e.next=30;break}return e.abrupt("return",t.Ir(u));case 30:e.next=41;break;case 32:if(n.key!==t.lr){e.next=37;break}s=function(e){var t=Py.A;if(null!=e)try{var n=JSON.parse(e);ky("number"==typeof n),t=n}catch(e){vy("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==Py.A&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.gr){e.next=41;break}return c=t.Or(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Fr(e)})));case 41:e.next=44;break;case 43:t.cr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Rr",get:function(){return this.ar.get(this.ir)}},{key:"yr",value:function(){this.setItem(this.hr,this.Rr.er())}},{key:"Er",value:function(e,t,n){var r=new rE(this.currentUser,e,t,n),i=tE(this.persistenceKey,this.currentUser,e);this.setItem(i,r.er())}},{key:"Ar",value:function(e){var t=tE(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Pr",value:function(e){var t={clientId:this.ir,onlineState:e};this.storage.setItem(this.mr,JSON.stringify(t))}},{key:"br",value:function(e,t,n){var r=nE(this.persistenceKey,e),i=new iE(e,t,n);this.setItem(r,i.er())}},{key:"Vr",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.gr,t)}},{key:"vr",value:function(e){var t=this.dr.exec(e);return t?t[1]:null}},{key:"Dr",value:function(e,t){var n=this.vr(e);return aE.tr(n,t)}},{key:"Cr",value:function(e,t){var n=this._r.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return rE.tr(new ly(i),r,t)}},{key:"kr",value:function(e,t){var n=this.wr.exec(e),r=Number(n[1]);return iE.tr(r,t)}},{key:"pr",value:function(e){return oE.tr(e)}},{key:"Or",value:function(e){return JSON.parse(e)}},{key:"Nr",value:function(){var e=ci(fi().mark((function e(t){return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.$r(t.batchId,t.state,t.error));case 2:py("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Mr",value:function(e){return this.syncEngine.Br(e.targetId,e.state,e.error)}},{key:"Sr",value:function(e,t){var n=this,r=t?this.ar.insert(e,t):this.ar.remove(e),i=this.Tr(this.ar),a=this.Tr(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Lr(o,u).then((function(){n.ar=r}))}},{key:"Ir",value:function(e){this.ar.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Tr",value:function(e){var t=Eb();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"vt",value:function(e){return!(!e||!e.localStorage)}}]),e}(),cE=function(){function e(){Pt(this,e),this.Ur=new uE,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return Ot(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Ur.nr(e),this.qr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.qr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Ur.sr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Ur.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.qr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Ur.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Ur.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Ur=new uE,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),lE=function(){function e(){Pt(this,e)}return Ot(e,[{key:"Kr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),fE=function(){function e(){var t=this;Pt(this,e),this.Gr=function(){return t.Qr()},this.jr=function(){return t.Wr()},this.zr=[],this.Hr()}return Ot(e,[{key:"Kr",value:function(e){this.zr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Gr),window.removeEventListener("offline",this.jr)}},{key:"Hr",value:function(){window.addEventListener("online",this.Gr),window.addEventListener("offline",this.jr)}},{key:"Qr",value:function(){py("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=Dr(this.zr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Wr",value:function(){py("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=Dr(this.zr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"vt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),hE={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},dE=function(){function e(t){Pt(this,e),this.Jr=t.Jr,this.Yr=t.Yr}return Ot(e,[{key:"Xr",value:function(e){this.Zr=e}},{key:"eo",value:function(e){this.no=e}},{key:"onMessage",value:function(e){this.so=e}},{key:"close",value:function(){this.Yr()}},{key:"send",value:function(e){this.Jr(e)}},{key:"io",value:function(){this.Zr()}},{key:"ro",value:function(e){this.no(e)}},{key:"oo",value:function(e){this.so(e)}}]),e}(),pE=function(e){_n(n,e);var t=Cn(n);function n(e){var r;return Pt(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return Ot(n,[{key:"fo",value:function(e,t,n,r){return new Promise((function(i,a){var o=new sy;o.listenOnce(ry.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case ny.NO_ERROR:var t=o.getResponseJson();py("Connection","XHR received:",JSON.stringify(t)),i(t);break;case ny.TIMEOUT:py("Connection",'RPC "'+e+'" timed out'),a(new xy(wy.DEADLINE_EXCEEDED,"Request time out"));break;case ny.HTTP_ERROR:var n=o.getStatus();if(py("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(wy).indexOf(t)>=0?t:wy.UNKNOWN}(r.status);a(new xy(u,r.message))}else a(new xy(wy.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new xy(wy.UNAVAILABLE,"Connection failed."));break;default:gy()}}finally{py("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"wo",value:function(e,t,n){var r=[this.uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=ey(),a=ty(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new oy({})),this.lo(o.initMessageHeaders,t,n),zr()||Wr()||Br().indexOf("Electron/")>=0||Gr()||Br().indexOf("MSAppHost/")>=0||Kr()||(o.httpHeadersOverwriteParam="$httpHeaders");var u=r.join("");py("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new dE({Jr:function(e){l?py("Connection","Not sending because WebChannel is closed:",e):(c||(py("Connection","Opening WebChannel transport."),s.open(),c=!0),py("Connection","WebChannel sending:",e),s.send(e))},Yr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,uy.EventType.OPEN,(function(){l||py("Connection","WebChannel transport opened.")})),h(s,uy.EventType.CLOSE,(function(){l||(l=!0,py("Connection","WebChannel transport closed"),f.ro())})),h(s,uy.EventType.ERROR,(function(e){l||(l=!0,my("Connection","WebChannel transport errored:",e),f.ro(new xy(wy.UNAVAILABLE,"The operation could not be completed")))})),h(s,uy.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];ky(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){py("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=ub[e];if(void 0!==t)return db(t)}(a),u=i.message;void 0===o&&(o=wy.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.ro(new xy(o,u)),s.close()}else py("Connection","WebChannel received:",n),f.oo(n)}})),h(a,iy.STAT_EVENT,(function(e){e.stat===ay.PROXY?py("Connection","Detected buffering proxy"):e.stat===ay.NOPROXY&&py("Connection","Detected no buffering proxy")})),setTimeout((function(){f.io()}),0),f}}]),n}(function(){function e(t){Pt(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.uo=n+"://"+t.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return Ot(e,[{key:"co",value:function(e,t,n,r,i){var a=this.ho(e,t);py("RestConnection","Sending: ",a,n);var o={};return this.lo(o,r,i),this.fo(e,a,o,n).then((function(e){return py("RestConnection","Received: ",e),e}),(function(t){throw my("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"_o",value:function(e,t,n,r,i){return this.co(e,t,n,r,i)}},{key:"lo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+fy,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"ho",value:function(e,t){var n=hE[e];return"".concat(this.uo,"/v1/").concat(t,":").concat(n)}}]),e}());function vE(){return"undefined"!=typeof window?window:null}function mE(){return"undefined"!=typeof document?document:null}function yE(e){return new Mb(e,!0)}var gE=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;Pt(this,e),this.Yn=t,this.timerId=n,this.mo=r,this.yo=i,this.po=a,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}return Ot(e,[{key:"reset",value:function(){this.Io=0}},{key:"Ao",value:function(){this.Io=this.po}},{key:"Ro",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&py("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Io," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.To=this.Yn.enqueueAfterDelay(this.timerId,i,(function(){return t.Eo=Date.now(),e()})),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}},{key:"Po",value:function(){null!==this.To&&(this.To.skipDelay(),this.To=null)}},{key:"cancel",value:function(){null!==this.To&&(this.To.cancel(),this.To=null)}},{key:"bo",value:function(){return(Math.random()-.5)*this.Io}}]),e}(),kE=function(){function e(t,n,r,i,a,o,u,s){Pt(this,e),this.Yn=t,this.Vo=r,this.vo=i,this.So=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new gE(t,n)}return Ot(e,[{key:"ko",value:function(){return 1===this.state||5===this.state||this.Mo()}},{key:"Mo",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Oo()}},{key:"stop",value:function(){var e=ci(fi().mark((function e(){return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.ko(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Fo",value:function(){this.state=0,this.No.reset()}},{key:"$o",value:function(){var e=this;this.Mo()&&null===this.Co&&(this.Co=this.Yn.enqueueAfterDelay(this.Vo,6e4,(function(){return e.Bo()})))}},{key:"Lo",value:function(e){this.Uo(),this.stream.send(e)}},{key:"Bo",value:function(){var e=ci(fi().mark((function e(){return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Mo()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Uo",value:function(){this.Co&&(this.Co.cancel(),this.Co=null)}},{key:"qo",value:function(){this.xo&&(this.xo.cancel(),this.xo=null)}},{key:"close",value:function(){var e=ci(fi().mark((function e(t,n){return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Uo(),this.qo(),this.No.cancel(),this.Do++,4!==t?this.No.reset():n&&n.code===wy.RESOURCE_EXHAUSTED?(vy(n.toString()),vy("Using maximum backoff delay to prevent overloading the backend."),this.No.Ao()):n&&n.code===wy.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Ko(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.eo(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Ko",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Go(this.Do),n=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=u(t,2),i=r[0],a=r[1];e.Do===n&&e.Qo(i,a)}),(function(n){t((function(){var t=new xy(wy.UNKNOWN,"Fetching auth token failed: "+n.message);return e.jo(t)}))}))}},{key:"Qo",value:function(e,t){var n=this,r=this.Go(this.Do);this.stream=this.Wo(e,t),this.stream.Xr((function(){r((function(){return n.state=2,n.xo=n.Yn.enqueueAfterDelay(n.vo,1e4,(function(){return n.Mo()&&(n.state=3),Promise.resolve()})),n.listener.Xr()}))})),this.stream.eo((function(e){r((function(){return n.jo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Oo",value:function(){var e=this;this.state=5,this.No.Ro(ci(fi().mark((function t(){return fi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"jo",value:function(e){return py("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Go",value:function(e){var t=this;return function(n){t.Yn.enqueueAndForget((function(){return t.Do===e?n():(py("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),bE=function(e){_n(n,e);var t=Cn(n);function n(e,r,i,a,o,u){var s;return Pt(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).M=o,s}return Ot(n,[{key:"Wo",value:function(e,t){return this.So.wo("Listen",e,t)}},{key:"onMessage",value:function(e){this.No.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:gy()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.N?(ky(void 0===t||"string"==typeof t),Qy.fromBase64String(t||"")):(ky(void 0===t||t instanceof Uint8Array),Qy.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?wy.UNKNOWN:db(e.code);return new xy(t,e.message||"")}(o);n=new Nb(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=Kb(e,s.document.name),l=Vb(s.document.updateTime),f=new Ng({mapValue:{fields:s.document.fields}}),h=Dg.newFoundDocument(c,l,f),d=s.targetIds||[],p=s.removedTargetIds||[];n=new Tb(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=Kb(e,v.document),y=v.readTime?Vb(v.readTime):Uy.min(),g=Dg.newNoDocument(m,y),k=v.removedTargetIds||[];n=new Tb([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=Kb(e,b.document),x=b.removedTargetIds||[];n=new Tb([],x,w,null)}else{if(!("filter"in t))return gy();t.filter;var _=t.filter;_.targetId;var E=_.count||0,I=new fb(E),S=_.targetId;n=new Cb(S,I)}return n}(this.M,e),n=function(e){if(!("targetChange"in e))return Uy.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Uy.min():t.readTime?Vb(t.readTime):Uy.min()}(e);return this.listener.zo(t,n)}},{key:"Ho",value:function(e){var t={};t.database=Hb(this.M),t.addTarget=function(e,t){var n,r=t.target;return(n=Xg(r)?{documents:ew(e,r)}:{query:tw(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=jb(e,t.resumeToken):t.snapshotVersion.compareTo(Uy.min())>0&&(n.readTime=Fb(e,t.snapshotVersion.toTimestamp())),n}(this.M,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return gy()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.M,e);n&&(t.labels=n),this.Lo(t)}},{key:"Jo",value:function(e){var t={};t.database=Hb(this.M),t.removeTarget=e,this.Lo(t)}}]),n}(kE),wE=function(e){_n(n,e);var t=Cn(n);function n(e,r,i,a,o,u){var s;return Pt(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).M=o,s.Yo=!1,s}return Ot(n,[{key:"Xo",get:function(){return this.Yo}},{key:"start",value:function(){this.Yo=!1,this.lastStreamToken=void 0,xn(bn(n.prototype),"start",this).call(this)}},{key:"Ko",value:function(){this.Yo&&this.Zo([])}},{key:"Wo",value:function(e,t){return this.So.wo("Write",e,t)}},{key:"onMessage",value:function(e){if(ky(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();var t=function(e,t){return e&&e.length>0?(ky(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Vb(e.updateTime):Vb(t);return n.isEqual(Uy.min())&&(n=Vb(t)),new Hk(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Vb(e.commitTime);return this.listener.tu(n,t)}return ky(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}},{key:"nu",value:function(){var e={};e.database=Hb(this.M),this.Lo(e)}},{key:"Zo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Jb(t.M,e)}))};this.Lo(n)}}]),n}(kE),xE=function(e){_n(n,e);var t=Cn(n);function n(e,r,i,a){var o;return Pt(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.So=i,o.M=a,o.su=!1,o}return Ot(n,[{key:"iu",value:function(){if(this.su)throw new xy(wy.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"co",value:function(e,t,n){var r=this;return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=u(i,2),o=a[0],s=a[1];return r.So.co(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===wy.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new xy(wy.UNKNOWN,e.toString())}))}},{key:"_o",value:function(e,t,n){var r=this;return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=u(i,2),o=a[0],s=a[1];return r.So._o(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===wy.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new xy(wy.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.su=!0}}]),n}(function(){return Ot((function e(){Pt(this,e)}))}()),_E=function(){function e(t,n){Pt(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}return Ot(e,[{key:"au",value:function(){var e=this;0===this.ru&&(this.cu("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.ou=null,e.hu("Backend didn't respond within 10 seconds."),e.cu("Offline"),Promise.resolve()})))}},{key:"lu",value:function(e){"Online"===this.state?this.cu("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.cu("Offline")))}},{key:"set",value:function(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.cu(e)}},{key:"cu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"hu",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.uu?(vy(t),this.uu=!1):py("OnlineStateTracker",t)}},{key:"fu",value:function(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}]),e}(),EE=Ot((function e(t,n,r,i,a){var o=this;Pt(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=a,this.gu.Kr((function(e){r.enqueueAndForget(ci(fi().mark((function e(){return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=LE(o),!e.t0){e.next=5;break}return py("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=ci(fi().mark((function e(t){var n;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=by(t)).wu.add(4),e.next=4,TE(n);case 4:return n.yu.set("Unknown"),n.wu.delete(4),e.next=8,IE(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.yu=new _E(r,i)}));function IE(e){return SE.apply(this,arguments)}function SE(){return SE=ci(fi().mark((function e(t){var n,r,i;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!LE(t)){e.next=18;break}n=Dr(t.mu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),SE.apply(this,arguments)}function TE(e){return CE.apply(this,arguments)}function CE(){return CE=ci(fi().mark((function e(t){var n,r,i;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Dr(t.mu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),CE.apply(this,arguments)}function NE(e,t){var n=by(e);n._u.has(t.targetId)||(n._u.set(t.targetId,t),OE(n)?RE(n):lI(n).Mo()&&DE(n,t))}function AE(e,t){var n=by(e),r=lI(n);n._u.delete(t),r.Mo()&&PE(n,t),0===n._u.size&&(r.Mo()?r.$o():LE(n)&&n.yu.set("Unknown"))}function DE(e,t){e.pu.Z(t.targetId),lI(e).Ho(t)}function PE(e,t){e.pu.Z(t),lI(e).Jo(t)}function RE(e){e.pu=new Db({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Et:function(t){return e._u.get(t)||null}}),lI(e).start(),e.yu.au()}function OE(e){return LE(e)&&!lI(e).ko()&&e._u.size>0}function LE(e){return 0===by(e).wu.size}function ME(e){e.pu=void 0}function FE(e){return jE.apply(this,arguments)}function jE(){return jE=ci(fi().mark((function e(t){return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t._u.forEach((function(e,n){DE(t,e)}));case 1:case"end":return e.stop()}}),e)}))),jE.apply(this,arguments)}function UE(e,t){return VE.apply(this,arguments)}function VE(){return VE=ci(fi().mark((function e(t,n){return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ME(t),OE(t)?(t.yu.lu(n),RE(t)):t.yu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),VE.apply(this,arguments)}function BE(e,t,n){return zE.apply(this,arguments)}function zE(){return zE=ci(fi().mark((function e(t,n,r){var i;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.yu.set("Online"),!(n instanceof Nb&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=ci(fi().mark((function e(t,n){var r,i,a,o;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=Dr(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t._u.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t._u.delete(o),t.pu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),py("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,qE(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Tb?t.pu.ut(n):n instanceof Cb?t.pu._t(n):t.pu.ht(n),r.isEqual(Uy.min())){e.next=29;break}return e.prev=14,e.next=17,C_(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.pu.yt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e._u.get(r);i&&e._u.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e._u.get(t);if(n){e._u.set(t,n.withResumeToken(Qy.EMPTY_BYTE_STRING,n.snapshotVersion)),PE(e,t);var r=new tx(n.target,t,1,n.sequenceNumber);DE(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),py("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,qE(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),zE.apply(this,arguments)}function qE(e,t,n){return KE.apply(this,arguments)}function KE(){return KE=ci(fi().mark((function e(t,n,r){return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ww(n)){e.next=2;break}throw n;case 2:return t.wu.add(1),e.next=5,TE(t);case 5:t.yu.set("Offline"),r||(r=function(){return C_(t.localStore)}),t.asyncQueue.enqueueRetryable(ci(fi().mark((function e(){return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return py("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.wu.delete(1),e.next=6,IE(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),KE.apply(this,arguments)}function WE(e,t){return t().catch((function(n){return qE(e,n,t)}))}function GE(e){return HE.apply(this,arguments)}function HE(){return HE=ci(fi().mark((function e(t){var n,r,i,a;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=by(t),r=fI(n),i=n.du.length>0?n.du[n.du.length-1].batchId:-1;case 2:if(!QE(n)){e.next=19;break}return e.prev=3,e.next=6,D_(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.du.length&&r.$o(),e.abrupt("break",19);case 10:i=a.batchId,YE(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,qE(n,e.t0);case 17:e.next=2;break;case 19:$E(n)&&XE(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),HE.apply(this,arguments)}function QE(e){return LE(e)&&e.du.length<10}function YE(e,t){e.du.push(t);var n=fI(e);n.Mo()&&n.Xo&&n.Zo(t.mutations)}function $E(e){return LE(e)&&!fI(e).ko()&&e.du.length>0}function XE(e){fI(e).start()}function JE(e){return ZE.apply(this,arguments)}function ZE(){return ZE=ci(fi().mark((function e(t){return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fI(t).nu();case 1:case"end":return e.stop()}}),e)}))),ZE.apply(this,arguments)}function eI(e){return tI.apply(this,arguments)}function tI(){return tI=ci(fi().mark((function e(t){var n,r,i,a;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=fI(t),r=Dr(t.du);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Zo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),tI.apply(this,arguments)}function nI(e,t,n){return rI.apply(this,arguments)}function rI(){return rI=ci(fi().mark((function e(t,n,r){var i,a;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.du.shift(),a=Zw.from(i,n,r),e.next=3,WE(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,GE(t);case 5:case"end":return e.stop()}}),e)}))),rI.apply(this,arguments)}function iI(e,t){return aI.apply(this,arguments)}function aI(){return aI=ci(fi().mark((function e(t,n){return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&fI(t).Xo,!e.t0){e.next=4;break}return e.next=4,function(){var e=ci(fi().mark((function e(t,n){var r,i;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!hb(i=n.code)||i===wy.ABORTED){e.next=7;break}return r=t.du.shift(),fI(t).Fo(),e.next=5,WE(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,GE(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:$E(t)&&XE(t);case 5:case"end":return e.stop()}}),e)}))),aI.apply(this,arguments)}function oI(e,t){return uI.apply(this,arguments)}function uI(){return uI=ci(fi().mark((function e(t,n){var r,i;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=by(t)).asyncQueue.verifyOperationInProgress(),py("RemoteStore","RemoteStore received new credentials"),i=LE(r),r.wu.add(3),e.next=6,TE(r);case 6:return i&&r.yu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.wu.delete(3),e.next=12,IE(r);case 12:case"end":return e.stop()}}),e)}))),uI.apply(this,arguments)}function sI(e,t){return cI.apply(this,arguments)}function cI(){return cI=ci(fi().mark((function e(t,n){var r;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=by(t),!n){e.next=7;break}return r.wu.delete(2),e.next=5,IE(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.wu.add(2),e.next=12,TE(r);case 12:r.yu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),cI.apply(this,arguments)}function lI(e){return e.Iu||(e.Iu=function(e,t,n){var r=by(e);return r.iu(),new bE(t,r.So,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{Xr:FE.bind(null,e),eo:UE.bind(null,e),zo:BE.bind(null,e)}),e.mu.push(function(){var t=ci(fi().mark((function t(n){return fi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Iu.Fo(),OE(e)?RE(e):e.yu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Iu.stop();case 6:ME(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Iu}function fI(e){return e.Tu||(e.Tu=function(e,t,n){var r=by(e);return r.iu(),new wE(t,r.So,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{Xr:JE.bind(null,e),eo:iI.bind(null,e),eu:eI.bind(null,e),tu:nI.bind(null,e)}),e.mu.push(function(){var t=ci(fi().mark((function t(n){return fi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Tu.Fo(),t.next=4,GE(e);case 4:t.next=9;break;case 6:return t.next=8,e.Tu.stop();case 8:e.du.length>0&&(py("RemoteStore","Stopping write stream with ".concat(e.du.length," pending writes")),e.du=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Tu}var hI=function(){function e(t,n,r,i,a){Pt(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new _y,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return Ot(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new xy(wy.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function dI(e,t){if(vy("AsyncQueue","".concat(t,": ").concat(e)),Ww(e))return new xy(wy.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var pI=function(){function e(t){Pt(this,e),this.comparator=t?function(e,n){return t(e,n)||ug.comparator(e.key,n.key)}:function(e,t){return ug.comparator(e.key,t.key)},this.keyedMap=gb(),this.sortedSet=new Bg(this.comparator)}return Ot(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),vI=function(){function e(){Pt(this,e),this.Eu=new Bg(ug.comparator)}return Ot(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Eu.get(t);n?0!==e.type&&3===n.type?this.Eu=this.Eu.insert(t,e):3===e.type&&1!==n.type?this.Eu=this.Eu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Eu=this.Eu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Eu=this.Eu.remove(t):1===e.type&&2===n.type?this.Eu=this.Eu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):gy():this.Eu=this.Eu.insert(t,e)}},{key:"Au",value:function(){var e=[];return this.Eu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),mI=function(){function e(t,n,r,i,a,o,u,s){Pt(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s}return Ot(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ek(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,pI.emptySet(n),a,r,i,!0,!1)}}]),e}(),yI=Ot((function e(){Pt(this,e),this.Ru=void 0,this.listeners=[]})),gI=Ot((function e(){Pt(this,e),this.queries=new pb((function(e){return Ik(e)}),Ek),this.onlineState="Unknown",this.bu=new Set}));function kI(e,t){return bI.apply(this,arguments)}function bI(){return bI=ci(fi().mark((function e(t,n){var r,i,a,o,u;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=by(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new yI),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Ru=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=dI(e.t0,"Initialization of query '".concat(Sk(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.Pu(r.onlineState),o.Ru&&n.Vu(o.Ru)&&II(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),bI.apply(this,arguments)}function wI(e,t){return xI.apply(this,arguments)}function xI(){return xI=ci(fi().mark((function e(t,n){var r,i,a,o,u;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=by(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),xI.apply(this,arguments)}function _I(e,t){var n,r=by(e),i=!1,a=Dr(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=Dr(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Vu(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Ru=o}}}catch(f){a.e(f)}finally{a.f()}i&&II(r)}function EI(e,t,n){var r=by(e),i=r.queries.get(t);if(i){var a,o=Dr(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function II(e){e.bu.forEach((function(e){e.next()}))}var SI=function(){function e(t,n,r){Pt(this,e),this.query=t,this.vu=n,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=r||{}}return Ot(e,[{key:"Vu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=Dr(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new mI(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.Su?this.Cu(e)&&(this.vu.next(e),a=!0):this.xu(e,this.onlineState)&&(this.Nu(e),a=!0),this.Du=e,a}},{key:"onError",value:function(e){this.vu.error(e)}},{key:"Pu",value:function(e){this.onlineState=e;var t=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),t=!0),t}},{key:"xu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.ku||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"Cu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Nu",value:function(e){e=mI.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Su=!0,this.vu.next(e)}}]),e}(),TI=function(){function e(t,n){Pt(this,e),this.payload=t,this.byteLength=n}return Ot(e,[{key:"Mu",value:function(){return"metadata"in this.payload}}]),e}(),CI=function(){function e(t){Pt(this,e),this.M=t}return Ot(e,[{key:"wi",value:function(e){return Kb(this.M,e)}},{key:"mi",value:function(e){return e.metadata.exists?$b(this.M,e.document,!1):Dg.newNoDocument(this.wi(e.metadata.name),this.gi(e.metadata.readTime))}},{key:"gi",value:function(e){return Vb(e)}}]),e}(),NI=function(){function e(t,n,r){Pt(this,e),this.Ou=t,this.localStore=n,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=AI(t)}return Ot(e,[{key:"Fu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;var n=Ky.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"$u",value:function(e){var t,n=new Map,r=new CI(this.M),i=Dr(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.wi(a.metadata.name),s=Dr(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||xb()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=ci(fi().mark((function e(){var t,n,r,i,a;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U_(this.localStore,new CI(this.M),this.documents,this.Ou.id);case 2:t=e.sent,n=this.$u(this.documents),r=Dr(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,B_(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Bu:this.collectionGroups,Lu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function AI(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var DI=Ot((function e(t){Pt(this,e),this.key=t})),PI=Ot((function e(t){Pt(this,e),this.key=t})),RI=function(){function e(t,n){Pt(this,e),this.query=t,this.Uu=n,this.qu=null,this.current=!1,this.Ku=xb(),this.mutatedKeys=xb(),this.Gu=Nk(t),this.Qu=new pI(this.Gu)}return Ot(e,[{key:"ju",get:function(){return this.Uu}},{key:"Wu",value:function(e,t){var n=this,r=t?t.zu:new vI,i=t?t.Qu:this.Qu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Tk(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Hu(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Gu(f,s)>0||c&&n.Gu(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Qu:o,zu:r,ii:u,mutatedKeys:a}}},{key:"Hu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;var a=e.zu.Au();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gy()}};return n(e)-n(t)}(e.type,t.type)||r.Gu(e.doc,t.doc)})),this.Ju(n);var o=t?this.Yu():[],u=0===this.Ku.size&&this.current?1:0,s=u!==this.qu;return this.qu=u,0!==a.length||s?{snapshot:new mI(this.query,e.Qu,i,a,e.mutatedKeys,0===u,s,!1),Xu:o}:{Xu:o}}},{key:"Pu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new vI,mutatedKeys:this.mutatedKeys,ii:!1},!1)):{Xu:[]}}},{key:"Zu",value:function(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}},{key:"Ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Uu=t.Uu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Uu=t.Uu.delete(e)})),this.current=e.current)}},{key:"Yu",value:function(){var e=this;if(!this.current)return[];var t=this.Ku;this.Ku=xb(),this.Qu.forEach((function(t){e.Zu(t.key)&&(e.Ku=e.Ku.add(t.key))}));var n=[];return t.forEach((function(t){e.Ku.has(t)||n.push(new PI(t))})),this.Ku.forEach((function(e){t.has(e)||n.push(new DI(e))})),n}},{key:"ta",value:function(e){this.Uu=e._i,this.Ku=xb();var t=this.Wu(e.documents);return this.applyChanges(t,!0)}},{key:"ea",value:function(){return mI.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu)}}]),e}(),OI=Ot((function e(t,n,r){Pt(this,e),this.query=t,this.targetId=n,this.view=r})),LI=Ot((function e(t){Pt(this,e),this.key=t,this.na=!1})),MI=function(){function e(t,n,r,i,a,o){Pt(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.sa={},this.ia=new pb((function(e){return Ik(e)}),Ek),this.ra=new Map,this.oa=new Set,this.ua=new Bg(ug.comparator),this.aa=new Map,this.ca=new W_,this.ha={},this.la=new Map,this.fa=Gx.yn(),this.onlineState="Unknown",this.da=void 0}return Ot(e,[{key:"isPrimaryClient",get:function(){return!0===this.da}}]),e}();function FI(e,t){return jI.apply(this,arguments)}function jI(){return jI=ci(fi().mark((function e(t,n){var r,i,a,o,u,s;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=AS(t),!(o=r.ia.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.ea(),e.next=15;break;case 6:return e.next=8,P_(r.localStore,xk(n));case 8:return u=e.sent,r.isPrimaryClient&&NE(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,UI(r,n,i,"current"===s);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),jI.apply(this,arguments)}function UI(e,t,n,r){return VI.apply(this,arguments)}function VI(){return VI=ci(fi().mark((function e(t,n,r,i){var a,o,u,s,c,l;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._a=function(e,n,r){return function(){var e=ci(fi().mark((function e(t,n,r,i){var a,o,u;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Wu(r),e.t0=a.ii,!e.t0){e.next=6;break}return e.next=5,L_(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Wu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(oS(t,n.targetId,u.Xu),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,L_(t.localStore,n,!0);case 3:return a=e.sent,o=new RI(n,a._i),u=o.Wu(a.documents),s=Sb.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(u,t.isPrimaryClient,s),oS(t,r,c.Xu),l=new OI(n,r,o),e.abrupt("return",(t.ia.set(n,l),t.ra.has(r)?t.ra.get(r).push(n):t.ra.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),VI.apply(this,arguments)}function BI(e,t){return zI.apply(this,arguments)}function zI(){return zI=ci(fi().mark((function e(t,n){var r,i,a;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=by(t),i=r.ia.get(n),!((a=r.ra.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.ra.set(i.targetId,a.filter((function(e){return!Ek(e,n)}))),void r.ia.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,R_(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),AE(r.remoteStore,i.targetId),iS(r,i.targetId)})).catch(Xx);case 9:e.next=14;break;case 11:return iS(r,i.targetId),e.next=14,R_(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),zI.apply(this,arguments)}function qI(e,t,n){return KI.apply(this,arguments)}function KI(){return KI=ci(fi().mark((function e(t,n,r){var i,a,o;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=DS(t),e.prev=1,e.next=4,function(e,t){var n,r=by(e),i=jy.now(),a=t.reduce((function(e,t){return e.add(t.key)}),xb());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.fi.Ks(e,a).next((function(a){n=a;var o,u=[],s=Dr(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=Zk(c,n.get(c.key));null!=l&&u.push(new rb(c.key,l,Ag(l.value.mapValue),Qk.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return r.Bs.addMutationBatch(e,i,u,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.ha[e.currentUser.toKey()];r||(r=new Bg(Ly)),r=r.insert(t,n),e.ha[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,cS(i,a.changes);case 9:return e.next=11,GE(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=dI(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),KI.apply(this,arguments)}function WI(e,t){return GI.apply(this,arguments)}function GI(){return GI=ci(fi().mark((function e(t,n){var r,i;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=by(t),e.prev=1,e.next=4,N_(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.aa.get(t);n&&(ky(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.na=!0:e.modifiedDocuments.size>0?ky(n.na):e.removedDocuments.size>0&&(ky(n.na),n.na=!1))})),e.next=8,cS(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Xx(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),GI.apply(this,arguments)}function HI(e,t,n){var r=by(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ia.forEach((function(e,n){var r=n.view.Pu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=by(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=Dr(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Pu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&II(n)}(r.eventManager,t),i.length&&r.sa.zo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function QI(e,t,n){return YI.apply(this,arguments)}function YI(){return YI=ci(fi().mark((function e(t,n,r){var i,a,o,u,s,c;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=by(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.aa.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new Bg(ug.comparator)).insert(o,Dg.newNoDocument(o,Uy.min())),s=xb().add(o),c=new Ib(Uy.min(),new Map,new Kg(Ly),u,s),e.next=9,WI(i,c);case 9:i.ua=i.ua.remove(o),i.aa.delete(n),sS(i),e.next=16;break;case 14:return e.next=16,R_(i.localStore,n,!1).then((function(){return iS(i,n,r)})).catch(Xx);case 16:case"end":return e.stop()}}),e)}))),YI.apply(this,arguments)}function $I(e,t){return XI.apply(this,arguments)}function XI(){return XI=ci(fi().mark((function e(t,n){var r,i,a;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=by(t),i=n.batch.batchId,e.prev=1,e.next=4,T_(r.localStore,n);case 4:return a=e.sent,rS(r,i,null),nS(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,cS(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Xx(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),XI.apply(this,arguments)}function JI(e,t,n){return ZI.apply(this,arguments)}function ZI(){return ZI=ci(fi().mark((function e(t,n,r){var i,a;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=by(t),e.prev=1,e.next=4,function(e,t){var n=by(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.Bs.lookupMutationBatch(e,t).next((function(t){return ky(null!==t),r=t.keys(),n.Bs.removeMutationBatch(e,t)})).next((function(){return n.Bs.performConsistencyCheck(e)})).next((function(){return n.fi.Ks(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,rS(i,n,r),nS(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,cS(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Xx(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),ZI.apply(this,arguments)}function eS(e,t){return tS.apply(this,arguments)}function tS(){return tS=ci(fi().mark((function e(t,n){var r,i,a,o;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return LE((r=by(t)).remoteStore)||py("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=by(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.Bs.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.la.get(i)||[]).push(n),r.la.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=dI(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),tS.apply(this,arguments)}function nS(e,t){(e.la.get(t)||[]).forEach((function(e){e.resolve()})),e.la.delete(t)}function rS(e,t,n){var r=by(e),i=r.ha[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.ha[r.currentUser.toKey()]=i}}function iS(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=Dr(e.ra.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ia.delete(a),n&&e.sa.wa(a,n)}}catch(o){i.e(o)}finally{i.f()}e.ra.delete(t),e.isPrimaryClient&&e.ca.vi(t).forEach((function(t){e.ca.containsKey(t)||aS(e,t)}))}function aS(e,t){e.oa.delete(t.path.canonicalString());var n=e.ua.get(t);null!==n&&(AE(e.remoteStore,n),e.ua=e.ua.remove(t),e.aa.delete(n),sS(e))}function oS(e,t,n){var r,i=Dr(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof DI?(e.ca.addReference(a.key,t),uS(e,a)):a instanceof PI?(py("SyncEngine","Document no longer in limbo: "+a.key),e.ca.removeReference(a.key,t),e.ca.containsKey(a.key)||aS(e,a.key)):gy()}}catch(o){i.e(o)}finally{i.f()}}function uS(e,t){var n=t.key,r=n.path.canonicalString();e.ua.get(n)||e.oa.has(r)||(py("SyncEngine","New document in limbo: "+n),e.oa.add(r),sS(e))}function sS(e){for(;e.oa.size>0&&e.ua.size<e.maxConcurrentLimboResolutions;){var t=e.oa.values().next().value;e.oa.delete(t);var n=new ug(Ky.fromString(t)),r=e.fa.next();e.aa.set(r,new LI(n)),e.ua=e.ua.insert(n,r),NE(e.remoteStore,new tx(xk(yk(n.path)),r,2,Py.A))}}function cS(e,t,n){return lS.apply(this,arguments)}function lS(){return lS=ci(fi().mark((function e(t,n,r){var i,a,o,u;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=by(t),a=[],o=[],u=[],e.t0=i.ia.isEmpty(),e.t0){e.next=9;break}return i.ia.forEach((function(e,t){u.push(i._a(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=w_.Ys(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.sa.zo(a),e.next=9,function(){var e=ci(fi().mark((function e(t,n){var r,i,a,o,u,s,c,l;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=by(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Vw.forEach(n,(function(t){return Vw.forEach(t.Hs,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Vw.forEach(t.Js,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Ww(e.t0)){e.next=10;break}throw e.t0;case 10:py("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=Dr(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.ui.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.ui=r.ui.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),lS.apply(this,arguments)}function fS(e,t){return hS.apply(this,arguments)}function hS(){return hS=ci(fi().mark((function e(t,n){var r,i;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=by(t)).currentUser.isEqual(n)){e.next=11;break}return py("SyncEngine","User change. New user:",n.toKey()),e.next=5,I_(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.la.forEach((function(e){e.forEach((function(e){e.reject(new xy(wy.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.la.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,cS(r,i.di);case 11:case"end":return e.stop()}}),e)}))),hS.apply(this,arguments)}function dS(e,t){var n=by(e),r=n.aa.get(t);if(r&&r.na)return xb().add(r.key);var i=xb(),a=n.ra.get(t);if(!a)return i;var o,u=Dr(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.ia.get(s);i=i.unionWith(c.view.ju)}}catch(l){u.e(l)}finally{u.f()}return i}function pS(e,t){return vS.apply(this,arguments)}function vS(){return vS=ci(fi().mark((function e(t,n){var r,i,a;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=by(t),e.next=3,L_(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.ta(i),e.abrupt("return",(r.isPrimaryClient&&oS(r,n.targetId,a.Xu),a));case 6:case"end":return e.stop()}}),e)}))),vS.apply(this,arguments)}function mS(e,t){return yS.apply(this,arguments)}function yS(){return yS=ci(fi().mark((function e(t,n){var r;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=by(t),e.abrupt("return",F_(r.localStore,n).then((function(e){return cS(r,e)})));case 2:case"end":return e.stop()}}),e)}))),yS.apply(this,arguments)}function gS(e,t,n,r){return kS.apply(this,arguments)}function kS(){return kS=ci(fi().mark((function e(t,n,r,i){var a,o;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=by(t),e.next=3,function(e,t){var n=by(e),r=by(n.Bs);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.fn(e,t).next((function(t){return t?n.fi.Ks(e,t):Vw.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,GE(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(rS(a,n,i||null),nS(a,n),function(e,t){by(by(e).Bs)._n(t)}(a.localStore,n)):gy();case 11:return e.next=13,cS(a,o);case 13:e.next=16;break;case 15:py("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),kS.apply(this,arguments)}function bS(e,t){return wS.apply(this,arguments)}function wS(){return wS=ci(fi().mark((function e(t,n){var r,i,a,o,u,s,c,l;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(AS(r=by(t)),DS(r),!0!==n||!0===r.da){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,xS(r,i.toArray());case 5:return a=e.sent,r.da=!0,e.next=9,sI(r.remoteStore,!0);case 9:o=Dr(a);try{for(o.s();!(u=o.n()).done;)s=u.value,NE(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.da){e.next=25;break}return c=[],l=Promise.resolve(),r.ra.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return iS(r,t),R_(r.localStore,t,!0)})),AE(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,xS(r,c);case 21:return function(e){var t=by(e);t.aa.forEach((function(e,n){AE(t.remoteStore,n)})),t.ca.Si(),t.aa=new Map,t.ua=new Bg(ug.comparator)}(r),r.da=!1,e.next=25,sI(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),wS.apply(this,arguments)}function xS(e,t,n){return _S.apply(this,arguments)}function _S(){return _S=ci(fi().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,m,y;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=by(t),a=[],o=[],u=Dr(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.ra.get(c))||0===f.length){e.next=34;break}return e.next=11,P_(i.localStore,xk(f[0]));case 11:l=e.sent,h=Dr(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.ia.get(p),e.next=20,pS(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,M_(i.localStore,c);case 36:return y=e.sent,e.next=39,P_(i.localStore,y);case 39:return l=e.sent,e.next=42,UI(i,ES(y),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.sa.zo(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),_S.apply(this,arguments)}function ES(e){return mk(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function IS(e){var t=by(e);return by(by(t.localStore).persistence).Fs()}function SS(e,t,n,r){return TS.apply(this,arguments)}function TS(){return TS=ci(fi().mark((function e(t,n,r,i){var a,o,u,s;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=by(t)).da){e.next=3;break}return e.abrupt("return",void py("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.ra.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,F_(a.localStore,Ck(o[0]));case 10:return u=e.sent,s=Ib.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=14,cS(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,R_(a.localStore,n,!0);case 17:return iS(a,n,i),e.abrupt("break",20);case 19:gy();case 20:case"end":return e.stop()}}),e)}))),TS.apply(this,arguments)}function CS(e,t,n){return NS.apply(this,arguments)}function NS(){return NS=ci(fi().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=AS(t)).da){e.next=45;break}a=Dr(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.ra.has(u)){e.next=10;break}return py("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,M_(i.localStore,u);case 12:return s=e.sent,e.next=15,P_(i.localStore,s);case 15:return c=e.sent,e.next=18,UI(i,ES(s),c.targetId,!1);case 18:NE(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=Dr(r),e.prev=30,h=fi().mark((function e(){var t;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.ra.has(t),!e.t0){e.next=5;break}return e.next=5,R_(i.localStore,t,!1).then((function(){AE(i.remoteStore,t),iS(i,t)})).catch(Xx);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),NS.apply(this,arguments)}function AS(e){var t=by(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=WI.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=dS.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=QI.bind(null,t),t.sa.zo=_I.bind(null,t.eventManager),t.sa.wa=EI.bind(null,t.eventManager),t}function DS(e){var t=by(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=$I.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=JI.bind(null,t),t}function PS(e,t,n){var r=by(e);(function(){var e=ci(fi().mark((function e(t,n,r){var i,a,o,u,s;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=by(e),r=Vb(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n._s.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(AI(i)),a=new NI(i,t.localStore,n.M),e.next=15,n.ma();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Fu(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.ma();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,cS(t,s.Lu,void 0);case 31:return e.next=33,function(e,t){var n=by(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n._s.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.Bu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(my("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var RS=function(){function e(){Pt(this,e),this.synchronizeTabs=!1}return Ot(e,[{key:"initialize",value:function(){var e=ci(fi().mark((function e(t){return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.M=yE(t.databaseInfo.databaseId),this.sharedClientState=this.ga(t),this.persistence=this.ya(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.pa(t),this.localStore=this.Ia(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"pa",value:function(e){return null}},{key:"Ia",value:function(e){return E_(this.persistence,new x_,e.initialUser,this.M)}},{key:"ya",value:function(e){return new X_(Z_.Yi,this.M)}},{key:"ga",value:function(e){return new cE}},{key:"terminate",value:function(){var e=ci(fi().mark((function e(){return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),OS=function(e){_n(n,e);var t=Cn(n);function n(e,r,i){var a;return Pt(this,n),(a=t.call(this)).Ta=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return Ot(n,[{key:"initialize",value:function(){var e=ci(fi().mark((function e(t){var r=this;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xn(bn(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Ta.initialize(this,t);case 4:return e.next=6,DS(this.Ta.syncEngine);case 6:return e.next=8,GE(this.Ta.remoteStore);case 8:return e.next=10,this.persistence.Ts((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ia",value:function(e){return E_(this.persistence,new x_,e.initialUser,this.M)}},{key:"pa",value:function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new t_(t,e.asyncQueue)}},{key:"ya",value:function(e){var t=k_(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?jx.withCacheSize(this.cacheSizeBytes):jx.DEFAULT;return new m_(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,vE(),mE(),this.M,this.sharedClientState,!!this.forceOwnership)}},{key:"ga",value:function(e){return new cE}}]),n}(RS),LS=function(e){_n(n,e);var t=Cn(n);function n(e,r){var i;return Pt(this,n),(i=t.call(this,e,r,!1)).Ta=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return Ot(n,[{key:"initialize",value:function(){var e=ci(fi().mark((function e(t){var r,i=this;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xn(bn(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Ta.syncEngine,e.t0=this.sharedClientState instanceof sE,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={$r:gS.bind(null,r),Br:SS.bind(null,r),Lr:CS.bind(null,r),Fs:IS.bind(null,r),Fr:mS.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.Ts(function(){var e=ci(fi().mark((function e(t){return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bS(i.Ta.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):t||i.gcScheduler.stop());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"ga",value:function(e){var t=vE();if(!sE.vt(t))throw new xy(wy.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=k_(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new sE(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(OS),MS=function(){function e(){Pt(this,e)}return Ot(e,[{key:"initialize",value:function(){var e=ci(fi().mark((function e(t,n){var r=this;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return HI(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=fS.bind(null,this.syncEngine),e.next=12,sI(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new gI}},{key:"createDatastore",value:function(e){var t,n=yE(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new pE(t));return function(e,t,n,r){return new xE(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return HI(o.syncEngine,e,0)},a=fE.vt()?new fE:new lE,new EE(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new MI(e,t,n,r,i,a);return o&&(u.da=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=ci(fi().mark((function e(t){var n;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=by(t),py("RemoteStore","RemoteStore shutting down."),n.wu.add(5),e.next=5,TE(n);case 5:n.gu.shutdown(),n.yu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function FS(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return ci(fi().mark((function r(){var i;return fi().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return ci(fi().mark((function e(){return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var jS=function(){function e(t){Pt(this,e),this.observer=t,this.muted=!1}return Ot(e,[{key:"next",value:function(e){this.observer.next&&this.Ea(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"Aa",value:function(){this.muted=!0}},{key:"Ea",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),US=function(){function e(t,n){var r=this;Pt(this,e),this.Ra=t,this.M=n,this.metadata=new _y,this.buffer=new Uint8Array,this.ba=new TextDecoder("utf-8"),this.Pa().then((function(e){e&&e.Mu()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return Ot(e,[{key:"close",value:function(){return this.Ra.cancel()}},{key:"getMetadata",value:function(){var e=ci(fi().mark((function e(){return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ma",value:function(){var e=ci(fi().mark((function e(){return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Pa());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Pa",value:function(){var e=ci(fi().mark((function e(){var t,n,r,i;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Va();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.ba.decode(t),r=Number(n),isNaN(r)&&this.va("length string (".concat(n,") is not valid number")),e.next=9,this.Sa(r);case 9:return i=e.sent,e.abrupt("return",new TI(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Da",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Va",value:function(){var e=ci(fi().mark((function e(){var t,n;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Da()<0)){e.next=7;break}return e.next=3,this.Ca();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Da())<0&&this.va("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Sa",value:function(){var e=ci(fi().mark((function e(t){var n;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Ca();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.va("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.ba.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"va",value:function(e){throw this.Ra.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Ca",value:function(){var e=ci(fi().mark((function e(){var t,n;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ra.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),VS=function(){function e(t){Pt(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return Ot(e,[{key:"lookup",value:function(){var e=ci(fi().mark((function e(t){var n,r=this;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new xy(wy.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=ci(fi().mark((function e(t,n){var r,i,a,o,u,s;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=by(t),i=Hb(r.M)+"/documents",a={documents:n.map((function(e){return qb(r.M,e)}))},e.next=5,r._o("BatchGetDocuments",i,a);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=Xb(r.M,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());ky(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new cb(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=ci(fi().mark((function e(){var t,n=this;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=ug.fromPath(t);n.mutations.push(new lb(r,n.precondition(r)))})),e.next=7,function(){var e=ci(fi().mark((function e(t,n){var r,i,a;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=by(t),i=Hb(r.M)+"/documents",a={writes:n.map((function(e){return Jb(r.M,e)}))},e.next=3,r.co("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw gy();t=Uy.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new xy(wy.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Qk.updateTime(t):Qk.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Uy.min()))throw new xy(wy.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Qk.updateTime(t)}return Qk.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),BS=function(){function e(t,n,r,i,a){Pt(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.xa=r.maxAttempts,this.No=new gE(this.asyncQueue,"transaction_retry")}return Ot(e,[{key:"run",value:function(){this.xa-=1,this.Na()}},{key:"Na",value:function(){var e=this;this.No.Ro(ci(fi().mark((function t(){var n,r;return fi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new VS(e.datastore),(r=e.ka(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Ma(t)}))}))})).catch((function(t){e.Ma(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"ka",value:function(e){try{var t=this.updateFunction(e);return!ig(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Ma",value:function(e){var t=this;this.xa>0&&this.Oa(e)?(this.xa-=1,this.asyncQueue.enqueueAndForget((function(){return t.Na(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Oa",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!hb(t)}return!1}}]),e}(),zS=function(){function e(t,n,r,i){var a=this;Pt(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ly.UNAUTHENTICATED,this.clientId=Oy.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=ci(fi().mark((function e(t){return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return py("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return py("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return Ot(e,[{key:"getConfiguration",value:function(){var e=ci(fi().mark((function e(){return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new xy(wy.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new _y;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(ci(fi().mark((function n(){var r;return fi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=dI(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function qS(e,t){return KS.apply(this,arguments)}function KS(){return KS=ci(fi().mark((function e(t,n){var r,i;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),py("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=ci(fi().mark((function e(t){return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,I_(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),KS.apply(this,arguments)}function WS(e,t){return GS.apply(this,arguments)}function GS(){return GS=ci(fi().mark((function e(t,n){var r,i;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,HS(t);case 3:return r=e.sent,py("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return oI(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return oI(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),GS.apply(this,arguments)}function HS(e){return QS.apply(this,arguments)}function QS(){return QS=ci(fi().mark((function e(t){return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return py("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,qS(t,new RS);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),QS.apply(this,arguments)}function YS(e){return $S.apply(this,arguments)}function $S(){return $S=ci(fi().mark((function e(t){return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return py("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,WS(t,new MS);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),$S.apply(this,arguments)}function XS(e){return HS(e).then((function(e){return e.persistence}))}function JS(e){return HS(e).then((function(e){return e.localStore}))}function ZS(e){return YS(e).then((function(e){return e.remoteStore}))}function eT(e){return YS(e).then((function(e){return e.syncEngine}))}function tT(e){return nT.apply(this,arguments)}function nT(){return nT=ci(fi().mark((function e(t){var n,r;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,YS(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=FI.bind(null,n.syncEngine),r.onUnlisten=BI.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),nT.apply(this,arguments)}function rT(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new _y;return e.asyncQueue.enqueueAndForget(ci(fi().mark((function i(){return fi().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new jS({next:function(a){t.enqueueAndForget((function(){return wI(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new xy(wy.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new xy(wy.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new SI(yk(n.path),a,{includeMetadataChanges:!0,ku:!0});return kI(e,o)},i.next=3,tT(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function iT(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new _y;return e.asyncQueue.enqueueAndForget(ci(fi().mark((function i(){return fi().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new jS({next:function(n){t.enqueueAndForget((function(){return wI(e,o)})),n.fromCache&&"server"===r.source?i.reject(new xy(wy.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new SI(n,a,{includeMetadataChanges:!0,ku:!0});return kI(e,o)},i.next=3,tT(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var aT=new Map;function oT(e,t,n){if(!n)throw new xy(wy.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function uT(e,t,n,r){if(!0===t&&!0===r)throw new xy(wy.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function sT(e){if(!ug.isDocumentKey(e))throw new xy(wy.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function cT(e){if(ug.isDocumentKey(e))throw new xy(wy.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function lT(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":gy()}function fT(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new xy(wy.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=lT(e);throw new xy(wy.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function hT(e,t){if(t<=0)throw new xy(wy.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var dT=function(){function e(t){var n;if(Pt(this,e),void 0===t.host){if(void 0!==t.ssl)throw new xy(wy.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new xy(wy.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,uT("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return Ot(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),pT=function(){function e(t,n,r){Pt(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dT({}),this._settingsFrozen=!1,t instanceof rg?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new xy(wy.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new rg(e.options.projectId)}(t))}return Ot(e,[{key:"app",get:function(){if(!this._app)throw new xy(wy.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new xy(wy.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dT(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Iy;switch(e.type){case"gapi":var t=e.client;return ky(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Ny(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new xy(wy.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=aT.get(e);t&&(py("ComponentProvider","Removing Datastore"),aT.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function vT(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=fT(e,pT))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&my("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=ly.MOCK_USER;else{o=Vr(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new xy(wy.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new ly(s)}e._authCredentials=new Sy(new Ey(o,u))}}var mT=function(){function e(t,n,r){Pt(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return Ot(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new gT(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),yT=function(){function e(t,n,r){Pt(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return Ot(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),gT=function(e){_n(n,e);var t=Cn(n);function n(e,r,i){var a;return Pt(this,n),(a=t.call(this,e,r,yk(i)))._path=i,a.type="collection",a}return Ot(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new mT(this.firestore,null,new ug(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(yT);function kT(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ui(e),oT("collection","path",t),e instanceof pT){var a=Ky.fromString.apply(Ky,[t].concat(r));return cT(a),new gT(e,null,a)}if(!(e instanceof mT||e instanceof gT))throw new xy(wy.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Ky.fromString.apply(Ky,[t].concat(r)));return cT(o),new gT(e.firestore,null,o)}function bT(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ui(e),1===arguments.length&&(t=Oy.R()),oT("doc","path",t),e instanceof pT){var a=Ky.fromString.apply(Ky,[t].concat(r));return sT(a),new mT(e,null,new ug(a))}if(!(e instanceof mT||e instanceof gT))throw new xy(wy.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Ky.fromString.apply(Ky,[t].concat(r)));return sT(o),new mT(e.firestore,e instanceof gT?e.converter:null,new ug(o))}function wT(e,t){return e=ui(e),t=ui(t),(e instanceof mT||e instanceof gT)&&(t instanceof mT||t instanceof gT)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function xT(e,t){return e=ui(e),t=ui(t),e instanceof yT&&t instanceof yT&&e.firestore===t.firestore&&Ek(e._query,t._query)&&e.converter===t.converter}var _T=function(){function e(){var t=this;Pt(this,e),this.Fa=Promise.resolve(),this.$a=[],this.Ba=!1,this.La=[],this.Ua=null,this.qa=!1,this.Ka=!1,this.Ga=[],this.No=new gE(this,"async_queue_retry"),this.Qa=function(){var e=mE();e&&py("AsyncQueue","Visibility state changed to "+e.visibilityState),t.No.Po()};var n=mE();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Qa)}return Ot(e,[{key:"isShuttingDown",get:function(){return this.Ba}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.ja(),this.Wa(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Ba){this.Ba=!0,this.Ka=e||!1;var t=mE();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Qa)}}},{key:"enqueue",value:function(e){var t=this;if(this.ja(),this.Ba)return new Promise((function(){}));var n=new _y;return this.Wa((function(){return t.Ba&&t.Ka?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.$a.push(e),t.za()}))}},{key:"za",value:function(){var e=ci(fi().mark((function e(){var t=this;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.$a.length){e.next=14;break}return e.prev=1,e.next=4,this.$a[0]();case 4:this.$a.shift(),this.No.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Ww(e.t0)){e.next=12;break}throw e.t0;case 12:py("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.$a.length>0&&this.No.Ro((function(){return t.za()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Wa",value:function(e){var t=this,n=this.Fa.then((function(){return t.qa=!0,e().catch((function(e){t.Ua=e,t.qa=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw vy("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.qa=!1,e}))}));return this.Fa=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.ja(),this.Ga.indexOf(e)>-1&&(t=0);var i=hI.createAndSchedule(this,e,t,n,(function(e){return r.Ha(e)}));return this.La.push(i),i}},{key:"ja",value:function(){this.Ua&&gy()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Ja",value:function(){var e=ci(fi().mark((function e(){var t;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Fa,e.next=3,t;case 3:if(t!==this.Fa){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ya",value:function(e){var t,n=Dr(this.La);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Xa",value:function(e){var t=this;return this.Ja().then((function(){t.La.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=Dr(t.La);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Ja()}))}},{key:"Za",value:function(e){this.Ga.push(e)}},{key:"Ha",value:function(e){var t=this.La.indexOf(e);this.La.splice(t,1)}}]),e}();function ET(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=Dr(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var IT=function(){function e(){Pt(this,e),this._progressObserver={},this._taskCompletionResolver=new _y,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return Ot(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),ST=function(e){_n(n,e);var t=Cn(n);function n(e,r,i){var a;return Pt(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new _T,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return Ot(n,[{key:"_terminate",value:function(){return this._firestoreClient||CT(this),this._firestoreClient.terminate()}}]),n}(pT);function TT(e){return e._firestoreClient||CT(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function CT(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new ng(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new zS(e._authCredentials,e._appCheckCredentials,e._queue,r)}function NT(e,t,n){var r=new _y;return e.asyncQueue.enqueue(ci(fi().mark((function i(){return fi().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,qS(e,n);case 3:return i.next=5,WS(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===wy.FAILED_PRECONDITION||e.code===wy.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(i.t0)){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function AT(e){return function(e){return e.asyncQueue.enqueue(ci(fi().mark((function t(){var n,r;return fi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,XS(e);case 2:return n=t.sent,t.next=5,ZS(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=by(e);return t.wu.delete(0),IE(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(TT(e=fT(e,ST)))}function DT(e){return function(e){return e.asyncQueue.enqueue(ci(fi().mark((function t(){var n,r;return fi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,XS(e);case 2:return n=t.sent,t.next=5,ZS(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=ci(fi().mark((function e(t){var n;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=by(t)).wu.add(0),e.next=4,TE(n);case 4:n.yu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(TT(e=fT(e,ST)))}function PT(e,t){var n=TT(e=fT(e,ST)),r=new IT;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new US(e,t)}(function(e,t){if(e instanceof Uint8Array)return FS(e,t);if(e instanceof ArrayBuffer)return FS(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,yE(t));e.asyncQueue.enqueueAndForget(ci(fi().mark((function t(){return fi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=PS,t.next=3,eT(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function RT(e,t){return function(e,t){return e.asyncQueue.enqueue(ci(fi().mark((function n(){return fi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=by(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n._s.getNamedQuery(e,t)}))},n.next=3,JS(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(TT(e=fT(e,ST)),t).then((function(t){return t?new yT(e,null,t.query):null}))}function OT(e){if(e._initialized||e._terminated)throw new xy(wy.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var LT=function(){function e(){Pt(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new xy(wy.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gy(n)}return Ot(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var MT=function(){function e(t){Pt(this,e),this._byteString=t}return Ot(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Qy.fromBase64String(t))}catch(t){throw new xy(wy.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Qy.fromUint8Array(t))}}]),e}(),FT=Ot((function e(t){Pt(this,e),this._methodName=t})),jT=function(){function e(t,n){if(Pt(this,e),!isFinite(t)||t<-90||t>90)throw new xy(wy.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new xy(wy.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Ot(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Ly(this._lat,e._lat)||Ly(this._long,e._long)}}]),e}(),UT=/^__.*__$/,VT=function(){function e(t,n,r){Pt(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Ot(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new rb(e,this.data,this.fieldMask,t,this.fieldTransforms):new nb(e,this.data,t,this.fieldTransforms)}}]),e}(),BT=function(){function e(t,n,r){Pt(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Ot(e,[{key:"toMutation",value:function(e,t){return new rb(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function zT(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gy()}}var qT=function(){function e(t,n,r,i,a,o){Pt(this,e),this.settings=t,this.databaseId=n,this.M=r,this.ignoreUndefinedProperties=i,void 0===a&&this.tc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return Ot(e,[{key:"path",get:function(){return this.settings.path}},{key:"ec",get:function(){return this.settings.ec}},{key:"nc",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"sc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.nc({path:n,ic:!1});return r.rc(e),r}},{key:"oc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.nc({path:n,ic:!1});return r.tc(),r}},{key:"uc",value:function(e){return this.nc({path:void 0,ic:!0})}},{key:"ac",value:function(e){return cC(e,this.settings.methodName,this.settings.cc||!1,this.path,this.settings.hc)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"tc",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.rc(this.path.get(e))}},{key:"rc",value:function(e){if(0===e.length)throw this.ac("Document fields must not be empty");if(zT(this.ec)&&UT.test(e))throw this.ac('Document fields cannot begin and end with "__"')}}]),e}(),KT=function(){function e(t,n,r){Pt(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.M=r||yE(t)}return Ot(e,[{key:"lc",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new qT({ec:e,methodName:t,hc:n,path:Gy.emptyPath(),ic:!1,cc:r},this.databaseId,this.M,this.ignoreUndefinedProperties)}}]),e}();function WT(e){var t=e._freezeSettings(),n=yE(e._databaseId);return new KT(e._databaseId,!!t.ignoreUndefinedProperties,n)}function GT(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.lc(a.merge||a.mergeFields?2:0,t,n,i);aC("Data must be an object, but it was:",o,r);var u,s,c=rC(r,o);if(a.merge)u=new Hy(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=Dr(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=oC(t,d,n);if(!o.contains(p))throw new xy(wy.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));lC(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}u=new Hy(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new VT(new Ng(c),u,s)}var HT=function(e){_n(n,e);var t=Cn(n);function n(){return Pt(this,n),t.apply(this,arguments)}return Ot(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.ec)throw 1===e.ec?e.ac("".concat(this._methodName,"() can only appear at the top level of your update data")):e.ac("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(FT);function QT(e,t,n){return new qT({ec:3,hc:t.settings.hc,methodName:e._methodName,ic:n},t.databaseId,t.M,t.ignoreUndefinedProperties)}var YT=function(e){_n(n,e);var t=Cn(n);function n(){return Pt(this,n),t.apply(this,arguments)}return Ot(n,[{key:"_toFieldTransform",value:function(e){return new Gk(e.path,new jk)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(FT),$T=function(e){_n(n,e);var t=Cn(n);function n(e,r){var i;return Pt(this,n),(i=t.call(this,e)).fc=r,i}return Ot(n,[{key:"_toFieldTransform",value:function(e){var t=QT(this,e,!0),n=this.fc.map((function(e){return nC(e,t)})),r=new Uk(n);return new Gk(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(FT),XT=function(e){_n(n,e);var t=Cn(n);function n(e,r){var i;return Pt(this,n),(i=t.call(this,e)).fc=r,i}return Ot(n,[{key:"_toFieldTransform",value:function(e){var t=QT(this,e,!0),n=this.fc.map((function(e){return nC(e,t)})),r=new Bk(n);return new Gk(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(FT),JT=function(e){_n(n,e);var t=Cn(n);function n(e,r){var i;return Pt(this,n),(i=t.call(this,e)).dc=r,i}return Ot(n,[{key:"_toFieldTransform",value:function(e){var t=new qk(e.M,Rk(e.M,this.dc));return new Gk(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(FT);function ZT(e,t,n,r){var i=e.lc(1,t,n);aC("Data must be an object, but it was:",i,r);var a=[],o=Ng.empty();By(r,(function(e,r){var u=sC(t,e,n);r=ui(r);var s=i.oc(u);if(r instanceof HT)a.push(u);else{var c=nC(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new Hy(a);return new BT(o,u,i.fieldTransforms)}function eC(e,t,n,r,i,a){var o=e.lc(1,t,n),u=[oC(t,r,n)],s=[i];if(a.length%2!=0)throw new xy(wy.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(oC(t,a[c])),s.push(a[c+1]);for(var l=[],f=Ng.empty(),h=u.length-1;h>=0;--h)if(!lC(l,u[h])){var d=u[h],p=s[h];p=ui(p);var v=o.oc(d);if(p instanceof HT)l.push(d);else{var m=nC(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new Hy(l);return new BT(f,y,o.fieldTransforms)}function tC(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return nC(n,e.lc(r?4:3,t))}function nC(e,t){if(iC(e=ui(e)))return aC("Unsupported field value:",t,e),rC(e,t);if(e instanceof FT)return function(e,t){if(!zT(t.ec))throw t.ac("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ac("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ic&&4!==t.ec)throw t.ac("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=Dr(e);try{for(a.s();!(n=a.n()).done;){var o=nC(n.value,t.uc(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=ui(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Rk(t.M,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=jy.fromDate(e);return{timestampValue:Fb(t.M,n)}}if(e instanceof jy){var r=new jy(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Fb(t.M,r)}}if(e instanceof jT)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof MT)return{bytesValue:jb(t.M,e._byteString)};if(e instanceof mT){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.ac("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:Bb(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ac("Unsupported field value: ".concat(lT(e)))}(e,t)}function rC(e,t){var n={};return zy(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):By(e,(function(e,r){var i=nC(r,t.sc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function iC(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof jy||e instanceof jT||e instanceof MT||e instanceof mT||e instanceof FT)}function aC(e,t,n){if(!iC(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=lT(n);throw"an object"===r?t.ac(e+" a custom object"):t.ac(e+" "+r)}}function oC(e,t,n){if((t=ui(t))instanceof LT)return t._internalPath;if("string"==typeof t)return sC(e,t);throw cC("Field path arguments must be of type string or ",e,!1,void 0,n)}var uC=new RegExp("[~\\*/\\[\\]]");function sC(e,t,n){if(t.search(uC)>=0)throw cC("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return Pr(LT,Dt(t.split(".")))._internalPath}catch(r){throw cC("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function cC(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new xy(wy.INVALID_ARGUMENT,u+e+s)}function lC(e,t){return e.some((function(e){return e.isEqual(t)}))}var fC=function(){function e(t,n,r,i,a){Pt(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return Ot(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new mT(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new hC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(dC("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),hC=function(e){_n(n,e);var t=Cn(n);function n(){return Pt(this,n),t.apply(this,arguments)}return Ot(n,[{key:"data",value:function(){return xn(bn(n.prototype),"data",this).call(this)}}]),n}(fC);function dC(e,t){return"string"==typeof t?sC(e,t):t instanceof LT?t._internalPath:t._delegate._internalPath}var pC=function(){function e(t,n){Pt(this,e),this.hasPendingWrites=t,this.fromCache=n}return Ot(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),vC=function(e){_n(n,e);var t=Cn(n);function n(e,r,i,a,o,u){var s;return Pt(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return Ot(n,[{key:"exists",value:function(){return xn(bn(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new mC(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(dC("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(fC),mC=function(e){_n(n,e);var t=Cn(n);function n(){return Pt(this,n),t.apply(this,arguments)}return Ot(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return xn(bn(n.prototype),"data",this).call(this,e)}}]),n}(vC),yC=function(){function e(t,n,r,i){Pt(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new pC(i.hasPendingWrites,i.fromCache),this.query=r}return Ot(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new mC(n._firestore,n._userDataWriter,r.key,r,new pC(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new xy(wy.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new mC(e._firestore,e._userDataWriter,t.doc.key,t.doc,new pC(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new mC(e._firestore,e._userDataWriter,t.doc.key,t.doc,new pC(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:gC(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function gC(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gy()}}function kC(e,t){return e instanceof vC&&t instanceof vC?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof yC&&t instanceof yC&&e._firestore===t._firestore&&xT(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function bC(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new xy(wy.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var wC=Ot((function e(){Pt(this,e)}));function xC(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var _C=function(e){_n(n,e);var t=Cn(n);function n(e,r,i){var a;return Pt(this,n),(a=t.call(this))._c=e,a.wc=r,a.mc=i,a.type="where",a}return Ot(n,[{key:"_apply",value:function(e){var t=WT(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new xy(wy.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){OC(o,a);var s,c=[],l=Dr(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(RC(r,e,f))}}catch(d){l.e(d)}finally{l.f()}u={arrayValue:{values:c}}}else u=RC(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||OC(o,a),u=tC(n,"where",o,"in"===a||"not-in"===a);var h=tk.create(i,a,u);return function(e,t){if(t.S()){var n=kk(e);if(null!==n&&!n.isEqual(t.field))throw new xy(wy.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=gk(e);null!==r&&LC(e,t.field,r)}var i=function(e,t){var n,r=Dr(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new xy(wy.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new xy(wy.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this._c,this.wc,this.mc);return new yT(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new vk(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(wC);var EC=function(e){_n(n,e);var t=Cn(n);function n(e,r){var i;return Pt(this,n),(i=t.call(this))._c=e,i.gc=r,i.type="orderBy",i}return Ot(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new xy(wy.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new xy(wy.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new fk(t,n);return function(e,t){if(null===gk(e)){var n=kk(e);null!==n&&LC(e,n,t.field)}}(e,r),r}(e._query,this._c,this.gc);return new yT(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new vk(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(wC);var IC=function(e){_n(n,e);var t=Cn(n);function n(e,r,i){var a;return Pt(this,n),(a=t.call(this)).type=e,a.yc=r,a.Ic=i,a}return Ot(n,[{key:"_apply",value:function(e){return new yT(e.firestore,e.converter,_k(e._query,this.yc,this.Ic))}}]),n}(wC);var SC=function(e){_n(n,e);var t=Cn(n);function n(e,r,i){var a;return Pt(this,n),(a=t.call(this)).type=e,a.Tc=r,a.Ec=i,a}return Ot(n,[{key:"_apply",value:function(e){var t=PC(e,this.type,this.Tc,this.Ec);return new yT(e.firestore,e.converter,function(e,t){return new vk(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(wC);function TC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new SC("startAt",t,!0)}function CC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new SC("startAfter",t,!1)}var NC=function(e){_n(n,e);var t=Cn(n);function n(e,r,i){var a;return Pt(this,n),(a=t.call(this)).type=e,a.Tc=r,a.Ec=i,a}return Ot(n,[{key:"_apply",value:function(e){var t=PC(e,this.type,this.Tc,this.Ec);return new yT(e.firestore,e.converter,function(e,t){return new vk(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(wC);function AC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new NC("endBefore",t,!1)}function DC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new NC("endAt",t,!0)}function PC(e,t,n,r){if(n[0]=ui(n[0]),n[0]instanceof fC)return function(e,t,n,r,i){if(!r)throw new xy(wy.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=Dr(wk(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(yg(t,r.key));else{var c=r.data.field(s.field);if(Zy(c))throw new xy(wy.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new xy(wy.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new lk(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=WT(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new xy(wy.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new xy(wy.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!bk(e)&&-1!==c.indexOf("/"))throw new xy(wy.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(Ky.fromString(c));if(!ug.isDocumentKey(l))throw new xy(wy.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new ug(l);u.push(yg(t,f))}else{var h=tC(n,r,c);u.push(h)}}return new lk(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function RC(e,t,n){if("string"==typeof(n=ui(n))){if(""===n)throw new xy(wy.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!bk(t)&&-1!==n.indexOf("/"))throw new xy(wy.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Ky.fromString(n));if(!ug.isDocumentKey(r))throw new xy(wy.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return yg(e,new ug(r))}if(n instanceof mT)return yg(e,n._key);throw new xy(wy.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(lT(n),"."))}function OC(e,t){if(!Array.isArray(e)||0===e.length)throw new xy(wy.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new xy(wy.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function LC(e,t,n){if(!n.isEqual(t))throw new xy(wy.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var MC={maxAttempts:5},FC=function(){function e(){Pt(this,e)}return Ot(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(lg(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Xy(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Jy(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw gy()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return By(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new jT(Xy(e.latitude),Xy(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=eg(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(tg(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=$y(e);return new jy(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Ky.fromString(e);ky(fw(n));var r=new rg(n.get(1),n.get(3)),i=new ug(n.popFirst(5));return r.isEqual(t)||vy("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function jC(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var UC=function(e){_n(n,e);var t=Cn(n);function n(e){var r;return Pt(this,n),(r=t.call(this)).firestore=e,r}return Ot(n,[{key:"convertBytes",value:function(e){return new MT(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new mT(this.firestore,null,t)}}]),n}(FC),VC=function(){function e(t,n){Pt(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=WT(t)}return Ot(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=BC(e,this._firestore),i=jC(r.converter,t,n),a=GT(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,Qk.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=BC(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=ui(t))||t instanceof LT?eC(this._dataReader,"WriteBatch.update",i._key,t,n,o):ZT(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,Qk.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=BC(e,this._firestore);return this._mutations=this._mutations.concat(new cb(t._key,Qk.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new xy(wy.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function BC(e,t){if((e=ui(e)).firestore!==t)throw new xy(wy.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var zC=function(e){_n(n,e);var t=Cn(n);function n(e){var r;return Pt(this,n),(r=t.call(this)).firestore=e,r}return Ot(n,[{key:"convertBytes",value:function(e){return new MT(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new mT(this.firestore,null,t)}}]),n}(FC);function qC(e){e=fT(e,mT);var t=fT(e.firestore,ST),n=TT(t),r=new zC(t);return function(e,t){var n=new _y;return e.asyncQueue.enqueueAndForget(ci(fi().mark((function r(){return fi().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=ci(fi().mark((function e(t,n,r){var i,a;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=by(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.fi.Ls(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new xy(wy.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=dI(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,JS(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new vC(t,r,e._key,n,new pC(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function KC(e){e=fT(e,yT);var t=fT(e.firestore,ST),n=TT(t),r=new zC(t);return function(e,t){var n=new _y;return e.asyncQueue.enqueueAndForget(ci(fi().mark((function r(){return fi().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=ci(fi().mark((function e(t,n,r){var i,a,o,u,s;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L_(t,n,!0);case 3:i=e.sent,a=new RI(n,i._i),o=a.Wu(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=dI(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,JS(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new yC(t,r,e,n)}))}function WC(e,t,n){e=fT(e,mT);var r=fT(e.firestore,ST),i=jC(e.converter,t,n);return YC(r,[GT(WT(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Qk.none())])}function GC(e,t,n){e=fT(e,mT);for(var r=fT(e.firestore,ST),i=WT(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return YC(r,[("string"==typeof(t=ui(t))||t instanceof LT?eC(i,"updateDoc",e._key,t,n,o):ZT(i,"updateDoc",e._key,t)).toMutation(e._key,Qk.exists(!0))])}function HC(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=ui(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||ET(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(ET(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof mT)l=fT(e.firestore,ST),f=yk(e._key.path),c={next:function(t){n[s]&&n[s]($C(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=fT(e,yT);l=fT(p.firestore,ST),f=p._query;var v=new zC(l);c={next:function(e){n[s]&&n[s](new yC(l,v,p,e))},error:n[s+1],complete:n[s+2]},bC(e._query)}return function(e,t,n,r){var i=new jS(r),a=new SI(t,i,n);return e.asyncQueue.enqueueAndForget(ci(fi().mark((function t(){return fi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=kI,t.next=3,tT(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Aa(),e.asyncQueue.enqueueAndForget(ci(fi().mark((function t(){return fi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=wI,t.next=3,tT(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(TT(l),f,h,c)}function QC(e,t){return function(e,t){var n=new jS(t);return e.asyncQueue.enqueueAndForget(ci(fi().mark((function t(){return fi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){by(e).bu.add(t),t.next()},t.next=3,tT(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Aa(),e.asyncQueue.enqueueAndForget(ci(fi().mark((function t(){return fi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){by(e).bu.delete(t)},t.next=3,tT(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(TT(e=fT(e,ST)),ET(t)?t:{next:t})}function YC(e,t){return function(e,t){var n=new _y;return e.asyncQueue.enqueueAndForget(ci(fi().mark((function r(){return fi().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=qI,r.next=3,eT(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(TT(e),t)}function $C(e,t,n){var r=n.docs.get(t._key),i=new zC(e);return new vC(e,i,t._key,r,new pC(n.hasPendingWrites,n.fromCache),t.converter)}var XC=function(e){_n(n,e);var t=Cn(n);function n(e,r){var i;return Pt(this,n),(i=t.call(this,e,r))._firestore=e,i}return Ot(n,[{key:"get",value:function(e){var t=this,r=BC(e,this._firestore),i=new zC(this._firestore);return xn(bn(n.prototype),"get",this).call(this,e).then((function(e){return new vC(t._firestore,i,r._key,e._document,new pC(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){Pt(this,e),this._firestore=t,this._transaction=n,this._dataReader=WT(t)}return Ot(e,[{key:"get",value:function(e){var t=this,n=BC(e,this._firestore),r=new UC(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return gy();var i=e[0];if(i.isFoundDocument())return new fC(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new fC(t._firestore,r,n._key,null,n.converter);throw gy()}))}},{key:"set",value:function(e,t,n){var r=BC(e,this._firestore),i=jC(r.converter,t,n),a=GT(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=BC(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=ui(t))||t instanceof LT?eC(this._dataReader,"Transaction.update",i._key,t,n,o):ZT(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=BC(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function JC(e,t,n){e=fT(e,ST);var r=Object.assign(Object.assign({},MC),n);return function(e){if(e.maxAttempts<1)throw new xy(wy.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new _y;return e.asyncQueue.enqueueAndForget(ci(fi().mark((function i(){var a;return fi().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,function(e){return YS(e).then((function(e){return e.datastore}))}(e);case 2:a=i.sent,new BS(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(TT(e),(function(n){return t(new XC(e,n))}),r)}function ZC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new $T("arrayUnion",t)}function eN(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new XT("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){fy=e}(aa),Ji(new hi("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new ST(i,new Ty(e.getProvider("auth-internal")),new Dy(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),fa(cy,"3.4.9",e),fa(cy,"3.4.9","esm2017")}();function tN(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new xy("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function nN(){if("undefined"===typeof Uint8Array)throw new xy("unimplemented","Uint8Arrays are not available in this environment.")}function rN(){if("undefined"==typeof atob)throw new xy("unimplemented","Blobs are unavailable in Firestore in this environment.")}var iN=function(){function e(t){Pt(this,e),this._delegate=t}return Ot(e,[{key:"toBase64",value:function(){return rN(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return nN(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return rN(),new e(MT.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return nN(),new e(MT.fromUint8Array(t))}}]),e}();function aN(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=Dr(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var oN=function(){function e(){Pt(this,e)}return Ot(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){OT(e=fT(e,ST));var n=TT(e),r=e._freezeSettings(),i=new MS;return NT(n,i,new OS(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){OT(e=fT(e,ST));var t=TT(e),n=e._freezeSettings(),r=new MS;return NT(t,r,new LS(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new xy(wy.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new _y;return e._queue.enqueueAndForgetEvenWhileRestricted(ci(fi().mark((function n(){return fi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=ci(fi().mark((function e(t){var n;return fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(zw.vt()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,zw.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(k_(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),uN=function(){function e(t,n,r){var i=this;Pt(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof rg||(this._appCompat=t)}return Ot(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||my("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};vT(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return AT(this._delegate)}},{key:"disableNetwork",value:function(){return DT(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&uT("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new _y;return e.asyncQueue.enqueueAndForget(ci(fi().mark((function n(){return fi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=eS,n.next=3,eT(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(TT(e=fT(e,ST)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return QC(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new xy("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new wN(this,kT(this._delegate,e))}catch(lA){throw dN(lA,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new hN(this,bT(this._delegate,e))}catch(lA){throw dN(lA,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new gN(this,function(e,t){if(e=fT(e,pT),oT("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new xy(wy.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new yT(e,null,function(e){return new vk(Ky.emptyPath(),e)}(t))}(this._delegate,e))}catch(lA){throw dN(lA,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return JC(this._delegate,(function(n){return e(new cN(t,n))}))}},{key:"batch",value:function(){var e=this;return TT(this._delegate),new lN(new VC(this._delegate,(function(t){return YC(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return PT(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return RT(this._delegate,e).then((function(e){return e?new gN(t,e):null}))}}]),e}(),sN=function(e){_n(n,e);var t=Cn(n);function n(e){var r;return Pt(this,n),(r=t.call(this)).firestore=e,r}return Ot(n,[{key:"convertBytes",value:function(e){return new iN(new MT(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return hN.forKey(t,this.firestore,null)}}]),n}(FC);var cN=function(){function e(t,n){Pt(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new sN(t)}return Ot(e,[{key:"get",value:function(e){var t=this,n=xN(e);return this._delegate.get(n).then((function(e){return new mN(t._firestore,new vC(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=xN(e);return n?(tN("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=xN(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=xN(e);return this._delegate.delete(t),this}}]),e}(),lN=function(){function e(t){Pt(this,e),this._delegate=t}return Ot(e,[{key:"set",value:function(e,t,n){var r=xN(e);return n?(tN("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=xN(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=xN(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),fN=function(){function e(t,n,r){Pt(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return Ot(e,[{key:"fromFirestore",value:function(e,t){var n=new mC(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new yN(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new sN(t),n),i.set(n,a)),a}}]),e}();fN.INSTANCES=new WeakMap;var hN=function(){function e(t,n){Pt(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new sN(t)}return Ot(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new wN(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new wN(this.firestore,kT(this._delegate,e))}catch(lA){throw dN(lA,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=ui(e))instanceof mT&&wT(this._delegate,e)}},{key:"set",value:function(e,t){t=tN("DocumentReference.set",t);try{return t?WC(this._delegate,e,t):WC(this._delegate,e)}catch(lA){throw dN(lA,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?GC(this._delegate,e):GC.apply(void 0,[this._delegate,e,t].concat(r))}catch(lA){throw dN(lA,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return YC(fT(e.firestore,ST),[new cb(e._key,Qk.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=pN(n),a=vN(n,(function(t){return new mN(e.firestore,new vC(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return HC(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?qC(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=fT(e,mT);var t=fT(e.firestore,ST);return rT(TT(t),e._key,{source:"server"}).then((function(n){return $C(t,e,n)}))}(this._delegate):function(e){e=fT(e,mT);var t=fT(e.firestore,ST);return rT(TT(t),e._key).then((function(n){return $C(t,e,n)}))}(this._delegate),t.then((function(e){return new mN(n.firestore,new vC(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(fN.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new xy("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new mT(n._delegate,r,new ug(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new mT(n._delegate,r,t))}}]),e}();function dN(e,t,n){return e.message=e.message.replace(t,n),e}function pN(e){var t,n=Dr(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!aN(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function vN(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=aN(e[0])?e[0]:aN(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var mN=function(){function e(t,n){Pt(this,e),this._firestore=t,this._delegate=n}return Ot(e,[{key:"ref",get:function(){return new hN(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return kC(this._delegate,e._delegate)}}]),e}(),yN=function(e){_n(n,e);var t=Cn(n);function n(){return Pt(this,n),t.apply(this,arguments)}return Ot(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||gy()}(void 0!==t),t}}]),n}(mN),gN=function(){function e(t,n){Pt(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new sN(t)}return Ot(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,xC(this._delegate,function(e,t,n){var r=t,i=dC("where",e);return new _C(i,r,n)}(t,n,r)))}catch(lA){throw dN(lA,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,xC(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=dC("orderBy",e);return new EC(n,t)}(t,n)))}catch(lA){throw dN(lA,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,xC(this._delegate,function(e){return hT("limit",e),new IC("limit",e,"F")}(t)))}catch(lA){throw dN(lA,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,xC(this._delegate,function(e){return hT("limitToLast",e),new IC("limitToLast",e,"L")}(t)))}catch(lA){throw dN(lA,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,xC(this._delegate,TC.apply(void 0,arguments)))}catch(lA){throw dN(lA,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,xC(this._delegate,CC.apply(void 0,arguments)))}catch(lA){throw dN(lA,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,xC(this._delegate,AC.apply(void 0,arguments)))}catch(lA){throw dN(lA,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,xC(this._delegate,DC.apply(void 0,arguments)))}catch(lA){throw dN(lA,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return xT(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?KC(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=fT(e,yT);var t=fT(e.firestore,ST),n=TT(t),r=new zC(t);return iT(n,e._query,{source:"server"}).then((function(n){return new yC(t,r,e,n)}))}(this._delegate):function(e){e=fT(e,yT);var t=fT(e.firestore,ST),n=TT(t),r=new zC(t);return bC(e._query),iT(n,e._query).then((function(n){return new yC(t,r,e,n)}))}(this._delegate),t.then((function(e){return new bN(n.firestore,new yC(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=pN(n),a=vN(n,(function(t){return new bN(e.firestore,new yC(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return HC(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(fN.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),kN=function(){function e(t,n){Pt(this,e),this._firestore=t,this._delegate=n}return Ot(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new yN(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),bN=function(){function e(t,n){Pt(this,e),this._firestore=t,this._delegate=n}return Ot(e,[{key:"query",get:function(){return new gN(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new yN(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new kN(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new yN(n._firestore,r))}))}},{key:"isEqual",value:function(e){return kC(this._delegate,e._delegate)}}]),e}(),wN=function(e){_n(n,e);var t=Cn(n);function n(e,r){var i;return Pt(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return Ot(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new hN(this.firestore,e):null}},{key:"doc",value:function(e){try{return new hN(this.firestore,void 0===e?bT(this._delegate):bT(this._delegate,e))}catch(lA){throw dN(lA,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=fT(e.firestore,ST),r=bT(e),i=jC(e.converter,t);return YC(n,[GT(WT(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Qk.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new hN(t.firestore,e)}))}},{key:"isEqual",value:function(e){return wT(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(fN.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(gN);function xN(e){return fT(e,mT)}var _N=function(){function e(){Pt(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=Pr(LT,n)}return Ot(e,[{key:"isEqual",value:function(e){return(e=ui(e))instanceof LT&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(Gy.keyField().canonicalString())}}]),e}(),EN=function(){function e(t){Pt(this,e),this._delegate=t}return Ot(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new YT("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new HT("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=ZC.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=eN.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new JT("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),IN={Firestore:uN,GeoPoint:jT,Timestamp:jy,Blob:iN,Transaction:cN,WriteBatch:lN,DocumentReference:hN,DocumentSnapshot:mN,Query:gN,QueryDocumentSnapshot:yN,QuerySnapshot:bN,CollectionReference:wN,FieldPath:_N,FieldValue:EN,setLogLevel:function(e){!function(e){hy.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new hi("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},IN)))}(e,(function(e,t){return new uN(e,t,new oN)})),e.registerVersion("@firebase/firestore-compat","0.1.18")}(La);var SN=La.initializeApp({apiKey:"AIzaSyBUvpus4NBVrLn3tsHFl0eLW2EKa_wXZZs",authDomain:"smit-c3cce.firebaseapp.com",projectId:"smit-c3cce",storageBucket:"smit-c3cce.appspot.com",messagingSenderId:"494162701758",appId:"1:494162701758:web:5bffbbab1876036f19ddef",measurementId:"G-R40TTDYZSM"}),TN=La.firestore(),CN=function(){var e=u((0,c.useState)(!0),2),t=e[0],n=e[1],r=u((0,c.useState)([]),2),i=r[0],a=r[1];return(0,c.useEffect)((function(){var e=[],t=TN.collection("SurveyResponses").onSnapshot((function(t){t.forEach((function(t){e.push(Y(Y({},t.data()),{},{key:t.id}))})),a(e),n(!1)}));return function(){return t()}}),[t]),t?(0,ce.jsx)("h1",{children:"loading firebase data..."}):(0,ce.jsxs)("div",{className:"container",children:[(0,ce.jsx)("h1",{children:"Students:"}),i.length>0?i.map((function(e){return(0,ce.jsx)("div",{children:e.answer},e.key)})):(0,ce.jsx)("h1",{children:"no answers yet :("})]})},NN=["bsPrefix","className","variant","as"],AN=c.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.variant,a=e.as,o=void 0===a?"img":a,u=X(e,NN),s=he(n,"card-img");return(0,ce.jsx)(o,Y({ref:t,className:Z()(i?"".concat(s,"-").concat(i):s,r)},u))}));AN.displayName="CardImg";var DN=AN,PN=["bsPrefix","className","as"],RN=c.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,a=void 0===i?"div":i,o=X(e,PN),u=he(n,"card-header"),s=(0,c.useMemo)((function(){return{cardHeaderBsPrefix:u}}),[u]);return(0,ce.jsx)(dr.Provider,{value:s,children:(0,ce.jsx)(a,Y(Y({ref:t},o),{},{className:Z()(r,u)}))})}));RN.displayName="CardHeader";var ON=RN,LN=["bsPrefix","className","bg","text","border","body","children","as"],MN=gn("h5"),FN=gn("h6"),jN=me("card-body"),UN=me("card-title",{Component:MN}),VN=me("card-subtitle",{Component:FN}),BN=me("card-link",{Component:"a"}),zN=me("card-text",{Component:"p"}),qN=me("card-footer"),KN=me("card-img-overlay"),WN=c.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.bg,a=e.text,o=e.border,u=e.body,s=e.children,c=e.as,l=void 0===c?"div":c,f=X(e,LN),h=he(n,"card");return(0,ce.jsx)(l,Y(Y({ref:t},f),{},{className:Z()(r,h,i&&"bg-".concat(i),a&&"text-".concat(a),o&&"border-".concat(o)),children:u?(0,ce.jsx)(jN,{children:s}):s}))}));WN.displayName="Card",WN.defaultProps={body:!1};var GN=Object.assign(WN,{Img:DN,Title:UN,Subtitle:VN,Body:jN,Link:BN,Text:zN,Header:ON,Footer:qN,ImgOverlay:KN}),HN=c.memo((function(e){return c.useEffect((function(){var e=document.createElement("script");return e.src="https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v9.0&appId=your-app-id&autoLogAppEvents=1",e.async=!0,document.body.appendChild(e),function(){document.body.removeChild(e)}}),[]),(0,ce.jsxs)(c.Fragment,{children:[(0,ce.jsx)("div",{id:"fb-root"}),(0,ce.jsx)(GN,{children:(0,ce.jsx)(GN.Body,{style:{textAlign:"center"},children:(0,ce.jsx)("div",{class:"fb-page","data-href":"https://www.facebook.com/SaylaniMassTraining/","data-tabs":"timeline","data-width":"1000","data-height":"500","data-small-header":"false","data-adapt-container-width":"true","data-hide-cover":"false","data-show-facepile":"true",children:(0,ce.jsx)("blockquote",{cite:"https://www.facebook.com/SaylaniMassTraining/",class:"fb-xfbml-parse-ignore",children:(0,ce.jsx)("a",{href:"https://www.facebook.com/SaylaniMassTraining/",children:"Your Page"})})})})})]})})),QN=c.createContext(),YN=function(e){var t=e.children,n=u((0,c.useState)(!0),2),r=n[0],i=n[1],a=u((0,c.useState)(null),2),o=a[0],s=a[1];return(0,c.useEffect)((function(){SN.auth().onAuthStateChanged((function(e){s(e),i(!1)}))}),[]),r?(0,ce.jsx)("p",{children:"Loading..."}):(0,ce.jsx)(QN.Provider,{value:{currentUser:o},children:t})},$N=function(){return(0,c.useContext)(QN).currentUser?(0,ce.jsx)(V,{to:"/dashboard"}):(0,ce.jsxs)(ce.Fragment,{children:[(0,ce.jsx)("h1",{children:"Log In"}),(0,ce.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=e.target.elements,n=t.email,r=t.password;try{SN.auth().signInWithEmailAndPassword(n.value,r.value)}catch(i){alert(i)}},children:[(0,ce.jsx)("label",{for:"email",children:"Email"}),(0,ce.jsx)("input",{type:"email",name:"email",placeholder:"Email"}),(0,ce.jsx)("label",{for:"password",children:"Password"}),(0,ce.jsx)("input",{type:"password",name:"password",placeholder:"Password"}),(0,ce.jsx)("button",{type:"submit",children:"Submit"})]})]})},XN=["bsPrefix","className","as"],JN=c.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,a=void 0===i?"div":i,o=X(e,XN),u=he(n,"row"),s=de(),c="".concat(u,"-cols"),l=[];return s.forEach((function(e){var t,n=o[e];delete o[e],t=null!=n&&"object"===typeof n?n.cols:n;var r="xs"!==e?"-".concat(e):"";null!=t&&l.push("".concat(c).concat(r,"-").concat(t))})),(0,ce.jsx)(a,Y(Y({ref:t},o),{},{className:Z().apply(void 0,[r,u].concat(l))}))}));JN.displayName="Row";var ZN=JN,eA=["as","bsPrefix","className"],tA=["className"];var nA=c.forwardRef((function(e,t){var n=function(e){var t=e.as,n=e.bsPrefix,r=e.className,i=X(e,eA);n=he(n,"col");var a=de(),o=[],u=[];return a.forEach((function(e){var t,r,a,s=i[e];delete i[e],"object"===typeof s&&null!=s?(t=s.span,r=s.offset,a=s.order):t=s;var c="xs"!==e?"-".concat(e):"";t&&o.push(!0===t?"".concat(n).concat(c):"".concat(n).concat(c,"-").concat(t)),null!=a&&u.push("order".concat(c,"-").concat(a)),null!=r&&u.push("offset".concat(c,"-").concat(r))})),[Y(Y({},i),{},{className:Z().apply(void 0,[r].concat(o,u))}),{as:t,bsPrefix:n,spans:o}]}(e),r=u(n,2),i=r[0],a=i.className,o=X(i,tA),s=r[1],c=s.as,l=void 0===c?"div":c,f=s.bsPrefix,h=s.spans;return(0,ce.jsx)(l,Y(Y({},o),{},{ref:t,className:Z()(a,!h.length&&f)}))}));nA.displayName="Col";var rA=nA,iA=function(){return(0,ce.jsxs)("div",{style:{padding:"5px"},children:[(0,ce.jsx)("div",{children:(0,ce.jsx)(Nr,{children:(0,ce.jsxs)(ZN,{children:[(0,ce.jsx)(rA,{children:(0,ce.jsxs)(GN,{style:{width:"18rem"},children:[(0,ce.jsx)(GN.Img,{variant:"top",src:"https://scontent.fkhi22-1.fna.fbcdn.net/v/t39.30808-6/280553036_4682297655205543_341960351400812358_n.jpg?_nc_cat=109&ccb=1-6&_nc_sid=730e14&_nc_ohc=kQq-nDKnzNsAX_LiGVn&_nc_ht=scontent.fkhi22-1.fna&oh=00_AT-uM_v41aMh3qJqro4VF6byv9dHZcgR7iddoRtJ4xooag&oe=628556B8"}),(0,ce.jsxs)(GN.Body,{children:[(0,ce.jsx)(GN.Title,{children:"Graphic Designing and Video Animation"}),(0,ce.jsx)(GN.Text,{children:'After the Great success of the Certified Python Programming Course. We are happy to announce Graphic Designing courses for those students who are willing to step-in in IT. "Graphic Designing and Video Animation" . Admission starting from 11th May 2022 to 20th May 2022 .'}),(0,ce.jsx)(Sr,{href:"/form",variant:"primary",children:"Apply Here"})]})]})}),(0,ce.jsx)(rA,{children:(0,ce.jsxs)(GN,{style:{width:"18rem"},children:[(0,ce.jsx)(GN.Img,{variant:"top",src:"https://scontent.fkhi22-1.fna.fbcdn.net/v/t39.30808-6/279713784_4657894154312560_2126395355466789802_n.jpg?_nc_cat=101&ccb=1-6&_nc_sid=730e14&_nc_ohc=EjxsFmIchMYAX-fpEnJ&_nc_ht=scontent.fkhi22-1.fna&oh=00_AT8j_JgZJB_6XuSfGc7Ob0E5XDAnYc14BPtHZhxTqETy1g&oe=628392AB"}),(0,ce.jsxs)(GN.Body,{children:[(0,ce.jsx)(GN.Title,{children:"Certified Computer Operator"}),(0,ce.jsx)(GN.Text,{children:'providing a great opportunity for young people in Karachi who are willing to enter the field of information technology. We are delighted to announce the courses "Certified Computer Operator"and "Certified Computer Accountancy".'}),(0,ce.jsx)(Sr,{href:"/form",variant:"primary",children:"Apply Here"})]})]})}),(0,ce.jsx)(rA,{children:(0,ce.jsxs)(GN,{style:{width:"18rem"},children:[(0,ce.jsx)(GN.Img,{variant:"top",src:"https://scontent.fkhi22-1.fna.fbcdn.net/v/t39.30808-6/279103671_4636899553078687_7040392140300115878_n.jpg?_nc_cat=102&ccb=1-6&_nc_sid=730e14&_nc_ohc=omn9oAVfC7cAX9HfPJy&_nc_ht=scontent.fkhi22-1.fna&oh=00_AT-88-OkiVbppSDtqlORW_-EWsX7jkfxgbvP6Dfe6bcCug&oe=6284C6F5"}),(0,ce.jsxs)(GN.Body,{children:[(0,ce.jsx)(GN.Title,{children:"Certified Python Programming Course"}),(0,ce.jsx)(GN.Text,{children:'Dear Youth of Hyderabad (Male Only) We are going to announce Certified Python Programming Course (Highly Paid Programming Language of the World) . "Certified Python Programming Course" . Admission starting from 24th April 2022 to 7th May 2022'}),(0,ce.jsx)(Sr,{href:"/form",variant:"primary",children:"Apply Here"})]})]})})]})})}),(0,ce.jsx)("div",{})]})},aA=function(){return(0,ce.jsx)("div",{children:(0,ce.jsxs)("div",{className:"container",children:[(0,ce.jsx)("h1",{children:"Fill form"}),(0,ce.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=Dt(e.target.elements).reduce((function(e,t){return t.id&&(e[t.id]=t.value),e}),{});TN.collection("SurveyResponses").add(t)},children:[(0,ce.jsx)("h3",{children:"Name"}),(0,ce.jsx)("input",{type:"text",id:"name",placeholder:"Type Name"}),(0,ce.jsx)("h3",{children:"CNIC"}),(0,ce.jsx)("input",{type:"text",id:"cnic",placeholder:"Type CNIC"}),(0,ce.jsx)("h3",{children:"Ph No."}),(0,ce.jsx)("input",{type:"text",id:"ph no",placeholder:"Type Ph"}),(0,ce.jsx)("br",{}),(0,ce.jsx)("h3",{children:"Course"}),(0,ce.jsx)("input",{type:"text",id:"course",placeholder:"Type Course Name"}),(0,ce.jsx)("button",{children:"Submit"})]})]})})},oA=function(){var e=u((0,c.useState)(null),2),t=e[0],n=e[1];return t?(0,ce.jsx)(V,{to:"/dashboard"}):(0,ce.jsxs)(ce.Fragment,{children:[(0,ce.jsx)("h1",{children:"Sign Up"}),(0,ce.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=e.target.elements,r=t.email,i=t.password;try{SN.auth().createUserWithEmailAndPassword(r.value,i.value),n(!0)}catch(a){alert(a)}},children:[(0,ce.jsx)("label",{for:"email",children:"Email"}),(0,ce.jsx)("input",{type:"email",name:"email",placeholder:"Email"}),(0,ce.jsx)("label",{for:"password",children:"Password"}),(0,ce.jsx)("input",{type:"password",name:"password",placeholder:"Password"}),(0,ce.jsx)("button",{type:"submit",children:"Submit"})]})]})},uA=function(){return(0,c.useContext)(QN).currentUser?(0,ce.jsxs)("div",{children:[(0,ce.jsx)("h1",{children:"Welcome Student"}),(0,ce.jsx)("p",{children:"This is the dashboard, if you can see this you're logged in."}),(0,ce.jsx)("button",{onClick:function(){return SN.auth().signOut()},children:"Sign out"})]}):(0,ce.jsx)(V,{to:"/"})},sA=function(){return(0,c.useContext)(QN).currentUser?(0,ce.jsx)(V,{to:"/admin"}):(0,ce.jsxs)(ce.Fragment,{children:[(0,ce.jsx)("h1",{children:"Log In"}),(0,ce.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=e.target.elements,n=t.email,r=t.password;try{SN.auth().signInWithEmailAndPassword(n.value,r.value)}catch(i){alert(i)}},children:[(0,ce.jsx)("label",{for:"email",children:"Email"}),(0,ce.jsx)("input",{type:"email",name:"email",placeholder:"Email"}),(0,ce.jsx)("label",{for:"password",children:"Password"}),(0,ce.jsx)("input",{type:"password",name:"password",placeholder:"Password"}),(0,ce.jsx)("button",{type:"submit",children:"Submit"})]})]})};function cA(){return(0,ce.jsxs)("div",{children:[(0,ce.jsx)(YN,{children:(0,ce.jsx)(G,{children:(0,ce.jsx)(K,{children:(0,ce.jsxs)(z,{path:"/",element:(0,ce.jsx)(Ar,{}),children:[(0,ce.jsx)(z,{path:"admin",element:(0,ce.jsx)(CN,{})}),(0,ce.jsx)(z,{path:"dashboard",element:(0,ce.jsx)(uA,{})}),(0,ce.jsx)(z,{path:"feeds",element:(0,ce.jsx)(HN,{})}),(0,ce.jsx)(z,{path:"login",element:(0,ce.jsx)($N,{})}),(0,ce.jsx)(z,{path:"signup",element:(0,ce.jsx)(oA,{})}),(0,ce.jsx)(z,{path:"course",element:(0,ce.jsx)(iA,{})}),(0,ce.jsx)(z,{path:"form",element:(0,ce.jsx)(aA,{})}),(0,ce.jsx)(z,{path:"adminlogin",element:(0,ce.jsx)(sA,{})})]})})})}),(0,ce.jsx)("div",{children:(0,ce.jsx)("h4",{children:"Click On Show Posts to see Posts By Saylani Mass Training"})})]})}t.createRoot(document.getElementById("root")).render((0,ce.jsx)(cA,{}))}()}();
//# sourceMappingURL=main.407eceec.js.map